function KS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function QS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pf={exports:{}},Il={},kf={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function XS(){if(Yv)return Le;Yv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function M(j,X,ve){this.props=j,this.context=X,this.refs=F,this.updater=ve||A}M.prototype.isReactComponent={},M.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},M.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function q(){}q.prototype=M.prototype;function Y(j,X,ve){this.props=j,this.context=X,this.refs=F,this.updater=ve||A}var G=Y.prototype=new q;G.constructor=Y,O(G,M.prototype),G.isPureReactComponent=!0;var ne=Array.isArray,re=Object.prototype.hasOwnProperty,ae={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(j,X,ve){var _e,Ve={},Me=null,Se=null;if(X!=null)for(_e in X.ref!==void 0&&(Se=X.ref),X.key!==void 0&&(Me=""+X.key),X)re.call(X,_e)&&!R.hasOwnProperty(_e)&&(Ve[_e]=X[_e]);var Fe=arguments.length-2;if(Fe===1)Ve.children=ve;else if(1<Fe){for(var Ge=Array(Fe),wt=0;wt<Fe;wt++)Ge[wt]=arguments[wt+2];Ve.children=Ge}if(j&&j.defaultProps)for(_e in Fe=j.defaultProps,Fe)Ve[_e]===void 0&&(Ve[_e]=Fe[_e]);return{$$typeof:n,type:j,key:Me,ref:Se,props:Ve,_owner:ae.current}}function P(j,X){return{$$typeof:n,type:j.type,key:X,ref:j.ref,props:j.props,_owner:j._owner}}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function N(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ve){return X[ve]})}var L=/\/+/g;function C(j,X){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):X.toString(36)}function Ie(j,X,ve,_e,Ve){var Me=typeof j;(Me==="undefined"||Me==="boolean")&&(j=null);var Se=!1;if(j===null)Se=!0;else switch(Me){case"string":case"number":Se=!0;break;case"object":switch(j.$$typeof){case n:case e:Se=!0}}if(Se)return Se=j,Ve=Ve(Se),j=_e===""?"."+C(Se,0):_e,ne(Ve)?(ve="",j!=null&&(ve=j.replace(L,"$&/")+"/"),Ie(Ve,X,ve,"",function(wt){return wt})):Ve!=null&&(V(Ve)&&(Ve=P(Ve,ve+(!Ve.key||Se&&Se.key===Ve.key?"":(""+Ve.key).replace(L,"$&/")+"/")+j)),X.push(Ve)),1;if(Se=0,_e=_e===""?".":_e+":",ne(j))for(var Fe=0;Fe<j.length;Fe++){Me=j[Fe];var Ge=_e+C(Me,Fe);Se+=Ie(Me,X,ve,Ge,Ve)}else if(Ge=E(j),typeof Ge=="function")for(j=Ge.call(j),Fe=0;!(Me=j.next()).done;)Me=Me.value,Ge=_e+C(Me,Fe++),Se+=Ie(Me,X,ve,Ge,Ve);else if(Me==="object")throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Se}function We(j,X,ve){if(j==null)return j;var _e=[],Ve=0;return Ie(j,_e,"","",function(Me){return X.call(ve,Me,Ve++)}),_e}function je(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(ve){(j._status===0||j._status===-1)&&(j._status=1,j._result=ve)},function(ve){(j._status===0||j._status===-1)&&(j._status=2,j._result=ve)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var xe={current:null},W={transition:null},de={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:W,ReactCurrentOwner:ae};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:We,forEach:function(j,X,ve){We(j,function(){X.apply(this,arguments)},ve)},count:function(j){var X=0;return We(j,function(){X++}),X},toArray:function(j){return We(j,function(X){return X})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Le.Component=M,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=Y,Le.StrictMode=r,Le.Suspense=f,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Le.act=oe,Le.cloneElement=function(j,X,ve){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var _e=O({},j.props),Ve=j.key,Me=j.ref,Se=j._owner;if(X!=null){if(X.ref!==void 0&&(Me=X.ref,Se=ae.current),X.key!==void 0&&(Ve=""+X.key),j.type&&j.type.defaultProps)var Fe=j.type.defaultProps;for(Ge in X)re.call(X,Ge)&&!R.hasOwnProperty(Ge)&&(_e[Ge]=X[Ge]===void 0&&Fe!==void 0?Fe[Ge]:X[Ge])}var Ge=arguments.length-2;if(Ge===1)_e.children=ve;else if(1<Ge){Fe=Array(Ge);for(var wt=0;wt<Ge;wt++)Fe[wt]=arguments[wt+2];_e.children=Fe}return{$$typeof:n,type:j.type,key:Ve,ref:Me,props:_e,_owner:Se}},Le.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Le.createElement=I,Le.createFactory=function(j){var X=I.bind(null,j);return X.type=j,X},Le.createRef=function(){return{current:null}},Le.forwardRef=function(j){return{$$typeof:d,render:j}},Le.isValidElement=V,Le.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:je}},Le.memo=function(j,X){return{$$typeof:m,type:j,compare:X===void 0?null:X}},Le.startTransition=function(j){var X=W.transition;W.transition={};try{j()}finally{W.transition=X}},Le.unstable_act=oe,Le.useCallback=function(j,X){return xe.current.useCallback(j,X)},Le.useContext=function(j){return xe.current.useContext(j)},Le.useDebugValue=function(){},Le.useDeferredValue=function(j){return xe.current.useDeferredValue(j)},Le.useEffect=function(j,X){return xe.current.useEffect(j,X)},Le.useId=function(){return xe.current.useId()},Le.useImperativeHandle=function(j,X,ve){return xe.current.useImperativeHandle(j,X,ve)},Le.useInsertionEffect=function(j,X){return xe.current.useInsertionEffect(j,X)},Le.useLayoutEffect=function(j,X){return xe.current.useLayoutEffect(j,X)},Le.useMemo=function(j,X){return xe.current.useMemo(j,X)},Le.useReducer=function(j,X,ve){return xe.current.useReducer(j,X,ve)},Le.useRef=function(j){return xe.current.useRef(j)},Le.useState=function(j){return xe.current.useState(j)},Le.useSyncExternalStore=function(j,X,ve){return xe.current.useSyncExternalStore(j,X,ve)},Le.useTransition=function(){return xe.current.useTransition()},Le.version="18.3.1",Le}var Jv;function im(){return Jv||(Jv=1,kf.exports=XS()),kf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function YS(){if(Zv)return Il;Zv=1;var n=im(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var g,w={},E=null,A=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(A=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(w[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)w[g]===void 0&&(w[g]=f[g]);return{$$typeof:e,type:d,key:E,ref:A,props:w,_owner:o.current}}return Il.Fragment=t,Il.jsx=u,Il.jsxs=u,Il}var e0;function JS(){return e0||(e0=1,Pf.exports=YS()),Pf.exports}var S=JS(),Vc={},Cf={exports:{}},dn={},Rf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function ZS(){return t0||(t0=1,(function(n){function e(W,de){var oe=W.length;W.push(de);e:for(;0<oe;){var j=oe-1>>>1,X=W[j];if(0<o(X,de))W[j]=de,W[oe]=X,oe=j;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var de=W[0],oe=W.pop();if(oe!==de){W[0]=oe;e:for(var j=0,X=W.length,ve=X>>>1;j<ve;){var _e=2*(j+1)-1,Ve=W[_e],Me=_e+1,Se=W[Me];if(0>o(Ve,oe))Me<X&&0>o(Se,Ve)?(W[j]=Se,W[Me]=oe,j=Me):(W[j]=Ve,W[_e]=oe,j=_e);else if(Me<X&&0>o(Se,oe))W[j]=Se,W[Me]=oe,j=Me;else break e}}return de}function o(W,de){var oe=W.sortIndex-de.sortIndex;return oe!==0?oe:W.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],g=1,w=null,E=3,A=!1,O=!1,F=!1,M=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(W){for(var de=t(m);de!==null;){if(de.callback===null)r(m);else if(de.startTime<=W)r(m),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(m)}}function ne(W){if(F=!1,G(W),!O)if(t(f)!==null)O=!0,je(re);else{var de=t(m);de!==null&&xe(ne,de.startTime-W)}}function re(W,de){O=!1,F&&(F=!1,q(I),I=-1),A=!0;var oe=E;try{for(G(de),w=t(f);w!==null&&(!(w.expirationTime>de)||W&&!N());){var j=w.callback;if(typeof j=="function"){w.callback=null,E=w.priorityLevel;var X=j(w.expirationTime<=de);de=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&r(f),G(de)}else r(f);w=t(f)}if(w!==null)var ve=!0;else{var _e=t(m);_e!==null&&xe(ne,_e.startTime-de),ve=!1}return ve}finally{w=null,E=oe,A=!1}}var ae=!1,R=null,I=-1,P=5,V=-1;function N(){return!(n.unstable_now()-V<P)}function L(){if(R!==null){var W=n.unstable_now();V=W;var de=!0;try{de=R(!0,W)}finally{de?C():(ae=!1,R=null)}}else ae=!1}var C;if(typeof Y=="function")C=function(){Y(L)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,We=Ie.port2;Ie.port1.onmessage=L,C=function(){We.postMessage(null)}}else C=function(){M(L,0)};function je(W){R=W,ae||(ae=!0,C())}function xe(W,de){I=M(function(){W(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){O||A||(O=!0,je(re))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(W){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var oe=E;E=de;try{return W()}finally{E=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,de){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=E;E=W;try{return de()}finally{E=oe}},n.unstable_scheduleCallback=function(W,de,oe){var j=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?j+oe:j):oe=j,W){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,W={id:g++,callback:de,priorityLevel:W,startTime:oe,expirationTime:X,sortIndex:-1},oe>j?(W.sortIndex=oe,e(m,W),t(f)===null&&W===t(m)&&(F?(q(I),I=-1):F=!0,xe(ne,oe-j))):(W.sortIndex=X,e(f,W),O||A||(O=!0,je(re))),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var de=E;return function(){var oe=E;E=de;try{return W.apply(this,arguments)}finally{E=oe}}}})(bf)),bf}var n0;function eA(){return n0||(n0=1,Rf.exports=ZS()),Rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function tA(){if(r0)return dn;r0=1;var n=im(),e=eA();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function E(i){return f.call(w,i)?!0:f.call(g,i)?!1:m.test(i)?w[i]=!0:(g[i]=!0,!1)}function A(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function O(i,s,l,h){if(s===null||typeof s>"u"||A(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(i,s,l,h,p,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){M[i]=new F(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];M[s]=new F(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){M[i]=new F(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){M[i]=new F(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){M[i]=new F(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){M[i]=new F(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){M[i]=new F(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){M[i]=new F(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){M[i]=new F(i,5,!1,i.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function Y(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(q,Y);M[s]=new F(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(q,Y);M[s]=new F(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(q,Y);M[s]=new F(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){M[i]=new F(i,1,!1,i.toLowerCase(),null,!1,!1)}),M.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){M[i]=new F(i,1,!1,i.toLowerCase(),null,!0,!0)});function G(i,s,l,h){var p=M.hasOwnProperty(s)?M[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,l,p,h)&&(l=null),h||p===null?E(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),ae=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),W=Symbol.iterator;function de(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,j;function X(i){if(j===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+i}var ve=!1;function _e(i,s){if(!i||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(i,[],s)}else{try{s.call()}catch($){h=$}i.call(s.prototype)}else{try{throw Error()}catch($){h=$}i()}}catch($){if($&&h&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,k=y.length-1;1<=T&&0<=k&&p[T]!==y[k];)k--;for(;1<=T&&0<=k;T--,k--)if(p[T]!==y[k]){if(T!==1||k!==1)do if(T--,k--,0>k||p[T]!==y[k]){var b=`
`+p[T].replace(" at new "," at ");return i.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",i.displayName)),b}while(1<=T&&0<=k);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function Ve(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=_e(i.type,!1),i;case 11:return i=_e(i.type.render,!1),i;case 1:return i=_e(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case ae:return"Portal";case P:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case Ie:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case N:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case L:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case We:return s=i.displayName||null,s!==null?s:Me(i.type)||"Memo";case je:s=i._payload,i=i._init;try{return Me(i(s))}catch{}}return null}function Se(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ge(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wt(i){var s=Ge(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function tr(i){i._valueTracker||(i._valueTracker=wt(i))}function nr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=Ge(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function hi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function oo(i,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function vu(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Fe(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ao(i,s){s=s.checked,s!=null&&G(i,"checked",s,!1)}function us(i,s){ao(i,s);var l=Fe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Tt(i,s.type,l):s.hasOwnProperty("defaultValue")&&Tt(i,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function Ra(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Tt(i,s,l){(s!=="number"||hi(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var mt=Array.isArray;function Fn(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Fe(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function ba(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Na(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(mt(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Fe(l)}}function _u(i,s){var l=Fe(s.value),h=Fe(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function di(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Va(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Va(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var fi,wu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,p)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(fi=fi||document.createElement("div"),fi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=fi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function cs(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tu=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(i){Tu.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),pi[s]=pi[i]})});function mi(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||pi.hasOwnProperty(i)&&pi[i]?(""+s).trim():s+"px"}function uo(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=mi(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var Da=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(i,s){if(s){if(Da[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function co(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gi=null;function ho(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mr=null,Or=null,ht=null;function Ma(i){if(i=ll(i)){if(typeof Mr!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Ku(s),Mr(i.stateNode,i.type,s))}}function yi(i){Or?ht?ht.push(i):ht=[i]:Or=i}function vi(){if(Or){var i=Or,s=ht;if(ht=Or=null,Ma(i),s)for(i=0;i<s.length;i++)Ma(s[i])}}function Eu(i,s){return i(s)}function Iu(){}var rr=!1;function xu(i,s,l){if(rr)return i(s,l);rr=!0;try{return Eu(i,s,l)}finally{rr=!1,(Or!==null||ht!==null)&&(Iu(),vi())}}function hs(i,s){var l=i.stateNode;if(l===null)return null;var h=Ku(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var _i=!1;if(d)try{var wi={};Object.defineProperty(wi,"passive",{get:function(){_i=!0}}),window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{_i=!1}function Su(i,s,l,h,p,y,T,k,b){var $=Array.prototype.slice.call(arguments,3);try{s.apply(l,$)}catch(Z){this.onError(Z)}}var Lr=!1,ir=null,fo=!1,xn=null,Au={onError:function(i){Lr=!0,ir=i}};function Pu(i,s,l,h,p,y,T,k,b){Lr=!1,ir=null,Su.apply(Au,arguments)}function Oa(i,s,l,h,p,y,T,k,b){if(Pu.apply(this,arguments),Lr){if(Lr){var $=ir;Lr=!1,ir=null}else throw Error(t(198));fo||(fo=!0,xn=$)}}function Bn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function La(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function ku(i){if(Bn(i)!==i)throw Error(t(188))}function Cu(i){var s=i.alternate;if(!s){if(s=Bn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return ku(p),i;if(y===h)return ku(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var T=!1,k=p.child;k;){if(k===l){T=!0,l=p,h=y;break}if(k===h){T=!0,h=p,l=y;break}k=k.sibling}if(!T){for(k=y.child;k;){if(k===l){T=!0,l=y,h=p;break}if(k===h){T=!0,h=y,l=p;break}k=k.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Ru(i){return i=Cu(i),i!==null?ds(i):null}function ds(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ds(i);if(s!==null)return s;i=i.sibling}return null}var ja=e.unstable_scheduleCallback,po=e.unstable_cancelCallback,fs=e.unstable_shouldYield,jr=e.unstable_requestPaint,tt=e.unstable_now,rd=e.unstable_getCurrentPriorityLevel,mo=e.unstable_ImmediatePriority,Fa=e.unstable_UserBlockingPriority,ps=e.unstable_NormalPriority,Ua=e.unstable_LowPriority,go=e.unstable_IdlePriority,ms=null,mn=null;function bu(i){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(ms,i,void 0,(i.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:gs,sr=Math.log,Sn=Math.LN2;function gs(i){return i>>>=0,i===0?32:31-(sr(i)/Sn|0)|0}var or=64,Ti=4194304;function Qe(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Fr(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var k=T&~p;k!==0?h=Qe(k):(y&=T,y!==0&&(h=Qe(y)))}else T=l&~p,T!==0?h=Qe(T):y!==0&&(h=Qe(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-gn(s),p=1<<l,h|=i[l],s&=~p;return h}function ys(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vs(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-gn(y),k=1<<T,b=p[T];b===-1?((k&l)===0||(k&h)!==0)&&(p[T]=ys(k,s)):b<=s&&(i.expiredLanes|=k),y&=~k}}function Ba(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function za(){var i=or;return or<<=1,(or&4194240)===0&&(or=64),i}function $a(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function _s(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-gn(s),i[s]=l}function id(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-gn(l),y=1<<p;s[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function Ha(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-gn(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}var $e=0;function ar(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Wa,yo,qa,Ga,Ka,lr=!1,vo=[],ur=null,cr=null,Lt=null,ws=new Map,Ur=new Map,yn=[],Nu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ei(i,s){switch(i){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":ws.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(s.pointerId)}}function zn(i,s,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=ll(s),s!==null&&yo(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function Vu(i,s,l,h,p){switch(s){case"focusin":return ur=zn(ur,i,s,l,h,p),!0;case"dragenter":return cr=zn(cr,i,s,l,h,p),!0;case"mouseover":return Lt=zn(Lt,i,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return ws.set(y,zn(ws.get(y)||null,i,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Ur.set(y,zn(Ur.get(y)||null,i,s,l,h,p)),!0}return!1}function _o(i){var s=xs(i.target);if(s!==null){var l=Bn(s);if(l!==null){if(s=l.tag,s===13){if(s=La(l),s!==null){i.blockedOn=s,Ka(i.priority,function(){qa(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Je(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=wo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);gi=h,l.target.dispatchEvent(h),gi=null}else return s=ll(l),s!==null&&yo(s),i.blockedOn=l,!1;s.shift()}return!0}function Du(i,s,l){Je(i)&&l.delete(s)}function sd(){lr=!1,ur!==null&&Je(ur)&&(ur=null),cr!==null&&Je(cr)&&(cr=null),Lt!==null&&Je(Lt)&&(Lt=null),ws.forEach(Du),Ur.forEach(Du)}function Ii(i,s){i.blockedOn===s&&(i.blockedOn=null,lr||(lr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sd)))}function xi(i){function s(p){return Ii(p,i)}if(0<vo.length){Ii(vo[0],i);for(var l=1;l<vo.length;l++){var h=vo[l];h.blockedOn===i&&(h.blockedOn=null)}}for(ur!==null&&Ii(ur,i),cr!==null&&Ii(cr,i),Lt!==null&&Ii(Lt,i),ws.forEach(s),Ur.forEach(s),l=0;l<yn.length;l++)h=yn[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<yn.length&&(l=yn[0],l.blockedOn===null);)_o(l),l.blockedOn===null&&yn.shift()}var Br=ne.ReactCurrentBatchConfig,zr=!0;function hr(i,s,l,h){var p=$e,y=Br.transition;Br.transition=null;try{$e=1,Qa(i,s,l,h)}finally{$e=p,Br.transition=y}}function Mu(i,s,l,h){var p=$e,y=Br.transition;Br.transition=null;try{$e=4,Qa(i,s,l,h)}finally{$e=p,Br.transition=y}}function Qa(i,s,l,h){if(zr){var p=wo(i,s,l,h);if(p===null)gd(i,s,h,dr,l),Ei(i,h);else if(Vu(p,i,s,l,h))h.stopPropagation();else if(Ei(i,h),s&4&&-1<Nu.indexOf(i)){for(;p!==null;){var y=ll(p);if(y!==null&&Wa(y),y=wo(i,s,l,h),y===null&&gd(i,s,h,dr,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else gd(i,s,h,null,l)}}var dr=null;function wo(i,s,l,h){if(dr=null,i=ho(h),i=xs(i),i!==null)if(s=Bn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=La(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return dr=i,null}function To(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rd()){case mo:return 1;case Fa:return 4;case ps:case Ua:return 16;case go:return 536870912;default:return 16}default:return 16}}var vn=null,Eo=null,$r=null;function Ou(){if($r)return $r;var i,s=Eo,l=s.length,h,p="value"in vn?vn.value:vn.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var T=l-i;for(h=1;h<=T&&s[l-h]===p[y-h];h++);return $r=p.slice(i,1<h?1-h:void 0)}function Ts(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function fr(){return!0}function Xa(){return!1}function Wt(i){function s(l,h,p,y,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?fr:Xa,this.isPropagationStopped=Xa,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),s}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=Wt(pr),Si=oe({},pr,{view:0,detail:0}),Io=Wt(Si),xo,So,_n,Is=oe({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:be,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_n&&(_n&&i.type==="mousemove"?(xo=i.screenX-_n.screenX,So=i.screenY-_n.screenY):So=xo=0,_n=i),xo)},movementY:function(i){return"movementY"in i?i.movementY:So}}),Ya=Wt(Is),Lu=oe({},Is,{dataTransfer:0}),ju=Wt(Lu),Ao=oe({},Si,{relatedTarget:0}),jt=Wt(Ao),Fu=oe({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Wt(Fu),Ai=oe({},pr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c=Wt(Ai),v=oe({},pr,{data:0}),_=Wt(v),x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function se(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=H[i])?!!s[i]:!1}function be(){return se}var gt=oe({},Si,{key:function(i){if(i.key){var s=x[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ts(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?B[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:be,charCode:function(i){return i.type==="keypress"?Ts(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ts(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ye=Wt(gt),Et=oe({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wn=Wt(Et),Hr=oe({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:be}),mr=Wt(Hr),gr=oe({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Po=Wt(gr),Ja=oe({},Is,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zx=Wt(Ja),$x=[9,13,27,32],od=d&&"CompositionEvent"in window,Za=null;d&&"documentMode"in document&&(Za=document.documentMode);var Hx=d&&"TextEvent"in window&&!Za,$g=d&&(!od||Za&&8<Za&&11>=Za),Hg=" ",Wg=!1;function qg(i,s){switch(i){case"keyup":return $x.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ko=!1;function Wx(i,s){switch(i){case"compositionend":return Gg(s);case"keypress":return s.which!==32?null:(Wg=!0,Hg);case"textInput":return i=s.data,i===Hg&&Wg?null:i;default:return null}}function qx(i,s){if(ko)return i==="compositionend"||!od&&qg(i,s)?(i=Ou(),$r=Eo=vn=null,ko=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $g&&s.locale!=="ko"?null:s.data;default:return null}}var Gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Gx[i.type]:s==="textarea"}function Qg(i,s,l,h){yi(h),s=Wu(s,"onChange"),0<s.length&&(l=new Es("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var el=null,tl=null;function Kx(i){fy(i,0)}function Bu(i){var s=Vo(i);if(nr(s))return i}function Qx(i,s){if(i==="change")return s}var Xg=!1;if(d){var ad;if(d){var ld="oninput"in document;if(!ld){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),ld=typeof Yg.oninput=="function"}ad=ld}else ad=!1;Xg=ad&&(!document.documentMode||9<document.documentMode)}function Jg(){el&&(el.detachEvent("onpropertychange",Zg),tl=el=null)}function Zg(i){if(i.propertyName==="value"&&Bu(tl)){var s=[];Qg(s,tl,i,ho(i)),xu(Kx,s)}}function Xx(i,s,l){i==="focusin"?(Jg(),el=s,tl=l,el.attachEvent("onpropertychange",Zg)):i==="focusout"&&Jg()}function Yx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bu(tl)}function Jx(i,s){if(i==="click")return Bu(s)}function Zx(i,s){if(i==="input"||i==="change")return Bu(s)}function eS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var $n=typeof Object.is=="function"?Object.is:eS;function nl(i,s){if($n(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!$n(i[p],s[p]))return!1}return!0}function ey(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ty(i,s){var l=ey(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ey(l)}}function ny(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ny(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function ry(){for(var i=window,s=hi();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=hi(i.document)}return s}function ud(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function tS(i){var s=ry(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&ny(l.ownerDocument.documentElement,l)){if(h!==null&&ud(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=ty(l,y);var T=ty(l,h);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var nS=d&&"documentMode"in document&&11>=document.documentMode,Co=null,cd=null,rl=null,hd=!1;function iy(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hd||Co==null||Co!==hi(h)||(h=Co,"selectionStart"in h&&ud(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),rl&&nl(rl,h)||(rl=h,h=Wu(cd,"onSelect"),0<h.length&&(s=new Es("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Co)))}function zu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Ro={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},dd={},sy={};d&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function $u(i){if(dd[i])return dd[i];if(!Ro[i])return i;var s=Ro[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in sy)return dd[i]=s[l];return i}var oy=$u("animationend"),ay=$u("animationiteration"),ly=$u("animationstart"),uy=$u("transitionend"),cy=new Map,hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(i,s){cy.set(i,s),a(s,[i])}for(var fd=0;fd<hy.length;fd++){var pd=hy[fd],rS=pd.toLowerCase(),iS=pd[0].toUpperCase()+pd.slice(1);Pi(rS,"on"+iS)}Pi(oy,"onAnimationEnd"),Pi(ay,"onAnimationIteration"),Pi(ly,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(uy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sS=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function dy(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,Oa(h,s,void 0,i),i.currentTarget=null}function fy(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var k=h[T],b=k.instance,$=k.currentTarget;if(k=k.listener,b!==y&&p.isPropagationStopped())break e;dy(p,k,$),y=b}else for(T=0;T<h.length;T++){if(k=h[T],b=k.instance,$=k.currentTarget,k=k.listener,b!==y&&p.isPropagationStopped())break e;dy(p,k,$),y=b}}}if(fo)throw i=xn,fo=!1,xn=null,i}function nt(i,s){var l=s[Ed];l===void 0&&(l=s[Ed]=new Set);var h=i+"__bubble";l.has(h)||(py(s,i,2,!1),l.add(h))}function md(i,s,l){var h=0;s&&(h|=4),py(l,i,h,s)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function sl(i){if(!i[Hu]){i[Hu]=!0,r.forEach(function(l){l!=="selectionchange"&&(sS.has(l)||md(l,!1,i),md(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Hu]||(s[Hu]=!0,md("selectionchange",!1,s))}}function py(i,s,l,h){switch(To(s)){case 1:var p=hr;break;case 4:p=Mu;break;default:p=Qa}l=p.bind(null,s,l,i),p=void 0,!_i||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function gd(i,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var k=h.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var b=T.tag;if((b===3||b===4)&&(b=T.stateNode.containerInfo,b===p||b.nodeType===8&&b.parentNode===p))return;T=T.return}for(;k!==null;){if(T=xs(k),T===null)return;if(b=T.tag,b===5||b===6){h=y=T;continue e}k=k.parentNode}}h=h.return}xu(function(){var $=y,Z=ho(l),ee=[];e:{var J=cy.get(i);if(J!==void 0){var ue=Es,fe=i;switch(i){case"keypress":if(Ts(l)===0)break e;case"keydown":case"keyup":ue=Ye;break;case"focusin":fe="focus",ue=jt;break;case"focusout":fe="blur",ue=jt;break;case"beforeblur":case"afterblur":ue=jt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=mr;break;case oy:case ay:case ly:ue=Uu;break;case uy:ue=Po;break;case"scroll":ue=Io;break;case"wheel":ue=zx;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=wn}var ge=(s&4)!==0,yt=!ge&&i==="scroll",U=ge?J!==null?J+"Capture":null:J;ge=[];for(var D=$,z;D!==null;){z=D;var ie=z.stateNode;if(z.tag===5&&ie!==null&&(z=ie,U!==null&&(ie=hs(D,U),ie!=null&&ge.push(ol(D,ie,z)))),yt)break;D=D.return}0<ge.length&&(J=new ue(J,fe,null,l,Z),ee.push({event:J,listeners:ge}))}}if((s&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",J&&l!==gi&&(fe=l.relatedTarget||l.fromElement)&&(xs(fe)||fe[Wr]))break e;if((ue||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(fe=l.relatedTarget||l.toElement,ue=$,fe=fe?xs(fe):null,fe!==null&&(yt=Bn(fe),fe!==yt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=$),ue!==fe)){if(ge=Ya,ie="onMouseLeave",U="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(ge=wn,ie="onPointerLeave",U="onPointerEnter",D="pointer"),yt=ue==null?J:Vo(ue),z=fe==null?J:Vo(fe),J=new ge(ie,D+"leave",ue,l,Z),J.target=yt,J.relatedTarget=z,ie=null,xs(Z)===$&&(ge=new ge(U,D+"enter",fe,l,Z),ge.target=z,ge.relatedTarget=yt,ie=ge),yt=ie,ue&&fe)t:{for(ge=ue,U=fe,D=0,z=ge;z;z=bo(z))D++;for(z=0,ie=U;ie;ie=bo(ie))z++;for(;0<D-z;)ge=bo(ge),D--;for(;0<z-D;)U=bo(U),z--;for(;D--;){if(ge===U||U!==null&&ge===U.alternate)break t;ge=bo(ge),U=bo(U)}ge=null}else ge=null;ue!==null&&my(ee,J,ue,ge,!1),fe!==null&&yt!==null&&my(ee,yt,fe,ge,!0)}}e:{if(J=$?Vo($):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var ye=Qx;else if(Kg(J))if(Xg)ye=Zx;else{ye=Yx;var Te=Xx}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ye=Jx);if(ye&&(ye=ye(i,$))){Qg(ee,ye,l,Z);break e}Te&&Te(i,J,$),i==="focusout"&&(Te=J._wrapperState)&&Te.controlled&&J.type==="number"&&Tt(J,"number",J.value)}switch(Te=$?Vo($):window,i){case"focusin":(Kg(Te)||Te.contentEditable==="true")&&(Co=Te,cd=$,rl=null);break;case"focusout":rl=cd=Co=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,iy(ee,l,Z);break;case"selectionchange":if(nS)break;case"keydown":case"keyup":iy(ee,l,Z)}var Ee;if(od)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ko?qg(i,l)&&(ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&($g&&l.locale!=="ko"&&(ko||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ko&&(Ee=Ou()):(vn=Z,Eo="value"in vn?vn.value:vn.textContent,ko=!0)),Te=Wu($,ke),0<Te.length&&(ke=new _(ke,i,null,l,Z),ee.push({event:ke,listeners:Te}),Ee?ke.data=Ee:(Ee=Gg(l),Ee!==null&&(ke.data=Ee)))),(Ee=Hx?Wx(i,l):qx(i,l))&&($=Wu($,"onBeforeInput"),0<$.length&&(Z=new _("onBeforeInput","beforeinput",null,l,Z),ee.push({event:Z,listeners:$}),Z.data=Ee))}fy(ee,s)})}function ol(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Wu(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=hs(i,l),y!=null&&h.unshift(ol(i,y,p)),y=hs(i,s),y!=null&&h.push(ol(i,y,p))),i=i.return}return h}function bo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function my(i,s,l,h,p){for(var y=s._reactName,T=[];l!==null&&l!==h;){var k=l,b=k.alternate,$=k.stateNode;if(b!==null&&b===h)break;k.tag===5&&$!==null&&(k=$,p?(b=hs(l,y),b!=null&&T.unshift(ol(l,b,k))):p||(b=hs(l,y),b!=null&&T.push(ol(l,b,k)))),l=l.return}T.length!==0&&i.push({event:s,listeners:T})}var oS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function gy(i){return(typeof i=="string"?i:""+i).replace(oS,`
`).replace(aS,"")}function qu(i,s,l){if(s=gy(s),gy(i)!==s&&l)throw Error(t(425))}function Gu(){}var yd=null,vd=null;function _d(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,uS=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(i){return yy.resolve(null).then(i).catch(cS)}:wd;function cS(i){setTimeout(function(){throw i})}function Td(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),xi(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);xi(s)}function ki(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function vy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var No=Math.random().toString(36).slice(2),yr="__reactFiber$"+No,al="__reactProps$"+No,Wr="__reactContainer$"+No,Ed="__reactEvents$"+No,hS="__reactListeners$"+No,dS="__reactHandles$"+No;function xs(i){var s=i[yr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Wr]||l[yr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=vy(i);i!==null;){if(l=i[yr])return l;i=vy(i)}return s}i=l,l=i.parentNode}return null}function ll(i){return i=i[yr]||i[Wr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Vo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Ku(i){return i[al]||null}var Id=[],Do=-1;function Ci(i){return{current:i}}function rt(i){0>Do||(i.current=Id[Do],Id[Do]=null,Do--)}function Ze(i,s){Do++,Id[Do]=i.current,i.current=s}var Ri={},qt=Ci(Ri),an=Ci(!1),Ss=Ri;function Mo(i,s){var l=i.type.contextTypes;if(!l)return Ri;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function ln(i){return i=i.childContextTypes,i!=null}function Qu(){rt(an),rt(qt)}function _y(i,s,l){if(qt.current!==Ri)throw Error(t(168));Ze(qt,s),Ze(an,l)}function wy(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Se(i)||"Unknown",p));return oe({},l,h)}function Xu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ri,Ss=qt.current,Ze(qt,i),Ze(an,an.current),!0}function Ty(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=wy(i,s,Ss),h.__reactInternalMemoizedMergedChildContext=i,rt(an),rt(qt),Ze(qt,i)):rt(an),Ze(an,l)}var qr=null,Yu=!1,xd=!1;function Ey(i){qr===null?qr=[i]:qr.push(i)}function fS(i){Yu=!0,Ey(i)}function bi(){if(!xd&&qr!==null){xd=!0;var i=0,s=$e;try{var l=qr;for($e=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}qr=null,Yu=!1}catch(p){throw qr!==null&&(qr=qr.slice(i+1)),ja(mo,bi),p}finally{$e=s,xd=!1}}return null}var Oo=[],Lo=0,Ju=null,Zu=0,An=[],Pn=0,As=null,Gr=1,Kr="";function Ps(i,s){Oo[Lo++]=Zu,Oo[Lo++]=Ju,Ju=i,Zu=s}function Iy(i,s,l){An[Pn++]=Gr,An[Pn++]=Kr,An[Pn++]=As,As=i;var h=Gr;i=Kr;var p=32-gn(h)-1;h&=~(1<<p),l+=1;var y=32-gn(s)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Gr=1<<32-gn(s)+p|l<<p|h,Kr=y+i}else Gr=1<<y|l<<p|h,Kr=i}function Sd(i){i.return!==null&&(Ps(i,1),Iy(i,1,0))}function Ad(i){for(;i===Ju;)Ju=Oo[--Lo],Oo[Lo]=null,Zu=Oo[--Lo],Oo[Lo]=null;for(;i===As;)As=An[--Pn],An[Pn]=null,Kr=An[--Pn],An[Pn]=null,Gr=An[--Pn],An[Pn]=null}var Tn=null,En=null,st=!1,Hn=null;function xy(i,s){var l=bn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Sy(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Tn=i,En=ki(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Tn=i,En=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=As!==null?{id:Gr,overflow:Kr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=bn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,Tn=i,En=null,!0):!1;default:return!1}}function Pd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function kd(i){if(st){var s=En;if(s){var l=s;if(!Sy(i,s)){if(Pd(i))throw Error(t(418));s=ki(l.nextSibling);var h=Tn;s&&Sy(i,s)?xy(h,l):(i.flags=i.flags&-4097|2,st=!1,Tn=i)}}else{if(Pd(i))throw Error(t(418));i.flags=i.flags&-4097|2,st=!1,Tn=i}}}function Ay(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Tn=i}function ec(i){if(i!==Tn)return!1;if(!st)return Ay(i),st=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!_d(i.type,i.memoizedProps)),s&&(s=En)){if(Pd(i))throw Py(),Error(t(418));for(;s;)xy(i,s),s=ki(s.nextSibling)}if(Ay(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){En=ki(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}En=null}}else En=Tn?ki(i.stateNode.nextSibling):null;return!0}function Py(){for(var i=En;i;)i=ki(i.nextSibling)}function jo(){En=Tn=null,st=!1}function Cd(i){Hn===null?Hn=[i]:Hn.push(i)}var pS=ne.ReactCurrentBatchConfig;function ul(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var k=p.refs;T===null?delete k[y]:k[y]=T},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function tc(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function ky(i){var s=i._init;return s(i._payload)}function Cy(i){function s(U,D){if(i){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function l(U,D){if(!i)return null;for(;D!==null;)s(U,D),D=D.sibling;return null}function h(U,D){for(U=new Map;D!==null;)D.key!==null?U.set(D.key,D):U.set(D.index,D),D=D.sibling;return U}function p(U,D){return U=Fi(U,D),U.index=0,U.sibling=null,U}function y(U,D,z){return U.index=z,i?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=2,D):z):(U.flags|=2,D)):(U.flags|=1048576,D)}function T(U){return i&&U.alternate===null&&(U.flags|=2),U}function k(U,D,z,ie){return D===null||D.tag!==6?(D=Tf(z,U.mode,ie),D.return=U,D):(D=p(D,z),D.return=U,D)}function b(U,D,z,ie){var ye=z.type;return ye===R?Z(U,D,z.props.children,ie,z.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===je&&ky(ye)===D.type)?(ie=p(D,z.props),ie.ref=ul(U,D,z),ie.return=U,ie):(ie=Sc(z.type,z.key,z.props,null,U.mode,ie),ie.ref=ul(U,D,z),ie.return=U,ie)}function $(U,D,z,ie){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Ef(z,U.mode,ie),D.return=U,D):(D=p(D,z.children||[]),D.return=U,D)}function Z(U,D,z,ie,ye){return D===null||D.tag!==7?(D=Ms(z,U.mode,ie,ye),D.return=U,D):(D=p(D,z),D.return=U,D)}function ee(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Tf(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case re:return z=Sc(D.type,D.key,D.props,null,U.mode,z),z.ref=ul(U,null,D),z.return=U,z;case ae:return D=Ef(D,U.mode,z),D.return=U,D;case je:var ie=D._init;return ee(U,ie(D._payload),z)}if(mt(D)||de(D))return D=Ms(D,U.mode,z,null),D.return=U,D;tc(U,D)}return null}function J(U,D,z,ie){var ye=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ye!==null?null:k(U,D,""+z,ie);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case re:return z.key===ye?b(U,D,z,ie):null;case ae:return z.key===ye?$(U,D,z,ie):null;case je:return ye=z._init,J(U,D,ye(z._payload),ie)}if(mt(z)||de(z))return ye!==null?null:Z(U,D,z,ie,null);tc(U,z)}return null}function ue(U,D,z,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return U=U.get(z)||null,k(D,U,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case re:return U=U.get(ie.key===null?z:ie.key)||null,b(D,U,ie,ye);case ae:return U=U.get(ie.key===null?z:ie.key)||null,$(D,U,ie,ye);case je:var Te=ie._init;return ue(U,D,z,Te(ie._payload),ye)}if(mt(ie)||de(ie))return U=U.get(z)||null,Z(D,U,ie,ye,null);tc(D,ie)}return null}function fe(U,D,z,ie){for(var ye=null,Te=null,Ee=D,ke=D=0,Mt=null;Ee!==null&&ke<z.length;ke++){Ee.index>ke?(Mt=Ee,Ee=null):Mt=Ee.sibling;var Ke=J(U,Ee,z[ke],ie);if(Ke===null){Ee===null&&(Ee=Mt);break}i&&Ee&&Ke.alternate===null&&s(U,Ee),D=y(Ke,D,ke),Te===null?ye=Ke:Te.sibling=Ke,Te=Ke,Ee=Mt}if(ke===z.length)return l(U,Ee),st&&Ps(U,ke),ye;if(Ee===null){for(;ke<z.length;ke++)Ee=ee(U,z[ke],ie),Ee!==null&&(D=y(Ee,D,ke),Te===null?ye=Ee:Te.sibling=Ee,Te=Ee);return st&&Ps(U,ke),ye}for(Ee=h(U,Ee);ke<z.length;ke++)Mt=ue(Ee,U,ke,z[ke],ie),Mt!==null&&(i&&Mt.alternate!==null&&Ee.delete(Mt.key===null?ke:Mt.key),D=y(Mt,D,ke),Te===null?ye=Mt:Te.sibling=Mt,Te=Mt);return i&&Ee.forEach(function(Ui){return s(U,Ui)}),st&&Ps(U,ke),ye}function ge(U,D,z,ie){var ye=de(z);if(typeof ye!="function")throw Error(t(150));if(z=ye.call(z),z==null)throw Error(t(151));for(var Te=ye=null,Ee=D,ke=D=0,Mt=null,Ke=z.next();Ee!==null&&!Ke.done;ke++,Ke=z.next()){Ee.index>ke?(Mt=Ee,Ee=null):Mt=Ee.sibling;var Ui=J(U,Ee,Ke.value,ie);if(Ui===null){Ee===null&&(Ee=Mt);break}i&&Ee&&Ui.alternate===null&&s(U,Ee),D=y(Ui,D,ke),Te===null?ye=Ui:Te.sibling=Ui,Te=Ui,Ee=Mt}if(Ke.done)return l(U,Ee),st&&Ps(U,ke),ye;if(Ee===null){for(;!Ke.done;ke++,Ke=z.next())Ke=ee(U,Ke.value,ie),Ke!==null&&(D=y(Ke,D,ke),Te===null?ye=Ke:Te.sibling=Ke,Te=Ke);return st&&Ps(U,ke),ye}for(Ee=h(U,Ee);!Ke.done;ke++,Ke=z.next())Ke=ue(Ee,U,ke,Ke.value,ie),Ke!==null&&(i&&Ke.alternate!==null&&Ee.delete(Ke.key===null?ke:Ke.key),D=y(Ke,D,ke),Te===null?ye=Ke:Te.sibling=Ke,Te=Ke);return i&&Ee.forEach(function(GS){return s(U,GS)}),st&&Ps(U,ke),ye}function yt(U,D,z,ie){if(typeof z=="object"&&z!==null&&z.type===R&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case re:e:{for(var ye=z.key,Te=D;Te!==null;){if(Te.key===ye){if(ye=z.type,ye===R){if(Te.tag===7){l(U,Te.sibling),D=p(Te,z.props.children),D.return=U,U=D;break e}}else if(Te.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===je&&ky(ye)===Te.type){l(U,Te.sibling),D=p(Te,z.props),D.ref=ul(U,Te,z),D.return=U,U=D;break e}l(U,Te);break}else s(U,Te);Te=Te.sibling}z.type===R?(D=Ms(z.props.children,U.mode,ie,z.key),D.return=U,U=D):(ie=Sc(z.type,z.key,z.props,null,U.mode,ie),ie.ref=ul(U,D,z),ie.return=U,U=ie)}return T(U);case ae:e:{for(Te=z.key;D!==null;){if(D.key===Te)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){l(U,D.sibling),D=p(D,z.children||[]),D.return=U,U=D;break e}else{l(U,D);break}else s(U,D);D=D.sibling}D=Ef(z,U.mode,ie),D.return=U,U=D}return T(U);case je:return Te=z._init,yt(U,D,Te(z._payload),ie)}if(mt(z))return fe(U,D,z,ie);if(de(z))return ge(U,D,z,ie);tc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(l(U,D.sibling),D=p(D,z),D.return=U,U=D):(l(U,D),D=Tf(z,U.mode,ie),D.return=U,U=D),T(U)):l(U,D)}return yt}var Fo=Cy(!0),Ry=Cy(!1),nc=Ci(null),rc=null,Uo=null,Rd=null;function bd(){Rd=Uo=rc=null}function Nd(i){var s=nc.current;rt(nc),i._currentValue=s}function Vd(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Bo(i,s){rc=i,Rd=Uo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(un=!0),i.firstContext=null)}function kn(i){var s=i._currentValue;if(Rd!==i)if(i={context:i,memoizedValue:s,next:null},Uo===null){if(rc===null)throw Error(t(308));Uo=i,rc.dependencies={lanes:0,firstContext:i}}else Uo=Uo.next=i;return s}var ks=null;function Dd(i){ks===null?ks=[i]:ks.push(i)}function by(i,s,l,h){var p=s.interleaved;return p===null?(l.next=l,Dd(s)):(l.next=p.next,p.next=l),s.interleaved=l,Qr(i,h)}function Qr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ni=!1;function Md(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ny(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Xr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Vi(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(qe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Qr(i,l)}return p=h.interleaved,p===null?(s.next=s,Dd(h)):(s.next=p.next,p.next=s),h.interleaved=s,Qr(i,l)}function ic(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Ha(i,l)}}function Vy(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function sc(i,s,l,h){var p=i.updateQueue;Ni=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var b=k,$=b.next;b.next=null,T===null?y=$:T.next=$,T=b;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,k=Z.lastBaseUpdate,k!==T&&(k===null?Z.firstBaseUpdate=$:k.next=$,Z.lastBaseUpdate=b))}if(y!==null){var ee=p.baseState;T=0,Z=$=b=null,k=y;do{var J=k.lane,ue=k.eventTime;if((h&J)===J){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var fe=i,ge=k;switch(J=s,ue=l,ge.tag){case 1:if(fe=ge.payload,typeof fe=="function"){ee=fe.call(ue,ee,J);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ge.payload,J=typeof fe=="function"?fe.call(ue,ee,J):fe,J==null)break e;ee=oe({},ee,J);break e;case 2:Ni=!0}}k.callback!==null&&k.lane!==0&&(i.flags|=64,J=p.effects,J===null?p.effects=[k]:J.push(k))}else ue={eventTime:ue,lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Z===null?($=Z=ue,b=ee):Z=Z.next=ue,T|=J;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;J=k,k=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);if(Z===null&&(b=ee),p.baseState=b,p.firstBaseUpdate=$,p.lastBaseUpdate=Z,s=p.shared.interleaved,s!==null){p=s;do T|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);bs|=T,i.lanes=T,i.memoizedState=ee}}function Dy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var cl={},vr=Ci(cl),hl=Ci(cl),dl=Ci(cl);function Cs(i){if(i===cl)throw Error(t(174));return i}function Od(i,s){switch(Ze(dl,s),Ze(hl,i),Ze(vr,cl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lo(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=lo(s,i)}rt(vr),Ze(vr,s)}function zo(){rt(vr),rt(hl),rt(dl)}function My(i){Cs(dl.current);var s=Cs(vr.current),l=lo(s,i.type);s!==l&&(Ze(hl,i),Ze(vr,l))}function Ld(i){hl.current===i&&(rt(vr),rt(hl))}var at=Ci(0);function oc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jd=[];function Fd(){for(var i=0;i<jd.length;i++)jd[i]._workInProgressVersionPrimary=null;jd.length=0}var ac=ne.ReactCurrentDispatcher,Ud=ne.ReactCurrentBatchConfig,Rs=0,lt=null,Ct=null,Vt=null,lc=!1,fl=!1,pl=0,mS=0;function Gt(){throw Error(t(321))}function Bd(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!$n(i[l],s[l]))return!1;return!0}function zd(i,s,l,h,p,y){if(Rs=y,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ac.current=i===null||i.memoizedState===null?_S:wS,i=l(h,p),fl){y=0;do{if(fl=!1,pl=0,25<=y)throw Error(t(301));y+=1,Vt=Ct=null,s.updateQueue=null,ac.current=TS,i=l(h,p)}while(fl)}if(ac.current=hc,s=Ct!==null&&Ct.next!==null,Rs=0,Vt=Ct=lt=null,lc=!1,s)throw Error(t(300));return i}function $d(){var i=pl!==0;return pl=0,i}function _r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?lt.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function Cn(){if(Ct===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var s=Vt===null?lt.memoizedState:Vt.next;if(s!==null)Vt=s,Ct=i;else{if(i===null)throw Error(t(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Vt===null?lt.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}function ml(i,s){return typeof s=="function"?s(i):s}function Hd(i){var s=Cn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Ct,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var k=T=null,b=null,$=y;do{var Z=$.lane;if((Rs&Z)===Z)b!==null&&(b=b.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:i(h,$.action);else{var ee={lane:Z,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};b===null?(k=b=ee,T=h):b=b.next=ee,lt.lanes|=Z,bs|=Z}$=$.next}while($!==null&&$!==y);b===null?T=h:b.next=k,$n(h,s.memoizedState)||(un=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=b,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,lt.lanes|=y,bs|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Wd(i){var s=Cn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);$n(y,s.memoizedState)||(un=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Oy(){}function Ly(i,s){var l=lt,h=Cn(),p=s(),y=!$n(h.memoizedState,p);if(y&&(h.memoizedState=p,un=!0),h=h.queue,qd(Uy.bind(null,l,h,i),[i]),h.getSnapshot!==s||y||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,gl(9,Fy.bind(null,l,h,p,s),void 0,null),Dt===null)throw Error(t(349));(Rs&30)!==0||jy(l,s,p)}return p}function jy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Fy(i,s,l,h){s.value=l,s.getSnapshot=h,By(s)&&zy(i)}function Uy(i,s,l){return l(function(){By(s)&&zy(i)})}function By(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!$n(i,l)}catch{return!0}}function zy(i){var s=Qr(i,1);s!==null&&Kn(s,i,1,-1)}function $y(i){var s=_r();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:i},s.queue=i,i=i.dispatch=vS.bind(null,lt,i),[s.memoizedState,i]}function gl(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=lt.updateQueue,s===null?(s={lastEffect:null,stores:null},lt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function Hy(){return Cn().memoizedState}function uc(i,s,l,h){var p=_r();lt.flags|=i,p.memoizedState=gl(1|s,l,void 0,h===void 0?null:h)}function cc(i,s,l,h){var p=Cn();h=h===void 0?null:h;var y=void 0;if(Ct!==null){var T=Ct.memoizedState;if(y=T.destroy,h!==null&&Bd(h,T.deps)){p.memoizedState=gl(s,l,y,h);return}}lt.flags|=i,p.memoizedState=gl(1|s,l,y,h)}function Wy(i,s){return uc(8390656,8,i,s)}function qd(i,s){return cc(2048,8,i,s)}function qy(i,s){return cc(4,2,i,s)}function Gy(i,s){return cc(4,4,i,s)}function Ky(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Qy(i,s,l){return l=l!=null?l.concat([i]):null,cc(4,4,Ky.bind(null,s,i),l)}function Gd(){}function Xy(i,s){var l=Cn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Bd(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function Yy(i,s){var l=Cn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Bd(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function Jy(i,s,l){return(Rs&21)===0?(i.baseState&&(i.baseState=!1,un=!0),i.memoizedState=l):($n(l,s)||(l=za(),lt.lanes|=l,bs|=l,i.baseState=!0),s)}function gS(i,s){var l=$e;$e=l!==0&&4>l?l:4,i(!0);var h=Ud.transition;Ud.transition={};try{i(!1),s()}finally{$e=l,Ud.transition=h}}function Zy(){return Cn().memoizedState}function yS(i,s,l){var h=Li(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},ev(i))tv(s,l);else if(l=by(i,s,l,h),l!==null){var p=rn();Kn(l,i,h,p),nv(l,s,h)}}function vS(i,s,l){var h=Li(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(ev(i))tv(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,k=y(T,l);if(p.hasEagerState=!0,p.eagerState=k,$n(k,T)){var b=s.interleaved;b===null?(p.next=p,Dd(s)):(p.next=b.next,b.next=p),s.interleaved=p;return}}catch{}finally{}l=by(i,s,p,h),l!==null&&(p=rn(),Kn(l,i,h,p),nv(l,s,h))}}function ev(i){var s=i.alternate;return i===lt||s!==null&&s===lt}function tv(i,s){fl=lc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function nv(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,Ha(i,l)}}var hc={readContext:kn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},_S={readContext:kn,useCallback:function(i,s){return _r().memoizedState=[i,s===void 0?null:s],i},useContext:kn,useEffect:Wy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,uc(4194308,4,Ky.bind(null,s,i),l)},useLayoutEffect:function(i,s){return uc(4194308,4,i,s)},useInsertionEffect:function(i,s){return uc(4,2,i,s)},useMemo:function(i,s){var l=_r();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=_r();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=yS.bind(null,lt,i),[h.memoizedState,i]},useRef:function(i){var s=_r();return i={current:i},s.memoizedState=i},useState:$y,useDebugValue:Gd,useDeferredValue:function(i){return _r().memoizedState=i},useTransition:function(){var i=$y(!1),s=i[0];return i=gS.bind(null,i[1]),_r().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=lt,p=_r();if(st){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Dt===null)throw Error(t(349));(Rs&30)!==0||jy(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Wy(Uy.bind(null,h,y,i),[i]),h.flags|=2048,gl(9,Fy.bind(null,h,y,l,s),void 0,null),l},useId:function(){var i=_r(),s=Dt.identifierPrefix;if(st){var l=Kr,h=Gr;l=(h&~(1<<32-gn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=pl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=mS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},wS={readContext:kn,useCallback:Xy,useContext:kn,useEffect:qd,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Gy,useMemo:Yy,useReducer:Hd,useRef:Hy,useState:function(){return Hd(ml)},useDebugValue:Gd,useDeferredValue:function(i){var s=Cn();return Jy(s,Ct.memoizedState,i)},useTransition:function(){var i=Hd(ml)[0],s=Cn().memoizedState;return[i,s]},useMutableSource:Oy,useSyncExternalStore:Ly,useId:Zy,unstable_isNewReconciler:!1},TS={readContext:kn,useCallback:Xy,useContext:kn,useEffect:qd,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Gy,useMemo:Yy,useReducer:Wd,useRef:Hy,useState:function(){return Wd(ml)},useDebugValue:Gd,useDeferredValue:function(i){var s=Cn();return Ct===null?s.memoizedState=i:Jy(s,Ct.memoizedState,i)},useTransition:function(){var i=Wd(ml)[0],s=Cn().memoizedState;return[i,s]},useMutableSource:Oy,useSyncExternalStore:Ly,useId:Zy,unstable_isNewReconciler:!1};function Wn(i,s){if(i&&i.defaultProps){s=oe({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Kd(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:oe({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var dc={isMounted:function(i){return(i=i._reactInternals)?Bn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=rn(),p=Li(i),y=Xr(h,p);y.payload=s,l!=null&&(y.callback=l),s=Vi(i,y,p),s!==null&&(Kn(s,i,p,h),ic(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=rn(),p=Li(i),y=Xr(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Vi(i,y,p),s!==null&&(Kn(s,i,p,h),ic(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=rn(),h=Li(i),p=Xr(l,h);p.tag=2,s!=null&&(p.callback=s),s=Vi(i,p,h),s!==null&&(Kn(s,i,h,l),ic(s,i,h))}};function rv(i,s,l,h,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!nl(l,h)||!nl(p,y):!0}function iv(i,s,l){var h=!1,p=Ri,y=s.contextType;return typeof y=="object"&&y!==null?y=kn(y):(p=ln(s)?Ss:qt.current,h=s.contextTypes,y=(h=h!=null)?Mo(i,p):Ri),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=dc,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function sv(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&dc.enqueueReplaceState(s,s.state,null)}function Qd(i,s,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Md(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=kn(y):(y=ln(s)?Ss:qt.current,p.context=Mo(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Kd(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&dc.enqueueReplaceState(p,p.state,null),sc(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function $o(i,s){try{var l="",h=s;do l+=Ve(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function Xd(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Yd(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var ES=typeof WeakMap=="function"?WeakMap:Map;function ov(i,s,l){l=Xr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){_c||(_c=!0,ff=h),Yd(i,s)},l}function av(i,s,l){l=Xr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Yd(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Yd(i,s),typeof h!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function lv(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new ES;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),i=OS.bind(null,i,s,l),s.then(i,i))}function uv(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function cv(i,s,l,h,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Xr(-1,1),s.tag=2,Vi(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var IS=ne.ReactCurrentOwner,un=!1;function nn(i,s,l,h){s.child=i===null?Ry(s,null,l,h):Fo(s,i.child,l,h)}function hv(i,s,l,h,p){l=l.render;var y=s.ref;return Bo(s,p),h=zd(i,s,l,h,y,p),l=$d(),i!==null&&!un?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Yr(i,s,p)):(st&&l&&Sd(s),s.flags|=1,nn(i,s,h,p),s.child)}function dv(i,s,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!wf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,fv(i,s,y,h,p)):(i=Sc(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:nl,l(T,h)&&i.ref===s.ref)return Yr(i,s,p)}return s.flags|=1,i=Fi(y,h),i.ref=s.ref,i.return=s,s.child=i}function fv(i,s,l,h,p){if(i!==null){var y=i.memoizedProps;if(nl(y,h)&&i.ref===s.ref)if(un=!1,s.pendingProps=h=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(un=!0);else return s.lanes=i.lanes,Yr(i,s,p)}return Jd(i,s,l,h,p)}function pv(i,s,l){var h=s.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Wo,In),In|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ze(Wo,In),In|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ze(Wo,In),In|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Ze(Wo,In),In|=h;return nn(i,s,p,l),s.child}function mv(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Jd(i,s,l,h,p){var y=ln(l)?Ss:qt.current;return y=Mo(s,y),Bo(s,p),l=zd(i,s,l,h,y,p),h=$d(),i!==null&&!un?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Yr(i,s,p)):(st&&h&&Sd(s),s.flags|=1,nn(i,s,l,p),s.child)}function gv(i,s,l,h,p){if(ln(l)){var y=!0;Xu(s)}else y=!1;if(Bo(s,p),s.stateNode===null)pc(i,s),iv(s,l,h),Qd(s,l,h,p),h=!0;else if(i===null){var T=s.stateNode,k=s.memoizedProps;T.props=k;var b=T.context,$=l.contextType;typeof $=="object"&&$!==null?$=kn($):($=ln(l)?Ss:qt.current,$=Mo(s,$));var Z=l.getDerivedStateFromProps,ee=typeof Z=="function"||typeof T.getSnapshotBeforeUpdate=="function";ee||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==h||b!==$)&&sv(s,T,h,$),Ni=!1;var J=s.memoizedState;T.state=J,sc(s,h,T,p),b=s.memoizedState,k!==h||J!==b||an.current||Ni?(typeof Z=="function"&&(Kd(s,l,Z,h),b=s.memoizedState),(k=Ni||rv(s,l,k,h,J,b,$))?(ee||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=b),T.props=h,T.state=b,T.context=$,h=k):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,Ny(i,s),k=s.memoizedProps,$=s.type===s.elementType?k:Wn(s.type,k),T.props=$,ee=s.pendingProps,J=T.context,b=l.contextType,typeof b=="object"&&b!==null?b=kn(b):(b=ln(l)?Ss:qt.current,b=Mo(s,b));var ue=l.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==ee||J!==b)&&sv(s,T,h,b),Ni=!1,J=s.memoizedState,T.state=J,sc(s,h,T,p);var fe=s.memoizedState;k!==ee||J!==fe||an.current||Ni?(typeof ue=="function"&&(Kd(s,l,ue,h),fe=s.memoizedState),($=Ni||rv(s,l,$,h,J,fe,b)||!1)?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,fe,b),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,fe,b)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=fe),T.props=h,T.state=fe,T.context=b,h=$):(typeof T.componentDidUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),h=!1)}return Zd(i,s,l,h,y,p)}function Zd(i,s,l,h,p,y){mv(i,s);var T=(s.flags&128)!==0;if(!h&&!T)return p&&Ty(s,l,!1),Yr(i,s,y);h=s.stateNode,IS.current=s;var k=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&T?(s.child=Fo(s,i.child,null,y),s.child=Fo(s,null,k,y)):nn(i,s,k,y),s.memoizedState=h.state,p&&Ty(s,l,!0),s.child}function yv(i){var s=i.stateNode;s.pendingContext?_y(i,s.pendingContext,s.pendingContext!==s.context):s.context&&_y(i,s.context,!1),Od(i,s.containerInfo)}function vv(i,s,l,h,p){return jo(),Cd(p),s.flags|=256,nn(i,s,l,h),s.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(i){return{baseLanes:i,cachePool:null,transitions:null}}function _v(i,s,l){var h=s.pendingProps,p=at.current,y=!1,T=(s.flags&128)!==0,k;if((k=T)||(k=i!==null&&i.memoizedState===null?!1:(p&2)!==0),k?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Ze(at,p&1),i===null)return kd(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Ac(T,h,0,null),i=Ms(i,h,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=tf(l),s.memoizedState=ef,i):nf(s,T));if(p=i.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return xS(i,s,T,h,k,p,l);if(y){y=h.fallback,T=s.mode,p=i.child,k=p.sibling;var b={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=b,s.deletions=null):(h=Fi(p,b),h.subtreeFlags=p.subtreeFlags&14680064),k!==null?y=Fi(k,y):(y=Ms(y,T,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=i.child.memoizedState,T=T===null?tf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,s.memoizedState=ef,h}return y=i.child,i=y.sibling,h=Fi(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function nf(i,s){return s=Ac({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function fc(i,s,l,h){return h!==null&&Cd(h),Fo(s,i.child,null,l),i=nf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function xS(i,s,l,h,p,y,T){if(l)return s.flags&256?(s.flags&=-257,h=Xd(Error(t(422))),fc(i,s,T,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=Ac({mode:"visible",children:h.children},p,0,null),y=Ms(y,p,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Fo(s,i.child,null,T),s.child.memoizedState=tf(T),s.memoizedState=ef,y);if((s.mode&1)===0)return fc(i,s,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var k=h.dgst;return h=k,y=Error(t(419)),h=Xd(y,h,void 0),fc(i,s,T,h)}if(k=(T&i.childLanes)!==0,un||k){if(h=Dt,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Qr(i,p),Kn(h,i,p,-1))}return _f(),h=Xd(Error(t(421))),fc(i,s,T,h)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=LS.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,En=ki(p.nextSibling),Tn=s,st=!0,Hn=null,i!==null&&(An[Pn++]=Gr,An[Pn++]=Kr,An[Pn++]=As,Gr=i.id,Kr=i.overflow,As=s),s=nf(s,h.children),s.flags|=4096,s)}function wv(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Vd(i.return,s,l)}function rf(i,s,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function Tv(i,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(nn(i,s,h.children,l),h=at.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wv(i,l,s);else if(i.tag===19)wv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ze(at,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&oc(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),rf(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&oc(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}rf(s,!0,l,null,y);break;case"together":rf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function pc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Yr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),bs|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Fi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Fi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function SS(i,s,l){switch(s.tag){case 3:yv(s),jo();break;case 5:My(s);break;case 1:ln(s.type)&&Xu(s);break;case 4:Od(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Ze(nc,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ze(at,at.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?_v(i,s,l):(Ze(at,at.current&1),i=Yr(i,s,l),i!==null?i.sibling:null);Ze(at,at.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return Tv(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ze(at,at.current),h)break;return null;case 22:case 23:return s.lanes=0,pv(i,s,l)}return Yr(i,s,l)}var Ev,sf,Iv,xv;Ev=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},sf=function(){},Iv=function(i,s,l,h){var p=i.memoizedProps;if(p!==h){i=s.stateNode,Cs(vr.current);var y=null;switch(l){case"input":p=oo(i,p),h=oo(i,h),y=[];break;case"select":p=oe({},p,{value:void 0}),h=oe({},h,{value:void 0}),y=[];break;case"textarea":p=ba(i,p),h=ba(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Gu)}Un(l,h);var T;l=null;for($ in p)if(!h.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var k=p[$];for(T in k)k.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var b=h[$];if(k=p?.[$],h.hasOwnProperty($)&&b!==k&&(b!=null||k!=null))if($==="style")if(k){for(T in k)!k.hasOwnProperty(T)||b&&b.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in b)b.hasOwnProperty(T)&&k[T]!==b[T]&&(l||(l={}),l[T]=b[T])}else l||(y||(y=[]),y.push($,l)),l=b;else $==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,k=k?k.__html:void 0,b!=null&&k!==b&&(y=y||[]).push($,b)):$==="children"?typeof b!="string"&&typeof b!="number"||(y=y||[]).push($,""+b):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(b!=null&&$==="onScroll"&&nt("scroll",i),y||k===b||(y=[])):(y=y||[]).push($,b))}l&&(y=y||[]).push("style",l);var $=y;(s.updateQueue=$)&&(s.flags|=4)}},xv=function(i,s,l,h){l!==h&&(s.flags|=4)};function yl(i,s){if(!st)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Kt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function AS(i,s,l){var h=s.pendingProps;switch(Ad(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(s),null;case 1:return ln(s.type)&&Qu(),Kt(s),null;case 3:return h=s.stateNode,zo(),rt(an),rt(qt),Fd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(ec(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hn!==null&&(gf(Hn),Hn=null))),sf(i,s),Kt(s),null;case 5:Ld(s);var p=Cs(dl.current);if(l=s.type,i!==null&&s.stateNode!=null)Iv(i,s,l,h,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Kt(s),null}if(i=Cs(vr.current),ec(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[yr]=s,h[al]=y,i=(s.mode&1)!==0,l){case"dialog":nt("cancel",h),nt("close",h);break;case"iframe":case"object":case"embed":nt("load",h);break;case"video":case"audio":for(p=0;p<il.length;p++)nt(il[p],h);break;case"source":nt("error",h);break;case"img":case"image":case"link":nt("error",h),nt("load",h);break;case"details":nt("toggle",h);break;case"input":vu(h,y),nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},nt("invalid",h);break;case"textarea":Na(h,y),nt("invalid",h)}Un(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var k=y[T];T==="children"?typeof k=="string"?h.textContent!==k&&(y.suppressHydrationWarning!==!0&&qu(h.textContent,k,i),p=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&qu(h.textContent,k,i),p=["children",""+k]):o.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&nt("scroll",h)}switch(l){case"input":tr(h),Ra(h,y,!0);break;case"textarea":tr(h),di(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Gu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Va(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[yr]=s,i[al]=h,Ev(i,s,!1,!1),s.stateNode=i;e:{switch(T=co(l,h),l){case"dialog":nt("cancel",i),nt("close",i),p=h;break;case"iframe":case"object":case"embed":nt("load",i),p=h;break;case"video":case"audio":for(p=0;p<il.length;p++)nt(il[p],i);p=h;break;case"source":nt("error",i),p=h;break;case"img":case"image":case"link":nt("error",i),nt("load",i),p=h;break;case"details":nt("toggle",i),p=h;break;case"input":vu(i,h),p=oo(i,h),nt("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=oe({},h,{value:void 0}),nt("invalid",i);break;case"textarea":Na(i,h),p=ba(i,h),nt("invalid",i);break;default:p=h}Un(l,p),k=p;for(y in k)if(k.hasOwnProperty(y)){var b=k[y];y==="style"?uo(i,b):y==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&wu(i,b)):y==="children"?typeof b=="string"?(l!=="textarea"||b!=="")&&cs(i,b):typeof b=="number"&&cs(i,""+b):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?b!=null&&y==="onScroll"&&nt("scroll",i):b!=null&&G(i,y,b,T))}switch(l){case"input":tr(i),Ra(i,h,!1);break;case"textarea":tr(i),di(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Fe(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Fn(i,!!h.multiple,y,!1):h.defaultValue!=null&&Fn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Gu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Kt(s),null;case 6:if(i&&s.stateNode!=null)xv(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Cs(dl.current),Cs(vr.current),ec(s)){if(h=s.stateNode,l=s.memoizedProps,h[yr]=s,(y=h.nodeValue!==l)&&(i=Tn,i!==null))switch(i.tag){case 3:qu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&qu(h.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[yr]=s,s.stateNode=h}return Kt(s),null;case 13:if(rt(at),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(st&&En!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Py(),jo(),s.flags|=98560,y=!1;else if(y=ec(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[yr]=s}else jo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Kt(s),y=!1}else Hn!==null&&(gf(Hn),Hn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(at.current&1)!==0?Rt===0&&(Rt=3):_f())),s.updateQueue!==null&&(s.flags|=4),Kt(s),null);case 4:return zo(),sf(i,s),i===null&&sl(s.stateNode.containerInfo),Kt(s),null;case 10:return Nd(s.type._context),Kt(s),null;case 17:return ln(s.type)&&Qu(),Kt(s),null;case 19:if(rt(at),y=s.memoizedState,y===null)return Kt(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)yl(y,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(T=oc(i),T!==null){for(s.flags|=128,yl(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ze(at,at.current&1|2),s.child}i=i.sibling}y.tail!==null&&tt()>qo&&(s.flags|=128,h=!0,yl(y,!1),s.lanes=4194304)}else{if(!h)if(i=oc(T),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),yl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!st)return Kt(s),null}else 2*tt()-y.renderingStartTime>qo&&l!==1073741824&&(s.flags|=128,h=!0,yl(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(l=y.last,l!==null?l.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=tt(),s.sibling=null,l=at.current,Ze(at,h?l&1|2:l&1),s):(Kt(s),null);case 22:case 23:return vf(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(In&1073741824)!==0&&(Kt(s),s.subtreeFlags&6&&(s.flags|=8192)):Kt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function PS(i,s){switch(Ad(s),s.tag){case 1:return ln(s.type)&&Qu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return zo(),rt(an),rt(qt),Fd(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Ld(s),null;case 13:if(rt(at),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));jo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return rt(at),null;case 4:return zo(),null;case 10:return Nd(s.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var mc=!1,Qt=!1,kS=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ho(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){dt(i,s,h)}else l.current=null}function of(i,s,l){try{l()}catch(h){dt(i,s,h)}}var Sv=!1;function CS(i,s){if(yd=zr,i=ry(),ud(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,k=-1,b=-1,$=0,Z=0,ee=i,J=null;t:for(;;){for(var ue;ee!==l||p!==0&&ee.nodeType!==3||(k=T+p),ee!==y||h!==0&&ee.nodeType!==3||(b=T+h),ee.nodeType===3&&(T+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)J=ee,ee=ue;for(;;){if(ee===i)break t;if(J===l&&++$===p&&(k=T),J===y&&++Z===h&&(b=T),(ue=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=ue}l=k===-1||b===-1?null:{start:k,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(vd={focusedElem:i,selectionRange:l},zr=!1,he=s;he!==null;)if(s=he,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,he=i;else for(;he!==null;){s=he;try{var fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var ge=fe.memoizedProps,yt=fe.memoizedState,U=s.stateNode,D=U.getSnapshotBeforeUpdate(s.elementType===s.type?ge:Wn(s.type,ge),yt);U.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){dt(s,s.return,ie)}if(i=s.sibling,i!==null){i.return=s.return,he=i;break}he=s.return}return fe=Sv,Sv=!1,fe}function vl(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&of(s,l,y)}p=p.next}while(p!==h)}}function gc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function af(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Av(i){var s=i.alternate;s!==null&&(i.alternate=null,Av(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[yr],delete s[al],delete s[Ed],delete s[hS],delete s[dS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Pv(i){return i.tag===5||i.tag===3||i.tag===4}function kv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Pv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Gu));else if(h!==4&&(i=i.child,i!==null))for(lf(i,s,l),i=i.sibling;i!==null;)lf(i,s,l),i=i.sibling}function uf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(uf(i,s,l),i=i.sibling;i!==null;)uf(i,s,l),i=i.sibling}var Ft=null,qn=!1;function Di(i,s,l){for(l=l.child;l!==null;)Cv(i,s,l),l=l.sibling}function Cv(i,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(ms,l)}catch{}switch(l.tag){case 5:Qt||Ho(l,s);case 6:var h=Ft,p=qn;Ft=null,Di(i,s,l),Ft=h,qn=p,Ft!==null&&(qn?(i=Ft,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(qn?(i=Ft,l=l.stateNode,i.nodeType===8?Td(i.parentNode,l):i.nodeType===1&&Td(i,l),xi(i)):Td(Ft,l.stateNode));break;case 4:h=Ft,p=qn,Ft=l.stateNode.containerInfo,qn=!0,Di(i,s,l),Ft=h,qn=p;break;case 0:case 11:case 14:case 15:if(!Qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&of(l,s,T),p=p.next}while(p!==h)}Di(i,s,l);break;case 1:if(!Qt&&(Ho(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){dt(l,s,k)}Di(i,s,l);break;case 21:Di(i,s,l);break;case 22:l.mode&1?(Qt=(h=Qt)||l.memoizedState!==null,Di(i,s,l),Qt=h):Di(i,s,l);break;default:Di(i,s,l)}}function Rv(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new kS),s.forEach(function(h){var p=jS.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Gn(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,T=s,k=T;e:for(;k!==null;){switch(k.tag){case 5:Ft=k.stateNode,qn=!1;break e;case 3:Ft=k.stateNode.containerInfo,qn=!0;break e;case 4:Ft=k.stateNode.containerInfo,qn=!0;break e}k=k.return}if(Ft===null)throw Error(t(160));Cv(y,T,p),Ft=null,qn=!1;var b=p.alternate;b!==null&&(b.return=null),p.return=null}catch($){dt(p,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)bv(s,i),s=s.sibling}function bv(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gn(s,i),wr(i),h&4){try{vl(3,i,i.return),gc(3,i)}catch(ge){dt(i,i.return,ge)}try{vl(5,i,i.return)}catch(ge){dt(i,i.return,ge)}}break;case 1:Gn(s,i),wr(i),h&512&&l!==null&&Ho(l,l.return);break;case 5:if(Gn(s,i),wr(i),h&512&&l!==null&&Ho(l,l.return),i.flags&32){var p=i.stateNode;try{cs(p,"")}catch(ge){dt(i,i.return,ge)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,k=i.type,b=i.updateQueue;if(i.updateQueue=null,b!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&ao(p,y),co(k,T);var $=co(k,y);for(T=0;T<b.length;T+=2){var Z=b[T],ee=b[T+1];Z==="style"?uo(p,ee):Z==="dangerouslySetInnerHTML"?wu(p,ee):Z==="children"?cs(p,ee):G(p,Z,ee,$)}switch(k){case"input":us(p,y);break;case"textarea":_u(p,y);break;case"select":var J=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?Fn(p,!!y.multiple,ue,!1):J!==!!y.multiple&&(y.defaultValue!=null?Fn(p,!!y.multiple,y.defaultValue,!0):Fn(p,!!y.multiple,y.multiple?[]:"",!1))}p[al]=y}catch(ge){dt(i,i.return,ge)}}break;case 6:if(Gn(s,i),wr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(ge){dt(i,i.return,ge)}}break;case 3:if(Gn(s,i),wr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{xi(s.containerInfo)}catch(ge){dt(i,i.return,ge)}break;case 4:Gn(s,i),wr(i);break;case 13:Gn(s,i),wr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(df=tt())),h&4&&Rv(i);break;case 22:if(Z=l!==null&&l.memoizedState!==null,i.mode&1?(Qt=($=Qt)||Z,Gn(s,i),Qt=$):Gn(s,i),wr(i),h&8192){if($=i.memoizedState!==null,(i.stateNode.isHidden=$)&&!Z&&(i.mode&1)!==0)for(he=i,Z=i.child;Z!==null;){for(ee=he=Z;he!==null;){switch(J=he,ue=J.child,J.tag){case 0:case 11:case 14:case 15:vl(4,J,J.return);break;case 1:Ho(J,J.return);var fe=J.stateNode;if(typeof fe.componentWillUnmount=="function"){h=J,l=J.return;try{s=h,fe.props=s.memoizedProps,fe.state=s.memoizedState,fe.componentWillUnmount()}catch(ge){dt(h,l,ge)}}break;case 5:Ho(J,J.return);break;case 22:if(J.memoizedState!==null){Dv(ee);continue}}ue!==null?(ue.return=J,he=ue):Dv(ee)}Z=Z.sibling}e:for(Z=null,ee=i;;){if(ee.tag===5){if(Z===null){Z=ee;try{p=ee.stateNode,$?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=ee.stateNode,b=ee.memoizedProps.style,T=b!=null&&b.hasOwnProperty("display")?b.display:null,k.style.display=mi("display",T))}catch(ge){dt(i,i.return,ge)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(ge){dt(i,i.return,ge)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===i)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===i)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===i)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Gn(s,i),wr(i),h&4&&Rv(i);break;case 21:break;default:Gn(s,i),wr(i)}}function wr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Pv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(cs(p,""),h.flags&=-33);var y=kv(i);uf(i,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,k=kv(i);lf(i,k,T);break;default:throw Error(t(161))}}catch(b){dt(i,i.return,b)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function RS(i,s,l){he=i,Nv(i)}function Nv(i,s,l){for(var h=(i.mode&1)!==0;he!==null;){var p=he,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||mc;if(!T){var k=p.alternate,b=k!==null&&k.memoizedState!==null||Qt;k=mc;var $=Qt;if(mc=T,(Qt=b)&&!$)for(he=p;he!==null;)T=he,b=T.child,T.tag===22&&T.memoizedState!==null?Mv(p):b!==null?(b.return=T,he=b):Mv(p);for(;y!==null;)he=y,Nv(y),y=y.sibling;he=p,mc=k,Qt=$}Vv(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,he=y):Vv(i)}}function Vv(i){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Qt||gc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Qt)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Wn(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Dy(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Dy(s,T,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var b=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&l.focus();break;case"img":b.src&&(l.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Z=$.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&xi(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qt||s.flags&512&&af(s)}catch(J){dt(s,s.return,J)}}if(s===i){he=null;break}if(l=s.sibling,l!==null){l.return=s.return,he=l;break}he=s.return}}function Dv(i){for(;he!==null;){var s=he;if(s===i){he=null;break}var l=s.sibling;if(l!==null){l.return=s.return,he=l;break}he=s.return}}function Mv(i){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{gc(4,s)}catch(b){dt(s,l,b)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(b){dt(s,p,b)}}var y=s.return;try{af(s)}catch(b){dt(s,y,b)}break;case 5:var T=s.return;try{af(s)}catch(b){dt(s,T,b)}}}catch(b){dt(s,s.return,b)}if(s===i){he=null;break}var k=s.sibling;if(k!==null){k.return=s.return,he=k;break}he=s.return}}var bS=Math.ceil,yc=ne.ReactCurrentDispatcher,cf=ne.ReactCurrentOwner,Rn=ne.ReactCurrentBatchConfig,qe=0,Dt=null,It=null,Ut=0,In=0,Wo=Ci(0),Rt=0,_l=null,bs=0,vc=0,hf=0,wl=null,cn=null,df=0,qo=1/0,Jr=null,_c=!1,ff=null,Mi=null,wc=!1,Oi=null,Tc=0,Tl=0,pf=null,Ec=-1,Ic=0;function rn(){return(qe&6)!==0?tt():Ec!==-1?Ec:Ec=tt()}function Li(i){return(i.mode&1)===0?1:(qe&2)!==0&&Ut!==0?Ut&-Ut:pS.transition!==null?(Ic===0&&(Ic=za()),Ic):(i=$e,i!==0||(i=window.event,i=i===void 0?16:To(i.type)),i)}function Kn(i,s,l,h){if(50<Tl)throw Tl=0,pf=null,Error(t(185));_s(i,l,h),((qe&2)===0||i!==Dt)&&(i===Dt&&((qe&2)===0&&(vc|=l),Rt===4&&ji(i,Ut)),hn(i,h),l===1&&qe===0&&(s.mode&1)===0&&(qo=tt()+500,Yu&&bi()))}function hn(i,s){var l=i.callbackNode;vs(i,s);var h=Fr(i,i===Dt?Ut:0);if(h===0)l!==null&&po(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&po(l),s===1)i.tag===0?fS(Lv.bind(null,i)):Ey(Lv.bind(null,i)),uS(function(){(qe&6)===0&&bi()}),l=null;else{switch(ar(h)){case 1:l=mo;break;case 4:l=Fa;break;case 16:l=ps;break;case 536870912:l=go;break;default:l=ps}l=Wv(l,Ov.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Ov(i,s){if(Ec=-1,Ic=0,(qe&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Go()&&i.callbackNode!==l)return null;var h=Fr(i,i===Dt?Ut:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=xc(i,h);else{s=h;var p=qe;qe|=2;var y=Fv();(Dt!==i||Ut!==s)&&(Jr=null,qo=tt()+500,Vs(i,s));do try{DS();break}catch(k){jv(i,k)}while(!0);bd(),yc.current=y,qe=p,It!==null?s=0:(Dt=null,Ut=0,s=Rt)}if(s!==0){if(s===2&&(p=Ba(i),p!==0&&(h=p,s=mf(i,p))),s===1)throw l=_l,Vs(i,0),ji(i,h),hn(i,tt()),l;if(s===6)ji(i,h);else{if(p=i.current.alternate,(h&30)===0&&!NS(p)&&(s=xc(i,h),s===2&&(y=Ba(i),y!==0&&(h=y,s=mf(i,y))),s===1))throw l=_l,Vs(i,0),ji(i,h),hn(i,tt()),l;switch(i.finishedWork=p,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ds(i,cn,Jr);break;case 3:if(ji(i,h),(h&130023424)===h&&(s=df+500-tt(),10<s)){if(Fr(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){rn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=wd(Ds.bind(null,i,cn,Jr),s);break}Ds(i,cn,Jr);break;case 4:if(ji(i,h),(h&4194240)===h)break;for(s=i.eventTimes,p=-1;0<h;){var T=31-gn(h);y=1<<T,T=s[T],T>p&&(p=T),h&=~y}if(h=p,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*bS(h/1960))-h,10<h){i.timeoutHandle=wd(Ds.bind(null,i,cn,Jr),h);break}Ds(i,cn,Jr);break;case 5:Ds(i,cn,Jr);break;default:throw Error(t(329))}}}return hn(i,tt()),i.callbackNode===l?Ov.bind(null,i):null}function mf(i,s){var l=wl;return i.current.memoizedState.isDehydrated&&(Vs(i,s).flags|=256),i=xc(i,s),i!==2&&(s=cn,cn=l,s!==null&&gf(s)),i}function gf(i){cn===null?cn=i:cn.push.apply(cn,i)}function NS(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!$n(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(i,s){for(s&=~hf,s&=~vc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-gn(s),h=1<<l;i[l]=-1,s&=~h}}function Lv(i){if((qe&6)!==0)throw Error(t(327));Go();var s=Fr(i,0);if((s&1)===0)return hn(i,tt()),null;var l=xc(i,s);if(i.tag!==0&&l===2){var h=Ba(i);h!==0&&(s=h,l=mf(i,h))}if(l===1)throw l=_l,Vs(i,0),ji(i,s),hn(i,tt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ds(i,cn,Jr),hn(i,tt()),null}function yf(i,s){var l=qe;qe|=1;try{return i(s)}finally{qe=l,qe===0&&(qo=tt()+500,Yu&&bi())}}function Ns(i){Oi!==null&&Oi.tag===0&&(qe&6)===0&&Go();var s=qe;qe|=1;var l=Rn.transition,h=$e;try{if(Rn.transition=null,$e=1,i)return i()}finally{$e=h,Rn.transition=l,qe=s,(qe&6)===0&&bi()}}function vf(){In=Wo.current,rt(Wo)}function Vs(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,lS(l)),It!==null)for(l=It.return;l!==null;){var h=l;switch(Ad(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Qu();break;case 3:zo(),rt(an),rt(qt),Fd();break;case 5:Ld(h);break;case 4:zo();break;case 13:rt(at);break;case 19:rt(at);break;case 10:Nd(h.type._context);break;case 22:case 23:vf()}l=l.return}if(Dt=i,It=i=Fi(i.current,null),Ut=In=s,Rt=0,_l=null,hf=vc=bs=0,cn=wl=null,ks!==null){for(s=0;s<ks.length;s++)if(l=ks[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}l.pending=h}ks=null}return i}function jv(i,s){do{var l=It;try{if(bd(),ac.current=hc,lc){for(var h=lt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}lc=!1}if(Rs=0,Vt=Ct=lt=null,fl=!1,pl=0,cf.current=null,l===null||l.return===null){Rt=1,_l=s,It=null;break}e:{var y=i,T=l.return,k=l,b=s;if(s=Ut,k.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var $=b,Z=k,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=uv(T);if(ue!==null){ue.flags&=-257,cv(ue,T,k,y,s),ue.mode&1&&lv(y,$,s),s=ue,b=$;var fe=s.updateQueue;if(fe===null){var ge=new Set;ge.add(b),s.updateQueue=ge}else fe.add(b);break e}else{if((s&1)===0){lv(y,$,s),_f();break e}b=Error(t(426))}}else if(st&&k.mode&1){var yt=uv(T);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),cv(yt,T,k,y,s),Cd($o(b,k));break e}}y=b=$o(b,k),Rt!==4&&(Rt=2),wl===null?wl=[y]:wl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var U=ov(y,b,s);Vy(y,U);break e;case 1:k=b;var D=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Mi===null||!Mi.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var ie=av(y,k,s);Vy(y,ie);break e}}y=y.return}while(y!==null)}Bv(l)}catch(ye){s=ye,It===l&&l!==null&&(It=l=l.return);continue}break}while(!0)}function Fv(){var i=yc.current;return yc.current=hc,i===null?hc:i}function _f(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Dt===null||(bs&268435455)===0&&(vc&268435455)===0||ji(Dt,Ut)}function xc(i,s){var l=qe;qe|=2;var h=Fv();(Dt!==i||Ut!==s)&&(Jr=null,Vs(i,s));do try{VS();break}catch(p){jv(i,p)}while(!0);if(bd(),qe=l,yc.current=h,It!==null)throw Error(t(261));return Dt=null,Ut=0,Rt}function VS(){for(;It!==null;)Uv(It)}function DS(){for(;It!==null&&!fs();)Uv(It)}function Uv(i){var s=Hv(i.alternate,i,In);i.memoizedProps=i.pendingProps,s===null?Bv(i):It=s,cf.current=null}function Bv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=AS(l,s,In),l!==null){It=l;return}}else{if(l=PS(l,s),l!==null){l.flags&=32767,It=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Rt=6,It=null;return}}if(s=s.sibling,s!==null){It=s;return}It=s=i}while(s!==null);Rt===0&&(Rt=5)}function Ds(i,s,l){var h=$e,p=Rn.transition;try{Rn.transition=null,$e=1,MS(i,s,l,h)}finally{Rn.transition=p,$e=h}return null}function MS(i,s,l,h){do Go();while(Oi!==null);if((qe&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(id(i,y),i===Dt&&(It=Dt=null,Ut=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||wc||(wc=!0,Wv(ps,function(){return Go(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Rn.transition,Rn.transition=null;var T=$e;$e=1;var k=qe;qe|=4,cf.current=null,CS(i,l),bv(l,i),tS(vd),zr=!!yd,vd=yd=null,i.current=l,RS(l),jr(),qe=k,$e=T,Rn.transition=y}else i.current=l;if(wc&&(wc=!1,Oi=i,Tc=p),y=i.pendingLanes,y===0&&(Mi=null),bu(l.stateNode),hn(i,tt()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(_c)throw _c=!1,i=ff,ff=null,i;return(Tc&1)!==0&&i.tag!==0&&Go(),y=i.pendingLanes,(y&1)!==0?i===pf?Tl++:(Tl=0,pf=i):Tl=0,bi(),null}function Go(){if(Oi!==null){var i=ar(Tc),s=Rn.transition,l=$e;try{if(Rn.transition=null,$e=16>i?16:i,Oi===null)var h=!1;else{if(i=Oi,Oi=null,Tc=0,(qe&6)!==0)throw Error(t(331));var p=qe;for(qe|=4,he=i.current;he!==null;){var y=he,T=y.child;if((he.flags&16)!==0){var k=y.deletions;if(k!==null){for(var b=0;b<k.length;b++){var $=k[b];for(he=$;he!==null;){var Z=he;switch(Z.tag){case 0:case 11:case 15:vl(8,Z,y)}var ee=Z.child;if(ee!==null)ee.return=Z,he=ee;else for(;he!==null;){Z=he;var J=Z.sibling,ue=Z.return;if(Av(Z),Z===$){he=null;break}if(J!==null){J.return=ue,he=J;break}he=ue}}}var fe=y.alternate;if(fe!==null){var ge=fe.child;if(ge!==null){fe.child=null;do{var yt=ge.sibling;ge.sibling=null,ge=yt}while(ge!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,he=T;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:vl(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,he=U;break e}he=y.return}}var D=i.current;for(he=D;he!==null;){T=he;var z=T.child;if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,he=z;else e:for(T=D;he!==null;){if(k=he,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:gc(9,k)}}catch(ye){dt(k,k.return,ye)}if(k===T){he=null;break e}var ie=k.sibling;if(ie!==null){ie.return=k.return,he=ie;break e}he=k.return}}if(qe=p,bi(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(ms,i)}catch{}h=!0}return h}finally{$e=l,Rn.transition=s}}return!1}function zv(i,s,l){s=$o(l,s),s=ov(i,s,1),i=Vi(i,s,1),s=rn(),i!==null&&(_s(i,1,s),hn(i,s))}function dt(i,s,l){if(i.tag===3)zv(i,i,l);else for(;s!==null;){if(s.tag===3){zv(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Mi===null||!Mi.has(h))){i=$o(l,i),i=av(s,i,1),s=Vi(s,i,1),i=rn(),s!==null&&(_s(s,1,i),hn(s,i));break}}s=s.return}}function OS(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=rn(),i.pingedLanes|=i.suspendedLanes&l,Dt===i&&(Ut&l)===l&&(Rt===4||Rt===3&&(Ut&130023424)===Ut&&500>tt()-df?Vs(i,0):hf|=l),hn(i,s)}function $v(i,s){s===0&&((i.mode&1)===0?s=1:(s=Ti,Ti<<=1,(Ti&130023424)===0&&(Ti=4194304)));var l=rn();i=Qr(i,s),i!==null&&(_s(i,s,l),hn(i,l))}function LS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),$v(i,l)}function jS(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),$v(i,l)}var Hv;Hv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||an.current)un=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return un=!1,SS(i,s,l);un=(i.flags&131072)!==0}else un=!1,st&&(s.flags&1048576)!==0&&Iy(s,Zu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;pc(i,s),i=s.pendingProps;var p=Mo(s,qt.current);Bo(s,l),p=zd(null,s,h,i,p,l);var y=$d();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ln(h)?(y=!0,Xu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Md(s),p.updater=dc,s.stateNode=p,p._reactInternals=s,Qd(s,h,i,l),s=Zd(null,s,h,!0,y,l)):(s.tag=0,st&&y&&Sd(s),nn(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(pc(i,s),i=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=US(h),i=Wn(h,i),p){case 0:s=Jd(null,s,h,i,l);break e;case 1:s=gv(null,s,h,i,l);break e;case 11:s=hv(null,s,h,i,l);break e;case 14:s=dv(null,s,h,Wn(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Wn(h,p),Jd(i,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Wn(h,p),gv(i,s,h,p,l);case 3:e:{if(yv(s),i===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,Ny(i,s),sc(s,h,null,l);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=$o(Error(t(423)),s),s=vv(i,s,h,l,p);break e}else if(h!==p){p=$o(Error(t(424)),s),s=vv(i,s,h,l,p);break e}else for(En=ki(s.stateNode.containerInfo.firstChild),Tn=s,st=!0,Hn=null,l=Ry(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jo(),h===p){s=Yr(i,s,l);break e}nn(i,s,h,l)}s=s.child}return s;case 5:return My(s),i===null&&kd(s),h=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,T=p.children,_d(h,p)?T=null:y!==null&&_d(h,y)&&(s.flags|=32),mv(i,s),nn(i,s,T,l),s.child;case 6:return i===null&&kd(s),null;case 13:return _v(i,s,l);case 4:return Od(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Fo(s,null,h,l):nn(i,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Wn(h,p),hv(i,s,h,p,l);case 7:return nn(i,s,s.pendingProps,l),s.child;case 8:return nn(i,s,s.pendingProps.children,l),s.child;case 12:return nn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,T=p.value,Ze(nc,h._currentValue),h._currentValue=T,y!==null)if($n(y.value,T)){if(y.children===p.children&&!an.current){s=Yr(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var k=y.dependencies;if(k!==null){T=y.child;for(var b=k.firstContext;b!==null;){if(b.context===h){if(y.tag===1){b=Xr(-1,l&-l),b.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var Z=$.pending;Z===null?b.next=b:(b.next=Z.next,Z.next=b),$.pending=b}}y.lanes|=l,b=y.alternate,b!==null&&(b.lanes|=l),Vd(y.return,l,s),k.lanes|=l;break}b=b.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,k=T.alternate,k!==null&&(k.lanes|=l),Vd(T,l,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}nn(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,Bo(s,l),p=kn(p),h=h(p),s.flags|=1,nn(i,s,h,l),s.child;case 14:return h=s.type,p=Wn(h,s.pendingProps),p=Wn(h.type,p),dv(i,s,h,p,l);case 15:return fv(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Wn(h,p),pc(i,s),s.tag=1,ln(h)?(i=!0,Xu(s)):i=!1,Bo(s,l),iv(s,h,p),Qd(s,h,p,l),Zd(null,s,h,!0,i,l);case 19:return Tv(i,s,l);case 22:return pv(i,s,l)}throw Error(t(156,s.tag))};function Wv(i,s){return ja(i,s)}function FS(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(i,s,l,h){return new FS(i,s,l,h)}function wf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function US(i){if(typeof i=="function")return wf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===We)return 14}return 2}function Fi(i,s){var l=i.alternate;return l===null?(l=bn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Sc(i,s,l,h,p,y){var T=2;if(h=i,typeof i=="function")wf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case R:return Ms(l.children,p,y,s);case I:T=8,p|=8;break;case P:return i=bn(12,l,s,p|2),i.elementType=P,i.lanes=y,i;case C:return i=bn(13,l,s,p),i.elementType=C,i.lanes=y,i;case Ie:return i=bn(19,l,s,p),i.elementType=Ie,i.lanes=y,i;case xe:return Ac(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case N:T=9;break e;case L:T=11;break e;case We:T=14;break e;case je:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=bn(T,l,s,p),s.elementType=i,s.type=h,s.lanes=y,s}function Ms(i,s,l,h){return i=bn(7,i,h,s),i.lanes=l,i}function Ac(i,s,l,h){return i=bn(22,i,h,s),i.elementType=xe,i.lanes=l,i.stateNode={isHidden:!1},i}function Tf(i,s,l){return i=bn(6,i,null,s),i.lanes=l,i}function Ef(i,s,l){return s=bn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function BS(i,s,l,h,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$a(0),this.expirationTimes=$a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function If(i,s,l,h,p,y,T,k,b){return i=new BS(i,s,l,k,b),s===1?(s=1,y===!0&&(s|=8)):s=0,y=bn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Md(y),i}function zS(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function qv(i){if(!i)return Ri;i=i._reactInternals;e:{if(Bn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ln(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(ln(l))return wy(i,l,s)}return s}function Gv(i,s,l,h,p,y,T,k,b){return i=If(l,h,!0,i,p,y,T,k,b),i.context=qv(null),l=i.current,h=rn(),p=Li(l),y=Xr(h,p),y.callback=s??null,Vi(l,y,p),i.current.lanes=p,_s(i,p,h),hn(i,h),i}function Pc(i,s,l,h){var p=s.current,y=rn(),T=Li(p);return l=qv(l),s.context===null?s.context=l:s.pendingContext=l,s=Xr(y,T),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=Vi(p,s,T),i!==null&&(Kn(i,p,T,y),ic(i,p,T)),T}function kc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Kv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function xf(i,s){Kv(i,s),(i=i.alternate)&&Kv(i,s)}function $S(){return null}var Qv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Sf(i){this._internalRoot=i}Cc.prototype.render=Sf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Pc(i,s,null,null)},Cc.prototype.unmount=Sf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ns(function(){Pc(null,i,null,null)}),s[Wr]=null}};function Cc(i){this._internalRoot=i}Cc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ga();i={blockedOn:null,target:i,priority:s};for(var l=0;l<yn.length&&s!==0&&s<yn[l].priority;l++);yn.splice(l,0,i),l===0&&_o(i)}};function Af(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Rc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Xv(){}function HS(i,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var $=kc(T);y.call($)}}var T=Gv(s,h,i,0,null,!1,!1,"",Xv);return i._reactRootContainer=T,i[Wr]=T.current,sl(i.nodeType===8?i.parentNode:i),Ns(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var k=h;h=function(){var $=kc(b);k.call($)}}var b=If(i,0,!1,null,null,!1,!1,"",Xv);return i._reactRootContainer=b,i[Wr]=b.current,sl(i.nodeType===8?i.parentNode:i),Ns(function(){Pc(s,b,l,h)}),b}function bc(i,s,l,h,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var k=p;p=function(){var b=kc(T);k.call(b)}}Pc(s,T,i,p)}else T=HS(l,s,i,p,h);return kc(T)}Wa=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=Qe(s.pendingLanes);l!==0&&(Ha(s,l|1),hn(s,tt()),(qe&6)===0&&(qo=tt()+500,bi()))}break;case 13:Ns(function(){var h=Qr(i,1);if(h!==null){var p=rn();Kn(h,i,1,p)}}),xf(i,1)}},yo=function(i){if(i.tag===13){var s=Qr(i,134217728);if(s!==null){var l=rn();Kn(s,i,134217728,l)}xf(i,134217728)}},qa=function(i){if(i.tag===13){var s=Li(i),l=Qr(i,s);if(l!==null){var h=rn();Kn(l,i,s,h)}xf(i,s)}},Ga=function(){return $e},Ka=function(i,s){var l=$e;try{return $e=i,s()}finally{$e=l}},Mr=function(i,s,l){switch(s){case"input":if(us(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=Ku(h);if(!p)throw Error(t(90));nr(h),us(h,p)}}}break;case"textarea":_u(i,l);break;case"select":s=l.value,s!=null&&Fn(i,!!l.multiple,s,!1)}},Eu=yf,Iu=Ns;var WS={usingClientEntryPoint:!1,Events:[ll,Vo,Ku,yi,vi,yf]},El={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qS={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ru(i),i===null?null:i.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||$S,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{ms=Nc.inject(qS),mn=Nc}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WS,dn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Af(s))throw Error(t(200));return zS(i,s,null,l)},dn.createRoot=function(i,s){if(!Af(i))throw Error(t(299));var l=!1,h="",p=Qv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=If(i,1,!1,null,null,l,!1,h,p),i[Wr]=s.current,sl(i.nodeType===8?i.parentNode:i),new Sf(s)},dn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ru(s),i=i===null?null:i.stateNode,i},dn.flushSync=function(i){return Ns(i)},dn.hydrate=function(i,s,l){if(!Rc(s))throw Error(t(200));return bc(null,i,s,!0,l)},dn.hydrateRoot=function(i,s,l){if(!Af(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",T=Qv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Gv(s,null,i,1,l??null,p,!1,y,T),i[Wr]=s.current,sl(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Cc(s)},dn.render=function(i,s,l){if(!Rc(s))throw Error(t(200));return bc(null,i,s,!1,l)},dn.unmountComponentAtNode=function(i){if(!Rc(i))throw Error(t(40));return i._reactRootContainer?(Ns(function(){bc(null,null,i,!1,function(){i._reactRootContainer=null,i[Wr]=null})}),!0):!1},dn.unstable_batchedUpdates=yf,dn.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!Rc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return bc(i,s,l,!1,h)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var i0;function uT(){if(i0)return Cf.exports;i0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cf.exports=tA(),Cf.exports}var s0;function nA(){if(s0)return Vc;s0=1;var n=uT();return Vc.createRoot=n.createRoot,Vc.hydrateRoot=n.hydrateRoot,Vc}var rA=nA(),te=im();const iA=QS(te),sA=KS({__proto__:null,default:iA},[te]),cT=te.createContext({});function oA(n){const e=te.useRef(null);return e.current===null&&(e.current=n()),e.current}const sm=typeof window<"u",aA=sm?te.useLayoutEffect:te.useEffect,om=te.createContext(null);function am(n,e){n.indexOf(e)===-1&&n.push(e)}function lm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const si=(n,e,t)=>t>e?e:t<n?n:t;let um=()=>{};const oi={},hT=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function dT(n){return typeof n=="object"&&n!==null}const fT=n=>/^0[^.\s]+$/u.test(n);function cm(n){let e;return()=>(e===void 0&&(e=n()),e)}const jn=n=>n,lA=(n,e)=>t=>e(n(t)),iu=(...n)=>n.reduce(lA),zl=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class hm{constructor(){this.subscriptions=[]}add(e){return am(this.subscriptions,e),()=>lm(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Er=n=>n*1e3,Ln=n=>n/1e3;function pT(n,e){return e?n*(1e3/e):0}const mT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,uA=1e-7,cA=12;function hA(n,e,t,r,o){let a,u,d=0;do u=e+(t-e)/2,a=mT(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>uA&&++d<cA);return u}function su(n,e,t,r){if(n===e&&t===r)return jn;const o=a=>hA(a,0,1,n,t);return a=>a===0||a===1?a:mT(o(a),e,r)}const gT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,yT=n=>e=>1-n(1-e),vT=su(.33,1.53,.69,.99),dm=yT(vT),_T=gT(dm),wT=n=>(n*=2)<1?.5*dm(n):.5*(2-Math.pow(2,-10*(n-1))),fm=n=>1-Math.sin(Math.acos(n)),TT=yT(fm),ET=gT(fm),dA=su(.42,0,1,1),fA=su(0,0,.58,1),IT=su(.42,0,.58,1),pA=n=>Array.isArray(n)&&typeof n[0]!="number",xT=n=>Array.isArray(n)&&typeof n[0]=="number",mA={linear:jn,easeIn:dA,easeInOut:IT,easeOut:fA,circIn:fm,circInOut:ET,circOut:TT,backIn:dm,backInOut:_T,backOut:vT,anticipate:wT},gA=n=>typeof n=="string",o0=n=>{if(xT(n)){um(n.length===4);const[e,t,r,o]=n;return su(e,t,r,o)}else if(gA(n))return mA[n];return n},Dc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function yA(n,e){let t=new Set,r=new Set,o=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(m.schedule(g),n()),g(d)}const m={schedule:(g,w=!1,E=!1)=>{const O=E&&o?t:r;return w&&u.add(g),O.has(g)||O.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(d=g,o){a=!0;return}o=!0,[t,r]=[r,t],t.forEach(f),t.clear(),o=!1,a&&(a=!1,m.process(g))}};return m}const vA=40;function ST(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Dc.reduce((G,ne)=>(G[ne]=yA(a),G),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:g,update:w,preRender:E,render:A,postRender:O}=u,F=()=>{const G=oi.useManualTiming?o.timestamp:performance.now();t=!1,oi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(G-o.timestamp,vA),1)),o.timestamp=G,o.isProcessing=!0,d.process(o),f.process(o),m.process(o),g.process(o),w.process(o),E.process(o),A.process(o),O.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(F))},M=()=>{t=!0,r=!0,o.isProcessing||n(F)};return{schedule:Dc.reduce((G,ne)=>{const re=u[ne];return G[ne]=(ae,R=!1,I=!1)=>(t||M(),re.schedule(ae,R,I)),G},{}),cancel:G=>{for(let ne=0;ne<Dc.length;ne++)u[Dc[ne]].cancel(G)},state:o,steps:u}}const{schedule:ot,cancel:Ji,state:Bt,steps:Nf}=ST(typeof requestAnimationFrame<"u"?requestAnimationFrame:jn,!0);let qc;function _A(){qc=void 0}const pn={now:()=>(qc===void 0&&pn.set(Bt.isProcessing||oi.useManualTiming?Bt.timestamp:performance.now()),qc),set:n=>{qc=n,queueMicrotask(_A)}},AT=n=>e=>typeof e=="string"&&e.startsWith(n),pm=AT("--"),wA=AT("var(--"),mm=n=>wA(n)?TA.test(n.split("/*")[0].trim()):!1,TA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_a={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},$l={..._a,transform:n=>si(0,1,n)},Mc={..._a,default:1},bl=n=>Math.round(n*1e5)/1e5,gm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EA(n){return n==null}const IA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ym=(n,e)=>t=>!!(typeof t=="string"&&IA.test(t)&&t.startsWith(n)||e&&!EA(t)&&Object.prototype.hasOwnProperty.call(t,e)),PT=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(gm);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},xA=n=>si(0,255,n),Vf={..._a,transform:n=>Math.round(xA(n))},Us={test:ym("rgb","red"),parse:PT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Vf.transform(n)+", "+Vf.transform(e)+", "+Vf.transform(t)+", "+bl($l.transform(r))+")"};function SA(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const cp={test:ym("#"),parse:SA,transform:Us.transform},ou=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),$i=ou("deg"),Ir=ou("%"),Pe=ou("px"),AA=ou("vh"),PA=ou("vw"),a0={...Ir,parse:n=>Ir.parse(n)/100,transform:n=>Ir.transform(n*100)},Zo={test:ym("hsl","hue"),parse:PT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ir.transform(bl(e))+", "+Ir.transform(bl(t))+", "+bl($l.transform(r))+")"},St={test:n=>Us.test(n)||cp.test(n)||Zo.test(n),parse:n=>Us.test(n)?Us.parse(n):Zo.test(n)?Zo.parse(n):cp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Us.transform(n):Zo.transform(n),getAnimatableNone:n=>{const e=St.parse(n);return e.alpha=0,St.transform(e)}},kA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CA(n){return isNaN(n)&&typeof n=="string"&&(n.match(gm)?.length||0)+(n.match(kA)?.length||0)>0}const kT="number",CT="color",RA="var",bA="var(",l0="${}",NA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hl(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(NA,f=>(St.test(f)?(r.color.push(a),o.push(CT),t.push(St.parse(f))):f.startsWith(bA)?(r.var.push(a),o.push(RA),t.push(f)):(r.number.push(a),o.push(kT),t.push(parseFloat(f))),++a,l0)).split(l0);return{values:t,split:d,indexes:r,types:o}}function RT(n){return Hl(n).values}function bT(n){const{split:e,types:t}=Hl(n),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=t[u];d===kT?a+=bl(o[u]):d===CT?a+=St.transform(o[u]):a+=o[u]}return a}}const VA=n=>typeof n=="number"?0:St.test(n)?St.getAnimatableNone(n):n;function DA(n){const e=RT(n);return bT(n)(e.map(VA))}const Zi={test:CA,parse:RT,createTransformer:bT,getAnimatableNone:DA};function Df(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function MA({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Df(f,d,n+1/3),a=Df(f,d,n),u=Df(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function oh(n,e){return t=>t>0?e:n}const ut=(n,e,t)=>n+(e-n)*t,Mf=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},OA=[cp,Us,Zo],LA=n=>OA.find(e=>e.test(n));function u0(n){const e=LA(n);if(!e)return!1;let t=e.parse(n);return e===Zo&&(t=MA(t)),t}const c0=(n,e)=>{const t=u0(n),r=u0(e);if(!t||!r)return oh(n,e);const o={...t};return a=>(o.red=Mf(t.red,r.red,a),o.green=Mf(t.green,r.green,a),o.blue=Mf(t.blue,r.blue,a),o.alpha=ut(t.alpha,r.alpha,a),Us.transform(o))},hp=new Set(["none","hidden"]);function jA(n,e){return hp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function FA(n,e){return t=>ut(n,e,t)}function vm(n){return typeof n=="number"?FA:typeof n=="string"?mm(n)?oh:St.test(n)?c0:zA:Array.isArray(n)?NT:typeof n=="object"?St.test(n)?c0:UA:oh}function NT(n,e){const t=[...n],r=t.length,o=n.map((a,u)=>vm(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}}function UA(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=vm(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function BA(n,e){const t=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=n.indexes[a][r[a]],d=n.values[u]??0;t[o]=d,r[a]++}return t}const zA=(n,e)=>{const t=Zi.createTransformer(e),r=Hl(n),o=Hl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?hp.has(n)&&!o.values.length||hp.has(e)&&!r.values.length?jA(n,e):iu(NT(BA(r,o),o.values),t):oh(n,e)};function VT(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ut(n,e,t):vm(n)(n,e)}const $A=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ot.update(e,t),stop:()=>Ji(e),now:()=>Bt.isProcessing?Bt.timestamp:pn.now()}},DT=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=Math.round(n(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ah=2e4;function _m(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<ah;)e+=t,r=n.next(e);return e>=ah?1/0:e}function HA(n,e=100,t){const r=t({...n,keyframes:[0,e]}),o=Math.min(_m(r),ah);return{type:"keyframes",ease:a=>r.next(o*a).value/e,duration:Ln(o)}}const WA=5;function MT(n,e,t){const r=Math.max(e-WA,0);return pT(t-n(r),e-r)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Of=.001;function qA({duration:n=ft.duration,bounce:e=ft.bounce,velocity:t=ft.velocity,mass:r=ft.mass}){let o,a,u=1-e;u=si(ft.minDamping,ft.maxDamping,u),n=si(ft.minDuration,ft.maxDuration,Ln(n)),u<1?(o=m=>{const g=m*u,w=g*n,E=g-t,A=dp(m,u),O=Math.exp(-w);return Of-E/A*O},a=m=>{const w=m*u*n,E=w*t+t,A=Math.pow(u,2)*Math.pow(m,2)*n,O=Math.exp(-w),F=dp(Math.pow(m,2),u);return(-o(m)+Of>0?-1:1)*((E-A)*O)/F}):(o=m=>{const g=Math.exp(-m*n),w=(m-t)*n+1;return-Of+g*w},a=m=>{const g=Math.exp(-m*n),w=(t-m)*(n*n);return g*w});const d=5/n,f=KA(o,a,d);if(n=Er(n),isNaN(f))return{stiffness:ft.stiffness,damping:ft.damping,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:n}}}const GA=12;function KA(n,e,t){let r=t;for(let o=1;o<GA;o++)r=r-n(r)/e(r);return r}function dp(n,e){return n*Math.sqrt(1-e*e)}const QA=["duration","bounce"],XA=["stiffness","damping","mass"];function h0(n,e){return e.some(t=>n[t]!==void 0)}function YA(n){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...n};if(!h0(n,XA)&&h0(n,QA))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*si(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:ft.mass,stiffness:o,damping:a}}else{const t=qA(n);e={...e,...t,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function lh(n=ft.visualDuration,e=ft.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:m,mass:g,duration:w,velocity:E,isResolvedFromDuration:A}=YA({...t,velocity:-Ln(t.velocity||0)}),O=E||0,F=m/(2*Math.sqrt(f*g)),M=u-a,q=Ln(Math.sqrt(f/g)),Y=Math.abs(M)<5;r||(r=Y?ft.restSpeed.granular:ft.restSpeed.default),o||(o=Y?ft.restDelta.granular:ft.restDelta.default);let G;if(F<1){const re=dp(q,F);G=ae=>{const R=Math.exp(-F*q*ae);return u-R*((O+F*q*M)/re*Math.sin(re*ae)+M*Math.cos(re*ae))}}else if(F===1)G=re=>u-Math.exp(-q*re)*(M+(O+q*M)*re);else{const re=q*Math.sqrt(F*F-1);G=ae=>{const R=Math.exp(-F*q*ae),I=Math.min(re*ae,300);return u-R*((O+F*q*M)*Math.sinh(I)+re*M*Math.cosh(I))/re}}const ne={calculatedDuration:A&&w||null,next:re=>{const ae=G(re);if(A)d.done=re>=w;else{let R=re===0?O:0;F<1&&(R=re===0?Er(O):MT(G,re,ae));const I=Math.abs(R)<=r,P=Math.abs(u-ae)<=o;d.done=I&&P}return d.value=d.done?u:ae,d},toString:()=>{const re=Math.min(_m(ne),ah),ae=DT(R=>ne.next(re*R).value,re,30);return re+"ms "+ae},toTransition:()=>{}};return ne}lh.applyToOptions=n=>{const e=HA(n,100,lh);return n.ease=e.ease,n.duration=Er(e.duration),n.type="keyframes",n};function fp({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:g}){const w=n[0],E={done:!1,value:w},A=I=>d!==void 0&&I<d||f!==void 0&&I>f,O=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let F=t*e;const M=w+F,q=u===void 0?M:u(M);q!==M&&(F=q-w);const Y=I=>-F*Math.exp(-I/r),G=I=>q+Y(I),ne=I=>{const P=Y(I),V=G(I);E.done=Math.abs(P)<=m,E.value=E.done?q:V};let re,ae;const R=I=>{A(E.value)&&(re=I,ae=lh({keyframes:[E.value,O(E.value)],velocity:MT(G,I,E.value),damping:o,stiffness:a,restDelta:m,restSpeed:g}))};return R(0),{calculatedDuration:null,next:I=>{let P=!1;return!ae&&re===void 0&&(P=!0,ne(I),R(I)),re!==void 0&&I>=re?ae.next(I-re):(!P&&ne(I),E)}}}function JA(n,e,t){const r=[],o=t||oi.mix||VT,a=n.length-1;for(let u=0;u<a;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||jn:e;d=iu(f,d)}r.push(d)}return r}function ZA(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(um(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=JA(e,r,o),f=d.length,m=g=>{if(u&&g<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(g<n[w+1]);w++);const E=zl(n[w],n[w+1],g);return d[w](E)};return t?g=>m(si(n[0],n[a-1],g)):m}function eP(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=zl(0,e,r);n.push(ut(t,1,o))}}function tP(n){const e=[0];return eP(e,n.length-1),e}function nP(n,e){return n.map(t=>t*e)}function rP(n,e){return n.map(()=>e||IT).splice(0,n.length-1)}function Nl({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=pA(r)?r.map(o0):o0(r),a={done:!1,value:e[0]},u=nP(t&&t.length===e.length?t:tP(e),n),d=ZA(u,e,{ease:Array.isArray(o)?o:rP(e,o)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const iP=n=>n!==null;function wm(n,{repeat:e,repeatType:t="loop"},r,o=1){const a=n.filter(iP),d=o<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const sP={decay:fp,inertia:fp,tween:Nl,keyframes:Nl,spring:lh};function OT(n){typeof n.type=="string"&&(n.type=sP[n.type])}class Tm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const oP=n=>n/100;class Em extends Tm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==pn.now()&&this.tick(pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OT(e);const{type:t=Nl,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:d}=e;const f=t||Nl;f!==Nl&&typeof d[0]!="number"&&(this.mixKeyframes=iu(oP,VT(d[0],d[1])),d=[0,100]);const m=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=_m(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=m}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:w,repeatType:E,repeatDelay:A,type:O,onUpdate:F,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const q=this.currentTime-m*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?q<0:q>o;this.currentTime=Math.max(q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let G=this.currentTime,ne=r;if(w){const I=Math.min(this.currentTime,o)/d;let P=Math.floor(I),V=I%1;!V&&I>=1&&(V=1),V===1&&P--,P=Math.min(P,w+1),!!(P%2)&&(E==="reverse"?(V=1-V,A&&(V-=A/d)):E==="mirror"&&(ne=u)),G=si(0,1,V)*d}const re=Y?{done:!1,value:g[0]}:ne.next(G);a&&(re.value=a(re.value));let{done:ae}=re;!Y&&f!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return R&&O!==fp&&(re.value=wm(g,this.options,M,this.speed)),F&&F(re.value),R&&this.finish(),re}then(e,t){return this.finished.then(e,t)}get duration(){return Ln(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ln(e)}get time(){return Ln(this.currentTime)}set time(e){e=Er(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ln(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=$A,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function aP(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Bs=n=>n*180/Math.PI,pp=n=>{const e=Bs(Math.atan2(n[1],n[0]));return mp(e)},lP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:pp,rotateZ:pp,skewX:n=>Bs(Math.atan(n[1])),skewY:n=>Bs(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},mp=n=>(n=n%360,n<0&&(n+=360),n),d0=pp,f0=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),p0=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),uP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:f0,scaleY:p0,scale:n=>(f0(n)+p0(n))/2,rotateX:n=>mp(Bs(Math.atan2(n[6],n[5]))),rotateY:n=>mp(Bs(Math.atan2(-n[2],n[0]))),rotateZ:d0,rotate:d0,skewX:n=>Bs(Math.atan(n[4])),skewY:n=>Bs(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function gp(n){return n.includes("scale")?1:0}function yp(n,e){if(!n||n==="none")return gp(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(t)r=uP,o=t;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=lP,o=d}if(!o)return gp(e);const a=r[e],u=o[1].split(",").map(hP);return typeof a=="function"?a(u):u[a]}const cP=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return yp(t,e)};function hP(n){return parseFloat(n.trim())}const wa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ta=new Set(wa),m0=n=>n===_a||n===Pe,dP=new Set(["x","y","z"]),fP=wa.filter(n=>!dP.has(n));function pP(n){const e=[];return fP.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Hs={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>yp(e,"x"),y:(n,{transform:e})=>yp(e,"y")};Hs.translateX=Hs.x;Hs.translateY=Hs.y;const Ws=new Set;let vp=!1,_p=!1,wp=!1;function LT(){if(_p){const n=Array.from(Ws).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=pP(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,u])=>{r.getValue(a)?.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_p=!1,vp=!1,Ws.forEach(n=>n.complete(wp)),Ws.clear()}function jT(){Ws.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(_p=!0)})}function mP(){wp=!0,jT(),LT(),wp=!1}class Im{constructor(e,t,r,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ws.add(this),vp||(vp=!0,ot.read(jT),ot.resolveKeyframes(LT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;if(e[0]===null){const a=o?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const d=r.readValue(t,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}aP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ws.delete(this)}cancel(){this.state==="scheduled"&&(Ws.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gP=n=>n.startsWith("--");function yP(n,e,t){gP(e)?n.style.setProperty(e,t):n.style[e]=t}const vP=cm(()=>window.ScrollTimeline!==void 0),_P={};function wP(n,e){const t=cm(n);return()=>_P[e]??t()}const FT=wP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Al=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,g0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Al([0,.65,.55,1]),circOut:Al([.55,0,1,.45]),backIn:Al([.31,.01,.66,-.59]),backOut:Al([.33,1.53,.69,.99])};function UT(n,e){if(n)return typeof n=="function"?FT()?DT(n,e):"ease-out":xT(n)?Al(n):Array.isArray(n)?n.map(t=>UT(t,e)||g0.easeOut):g0[n]}function TP(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeOut",times:f}={},m=void 0){const g={[e]:t};f&&(g.offset=f);const w=UT(d,o);Array.isArray(w)&&(g.easing=w);const E={delay:r,duration:o,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),n.animate(g,E)}function BT(n){return typeof n=="function"&&"applyToOptions"in n}function EP({type:n,...e}){return BT(n)&&FT()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class IP extends Tm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,um(typeof e.type!="string");const m=EP(e);this.animation=TP(t,r,o,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=wm(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):yP(t,r,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ln(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ln(e)}get time(){return Ln(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Er(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&vP()?(this.animation.timeline=e,jn):t(this)}}const zT={anticipate:wT,backInOut:_T,circInOut:ET};function xP(n){return n in zT}function SP(n){typeof n.ease=="string"&&xP(n.ease)&&(n.ease=zT[n.ease])}const y0=10;class AP extends IP{constructor(e){SP(e),OT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:o,element:a,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const d=new Em({...u,autoplay:!1}),f=Er(this.finishedTime??this.time);t.setWithVelocity(d.sample(f-y0).value,d.sample(f).value,y0),d.stop()}}const v0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Zi.test(n)||n==="0")&&!n.startsWith("url("));function PP(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function kP(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=v0(o,e),d=v0(a,e);return!u||!d?!1:PP(n)||(t==="spring"||BT(t))&&r}function Tp(n){n.duration=0,n.type="keyframes"}const CP=new Set(["opacity","clipPath","filter","transform"]),RP=cm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bP(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:o,damping:a,type:u}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return RP()&&t&&CP.has(t)&&(t!=="transform"||!m)&&!f&&!r&&o!=="mirror"&&a!==0&&u!=="inertia"}const NP=40;class VP extends Tm{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:d,name:f,motionValue:m,element:g,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=pn.now();const E={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:u,name:f,motionValue:m,element:g,...w},A=g?.KeyframeResolver||Im;this.keyframeResolver=new A(d,(O,F,M)=>this.onKeyframesResolved(O,F,E,!M),f,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:d,delay:f,isHandoff:m,onUpdate:g}=r;this.resolvedAt=pn.now(),kP(e,a,u,d)||((oi.instantAnimations||!f)&&g?.(wm(e,r,t)),e[0]=e[e.length-1],Tp(r),r.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>NP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},A=!m&&bP(E)?new AP({...E,element:E.motionValue.owner.current}):new Em(E);A.finished.then(()=>this.notifyFinished()).catch(jn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),mP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const DP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MP(n){const e=DP.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function $T(n,e,t=1){const[r,o]=MP(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return hT(u)?parseFloat(u):u}return mm(o)?$T(o,e,t+1):o}function xm(n,e){return n?.[e]??n?.default??n}const HT=new Set(["width","height","top","left","right","bottom",...wa]),OP={test:n=>n==="auto",parse:n=>n},WT=n=>e=>e.test(n),qT=[_a,Pe,Ir,$i,PA,AA,OP],_0=n=>qT.find(WT(n));function LP(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||fT(n):!0}const jP=new Set(["brightness","contrast","saturate","opacity"]);function FP(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(gm)||[];if(!r)return n;const o=t.replace(r,"");let a=jP.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const UP=/\b([a-z-]*)\(.*?\)/gu,Ep={...Zi,getAnimatableNone:n=>{const e=n.match(UP);return e?e.map(FP).join(" "):n}},w0={..._a,transform:Math.round},BP={rotate:$i,rotateX:$i,rotateY:$i,rotateZ:$i,scale:Mc,scaleX:Mc,scaleY:Mc,scaleZ:Mc,skew:$i,skewX:$i,skewY:$i,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:$l,originX:a0,originY:a0,originZ:Pe},Sm={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...BP,zIndex:w0,fillOpacity:$l,strokeOpacity:$l,numOctaves:w0},zP={...Sm,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:Ep,WebkitFilter:Ep},GT=n=>zP[n];function KT(n,e){let t=GT(n);return t!==Ep&&(t=Zi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const $P=new Set(["auto","none","0"]);function HP(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!$P.has(a)&&Hl(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=KT(t,o)}class WP extends Im{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),mm(m))){const g=$T(m,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!HT.has(r)||e.length!==2)return;const[o,a]=e,u=_0(o),d=_0(a);if(u!==d)if(m0(u)&&m0(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Hs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||LP(e[o]))&&r.push(o);r.length&&HP(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(t);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Hs[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function qP(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=t?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const QT=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function GP(n){return dT(n)&&"offsetHeight"in n}const T0=30,KP=n=>!isNaN(parseFloat(n));class QP{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=pn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=pn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=KP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new hm);const r=this.events[e].add(t);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>T0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,T0);return pT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ca(n,e){return new QP(n,e)}const{schedule:Am}=ST(queueMicrotask,!1),Qn={x:!1,y:!1};function XT(){return Qn.x||Qn.y}function XP(n){return n==="x"||n==="y"?Qn[n]?null:(Qn[n]=!0,()=>{Qn[n]=!1}):Qn.x||Qn.y?null:(Qn.x=Qn.y=!0,()=>{Qn.x=Qn.y=!1})}function YT(n,e){const t=qP(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function E0(n){return!(n.pointerType==="touch"||XT())}function YP(n,e,t={}){const[r,o,a]=YT(n,t),u=d=>{if(!E0(d))return;const{target:f}=d,m=e(f,d);if(typeof m!="function"||!f)return;const g=w=>{E0(w)&&(m(w),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,o)};return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const JT=(n,e)=>e?n===e?!0:JT(n,e.parentElement):!1,Pm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,JP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZP(n){return JP.has(n.tagName)||n.tabIndex!==-1}const Gc=new WeakSet;function I0(n){return e=>{e.key==="Enter"&&n(e)}}function Lf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ek=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=I0(()=>{if(Gc.has(t))return;Lf(t,"down");const o=I0(()=>{Lf(t,"up")}),a=()=>Lf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function x0(n){return Pm(n)&&!XT()}function tk(n,e,t={}){const[r,o,a]=YT(n,t),u=d=>{const f=d.currentTarget;if(!x0(d))return;Gc.add(f);const m=e(f,d),g=(A,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),Gc.has(f)&&Gc.delete(f),x0(A)&&typeof m=="function"&&m(A,{success:O})},w=A=>{g(A,f===window||f===document||t.useGlobalTarget||JT(f,A.target))},E=A=>{g(A,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",E,o)};return r.forEach(d=>{(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),GP(d)&&(d.addEventListener("focus",m=>ek(m,o)),!ZP(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function ZT(n){return dT(n)&&"ownerSVGElement"in n}function nk(n){return ZT(n)&&n.tagName==="svg"}const en=n=>!!(n&&n.getVelocity),rk=[...qT,St,Zi],ik=n=>rk.find(WT(n)),eE=te.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function sk(n=!0){const e=te.useContext(om);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,a=te.useId();te.useEffect(()=>{if(n)return o(a)},[n]);const u=te.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const tE=te.createContext({strict:!1}),S0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ha={};for(const n in S0)ha[n]={isEnabled:e=>S0[n].some(t=>!!e[t])};function ok(n){for(const e in n)ha[e]={...ha[e],...n[e]}}const ak=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||ak.has(n)}let nE=n=>!uh(n);function lk(n){typeof n=="function"&&(nE=e=>e.startsWith("on")?!uh(e):n(e))}try{lk(require("@emotion/is-prop-valid").default)}catch{}function uk(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(nE(o)||t===!0&&uh(o)||!e&&!uh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Mh=te.createContext({});function Oh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Wl(n){return typeof n=="string"||Array.isArray(n)}const km=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cm=["initial",...km];function Lh(n){return Oh(n.animate)||Cm.some(e=>Wl(n[e]))}function rE(n){return!!(Lh(n)||n.variants)}function ck(n,e){if(Lh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Wl(t)?t:void 0,animate:Wl(r)?r:void 0}}return n.inherit!==!1?e:{}}function hk(n){const{initial:e,animate:t}=ck(n,te.useContext(Mh));return te.useMemo(()=>({initial:e,animate:t}),[A0(e),A0(t)])}function A0(n){return Array.isArray(n)?n.join(" "):n}const ql={};function dk(n){for(const e in n)ql[e]=n[e],pm(e)&&(ql[e].isCSSVariable=!0)}function iE(n,{layout:e,layoutId:t}){return Ta.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!ql[n]||n==="opacity")}const fk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pk=wa.length;function mk(n,e,t){let r="",o=!0;for(let a=0;a<pk;a++){const u=wa[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const m=QT(d,Sm[u]);if(!f){o=!1;const g=fk[u]||u;r+=`${g}(${m}) `}t&&(e[u]=m)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function Rm(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const m=e[f];if(Ta.has(f)){u=!0;continue}else if(pm(f)){o[f]=m;continue}else{const g=QT(m,Sm[f]);f.startsWith("origin")?(d=!0,a[f]=g):r[f]=g}}if(e.transform||(u||t?r.transform=mk(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${m} ${g}`}}const bm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sE(n,e,t){for(const r in e)!en(e[r])&&!iE(r,t)&&(n[r]=e[r])}function gk({transformTemplate:n},e){return te.useMemo(()=>{const t=bm();return Rm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function yk(n,e){const t=n.style||{},r={};return sE(r,t,n),Object.assign(r,gk(n,e)),r}function vk(n,e){const t={},r=yk(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const _k={offset:"stroke-dashoffset",array:"stroke-dasharray"},wk={offset:"strokeDashoffset",array:"strokeDasharray"};function Tk(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?_k:wk;n[a.offset]=Pe.transform(-r);const u=Pe.transform(e),d=Pe.transform(t);n[a.array]=`${u} ${d}`}function oE(n,{attrX:e,attrY:t,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...d},f,m,g){if(Rm(n,d,m),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:E}=n;w.transform&&(E.transform=w.transform,delete w.transform),(E.transform||w.transformOrigin)&&(E.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),E.transform&&(E.transformBox=g?.transformBox??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),o!==void 0&&Tk(w,o,a,u,!1)}const aE=()=>({...bm(),attrs:{}}),lE=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Ek(n,e,t,r){const o=te.useMemo(()=>{const a=aE();return oE(a,e,lE(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};sE(a,n.style,n),o.style={...a,...o.style}}return o}const Ik=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nm(n){return typeof n!="string"||n.includes("-")?!1:!!(Ik.indexOf(n)>-1||/[A-Z]/u.test(n))}function xk(n,e,t,{latestValues:r},o,a=!1){const d=(Nm(n)?Ek:vk)(e,r,o,n),f=uk(e,typeof n=="string",a),m=n!==te.Fragment?{...f,...d,ref:t}:{},{children:g}=e,w=te.useMemo(()=>en(g)?g.get():g,[g]);return te.createElement(n,{...m,children:w})}function P0(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Vm(n,e,t,r){if(typeof e=="function"){const[o,a]=P0(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=P0(r);e=e(t!==void 0?t:n.custom,o,a)}return e}function Kc(n){return en(n)?n.get():n}function Sk({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,o){return{latestValues:Ak(t,r,o,n),renderState:e()}}function Ak(n,e,t,r){const o={},a=r(n,{});for(const E in a)o[E]=Kc(a[E]);let{initial:u,animate:d}=n;const f=Lh(n),m=rE(n);e&&m&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const w=g?d:u;if(w&&typeof w!="boolean"&&!Oh(w)){const E=Array.isArray(w)?w:[w];for(let A=0;A<E.length;A++){const O=Vm(n,E[A]);if(O){const{transitionEnd:F,transition:M,...q}=O;for(const Y in q){let G=q[Y];if(Array.isArray(G)){const ne=g?G.length-1:0;G=G[ne]}G!==null&&(o[Y]=G)}for(const Y in F)o[Y]=F[Y]}}}return o}const uE=n=>(e,t)=>{const r=te.useContext(Mh),o=te.useContext(om),a=()=>Sk(n,e,r,o);return t?a():oA(a)};function Dm(n,e,t){const{style:r}=n,o={};for(const a in r)(en(r[a])||e.style&&en(e.style[a])||iE(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(o[a]=r[a]);return o}const Pk=uE({scrapeMotionValuesFromProps:Dm,createRenderState:bm});function cE(n,e,t){const r=Dm(n,e,t);for(const o in n)if(en(n[o])||en(e[o])){const a=wa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}const kk=uE({scrapeMotionValuesFromProps:cE,createRenderState:aE}),Ck=Symbol.for("motionComponentSymbol");function ea(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Rk(n,e,t){return te.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):ea(t)&&(t.current=r))},[e])}const Mm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bk="framerAppearId",hE="data-"+Mm(bk),dE=te.createContext({});function Nk(n,e,t,r,o){const{visualElement:a}=te.useContext(Mh),u=te.useContext(tE),d=te.useContext(om),f=te.useContext(eE).reducedMotion,m=te.useRef(null);r=r||u.renderer,!m.current&&r&&(m.current=r(n,{visualState:e,parent:a,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=m.current,w=te.useContext(dE);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&Vk(m.current,t,o,w);const E=te.useRef(!1);te.useInsertionEffect(()=>{g&&E.current&&g.update(t,d)});const A=t[hE],O=te.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return aA(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),O.current&&g.animationState&&g.animationState.animateChanges())}),te.useEffect(()=>{g&&(!O.current&&g.animationState&&g.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),O.current=!1),g.enteringChildren=void 0)}),g}function Vk(n,e,t,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:fE(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&ea(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:m})}function fE(n){if(n)return n.options.allowProjection!==!1?n.projection:fE(n.parent)}function jf(n,{forwardMotionProps:e=!1}={},t,r){t&&ok(t);const o=Nm(n)?kk:Pk;function a(d,f){let m;const g={...te.useContext(eE),...d,layoutId:Dk(d)},{isStatic:w}=g,E=hk(d),A=o(d,w);if(!w&&sm){Mk();const O=Ok(g);m=O.MeasureLayout,E.visualElement=Nk(n,A,g,r,O.ProjectionNode)}return S.jsxs(Mh.Provider,{value:E,children:[m&&E.visualElement?S.jsx(m,{visualElement:E.visualElement,...g}):null,xk(n,d,Rk(A,E.visualElement,f),A,w,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=te.forwardRef(a);return u[Ck]=n,u}function Dk({layoutId:n}){const e=te.useContext(cT).id;return e&&n!==void 0?e+"-"+n:n}function Mk(n,e){te.useContext(tE).strict}function Ok(n){const{drag:e,layout:t}=ha;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Lk(n,e){if(typeof Proxy>"u")return jf;const t=new Map,r=(a,u)=>jf(a,u,n,e),o=(a,u)=>r(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?r:(t.has(u)||t.set(u,jf(u,void 0,n,e)),t.get(u))})}function pE({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function jk({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Fk(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Ff(n){return n===void 0||n===1}function Ip({scale:n,scaleX:e,scaleY:t}){return!Ff(n)||!Ff(e)||!Ff(t)}function js(n){return Ip(n)||mE(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function mE(n){return k0(n.x)||k0(n.y)}function k0(n){return n&&n!=="0%"}function ch(n,e,t){const r=n-t,o=e*r;return t+o}function C0(n,e,t,r,o){return o!==void 0&&(n=ch(n,o,r)),ch(n,t,r)+e}function xp(n,e=0,t=1,r,o){n.min=C0(n.min,e,t,r,o),n.max=C0(n.max,e,t,r,o)}function gE(n,{x:e,y:t}){xp(n.x,e.translate,e.scale,e.originPoint),xp(n.y,t.translate,t.scale,t.originPoint)}const R0=.999999999999,b0=1.0000000000001;function Uk(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&na(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,gE(n,u)),r&&js(a.latestValues)&&na(n,a.latestValues))}e.x<b0&&e.x>R0&&(e.x=1),e.y<b0&&e.y>R0&&(e.y=1)}function ta(n,e){n.min=n.min+e,n.max=n.max+e}function N0(n,e,t,r,o=.5){const a=ut(n.min,n.max,o);xp(n,e,t,a,r)}function na(n,e){N0(n.x,e.x,e.scaleX,e.scale,e.originX),N0(n.y,e.y,e.scaleY,e.scale,e.originY)}function yE(n,e){return pE(Fk(n.getBoundingClientRect(),e))}function Bk(n,e,t){const r=yE(n,t),{scroll:o}=e;return o&&(ta(r.x,o.offset.x),ta(r.y,o.offset.y)),r}const V0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ra=()=>({x:V0(),y:V0()}),D0=()=>({min:0,max:0}),vt=()=>({x:D0(),y:D0()}),Sp={current:null},vE={current:!1};function zk(){if(vE.current=!0,!!sm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sp.current=n.matches;n.addEventListener("change",e),e()}else Sp.current=!1}const $k=new WeakMap;function Hk(n,e,t){for(const r in e){const o=e[r],a=t[r];if(en(o))n.addValue(r,o);else if(en(a))n.addValue(r,ca(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,ca(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const M0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wk{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Im,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=pn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ot.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Lh(t),this.isVariantNode=rE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in w){const A=w[E];f[E]!==void 0&&en(A)&&A.set(f[E])}}mount(e){this.current=e,$k.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),vE.current||zk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ji(this.notifyUpdate),Ji(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ta.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ha){const t=ha[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<M0.length;r++){const o=M0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=Hk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ca(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(hT(r)||fT(r))?r=parseFloat(r):!ik(r)&&Zi.test(t)&&(r=KT(e,t)),this.setBaseTarget(e,en(r)?r.get():r)),en(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const a=Vm(this.props,t,this.presenceContext?.custom);a&&(r=a[e])}if(t&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!en(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new hm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Am.render(this.render)}}class _E extends Wk{constructor(){super(...arguments),this.KeyframeResolver=WP}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function wE(n,{style:e,vars:t},r,o){const a=n.style;let u;for(u in e)a[u]=e[u];o?.applyProjectionStyles(a,r);for(u in t)a.setProperty(u,t[u])}function qk(n){return window.getComputedStyle(n)}class Gk extends _E{constructor(){super(...arguments),this.type="html",this.renderInstance=wE}readValueFromInstance(e,t){if(Ta.has(t))return this.projection?.isProjecting?gp(t):cP(e,t);{const r=qk(e),o=(pm(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return yE(e,t)}build(e,t,r){Rm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Dm(e,t,r)}}const TE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kk(n,e,t,r){wE(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(TE.has(o)?o:Mm(o),e.attrs[o])}class Qk extends _E{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ta.has(t)){const r=GT(t);return r&&r.default||0}return t=TE.has(t)?t:Mm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return cE(e,t,r)}build(e,t,r){oE(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,o){Kk(e,t,r,o)}mount(e){this.isSVGTag=lE(e.tagName),super.mount(e)}}const Xk=(n,e)=>Nm(n)?new Qk(e):new Gk(e,{allowProjection:n!==te.Fragment});function ia(n,e,t){const r=n.getProps();return Vm(r,e,t!==void 0?t:r.custom,n)}const Ap=n=>Array.isArray(n);function Yk(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ca(t))}function Jk(n){return Ap(n)?n[n.length-1]||0:n}function Zk(n,e){const t=ia(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const u in a){const d=Jk(a[u]);Yk(n,u,d)}}function eC(n){return!!(en(n)&&n.add)}function Pp(n,e){const t=n.getValue("willChange");if(eC(t))return t.add(e);if(!t&&oi.WillChange){const r=new oi.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function EE(n){return n.props[hE]}const tC=n=>n!==null;function nC(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(tC),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return o[a]}const rC={type:"spring",stiffness:500,damping:25,restSpeed:10},iC=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),sC={type:"keyframes",duration:.8},oC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aC=(n,{keyframes:e})=>e.length>2?sC:Ta.has(n)?n.startsWith("scale")?iC(e[1]):rC:oC;function lC({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:m,...g}){return!!Object.keys(g).length}const Om=(n,e,t,r={},o,a)=>u=>{const d=xm(r,n)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Er(f);const g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:o};lC(d)||Object.assign(g,aC(n,g)),g.duration&&(g.duration=Er(g.duration)),g.repeatDelay&&(g.repeatDelay=Er(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let w=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Tp(g),g.delay===0&&(w=!0)),(oi.instantAnimations||oi.skipAnimations)&&(w=!0,Tp(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,w&&!a&&e.get()!==void 0){const E=nC(g.keyframes,d);if(E!==void 0){ot.update(()=>{g.onUpdate(E),g.onComplete()});return}}return d.isSync?new Em(g):new VP(g)};function uC({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function IE(n,e,{delay:t=0,transitionOverride:r,type:o}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:u,...d}=e;r&&(a=r);const f=[],m=o&&n.animationState&&n.animationState.getState()[o];for(const g in d){const w=n.getValue(g,n.latestValues[g]??null),E=d[g];if(E===void 0||m&&uC(m,g))continue;const A={delay:t,...xm(a||{},g)},O=w.get();if(O!==void 0&&!w.isAnimating&&!Array.isArray(E)&&E===O&&!A.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const q=EE(n);if(q){const Y=window.MotionHandoffAnimation(q,g,ot);Y!==null&&(A.startTime=Y,F=!0)}}Pp(n,g),w.start(Om(g,w,E,n.shouldReduceMotion&&HT.has(g)?{type:!1}:A,n,F));const M=w.animation;M&&f.push(M)}return u&&Promise.all(f).then(()=>{ot.update(()=>{u&&Zk(n,u)})}),f}function xE(n,e,t,r=0,o=1){const a=Array.from(n).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),u=n.size,d=(u-1)*r;return typeof t=="function"?t(a,u):o===1?a*r:d-a*r}function kp(n,e,t={}){const r=ia(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(o=t.transitionOverride);const a=r?()=>Promise.all(IE(n,r,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:w}=o;return cC(n,e,f,m,g,w,t)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,m]=d==="beforeChildren"?[a,u]:[u,a];return f().then(()=>m())}else return Promise.all([a(),u(t.delay)])}function cC(n,e,t=0,r=0,o=0,a=1,u){const d=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),d.push(kp(f,e,{...u,delay:t+(typeof r=="function"?0:r)+xE(n.variantChildren,f,r,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function hC(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>kp(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=kp(n,e,t);else{const o=typeof e=="function"?ia(n,e,t.custom):e;r=Promise.all(IE(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function SE(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const dC=Cm.length;function AE(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?AE(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<dC;t++){const r=Cm[t],o=n.props[r];(Wl(o)||o===!1)&&(e[r]=o)}return e}const fC=[...km].reverse(),pC=km.length;function mC(n){return e=>Promise.all(e.map(({animation:t,options:r})=>hC(n,t,r)))}function gC(n){let e=mC(n),t=O0(),r=!0;const o=f=>(m,g)=>{const w=ia(n,g,f==="exit"?n.presenceContext?.custom:void 0);if(w){const{transition:E,transitionEnd:A,...O}=w;m={...m,...O,...A}}return m};function a(f){e=f(n)}function u(f){const{props:m}=n,g=AE(n.parent)||{},w=[],E=new Set;let A={},O=1/0;for(let M=0;M<pC;M++){const q=fC[M],Y=t[q],G=m[q]!==void 0?m[q]:g[q],ne=Wl(G),re=q===f?Y.isActive:null;re===!1&&(O=M);let ae=G===g[q]&&G!==m[q]&&ne;if(ae&&r&&n.manuallyAnimateOnMount&&(ae=!1),Y.protectedKeys={...A},!Y.isActive&&re===null||!G&&!Y.prevProp||Oh(G)||typeof G=="boolean")continue;const R=yC(Y.prevProp,G);let I=R||q===f&&Y.isActive&&!ae&&ne||M>O&&ne,P=!1;const V=Array.isArray(G)?G:[G];let N=V.reduce(o(q),{});re===!1&&(N={});const{prevResolvedValues:L={}}=Y,C={...L,...N},Ie=xe=>{I=!0,E.has(xe)&&(P=!0,E.delete(xe)),Y.needsAnimating[xe]=!0;const W=n.getValue(xe);W&&(W.liveStyle=!1)};for(const xe in C){const W=N[xe],de=L[xe];if(A.hasOwnProperty(xe))continue;let oe=!1;Ap(W)&&Ap(de)?oe=!SE(W,de):oe=W!==de,oe?W!=null?Ie(xe):E.add(xe):W!==void 0&&E.has(xe)?Ie(xe):Y.protectedKeys[xe]=!0}Y.prevProp=G,Y.prevResolvedValues=N,Y.isActive&&(A={...A,...N}),r&&n.blockInitialAnimation&&(I=!1);const We=ae&&R;I&&(!We||P)&&w.push(...V.map(xe=>{const W={type:q};if(typeof xe=="string"&&r&&!We&&n.manuallyAnimateOnMount&&n.parent){const{parent:de}=n,oe=ia(de,xe);if(de.enteringChildren&&oe){const{delayChildren:j}=oe.transition||{};W.delay=xE(de.enteringChildren,n,j)}}return{animation:xe,options:W}}))}if(E.size){const M={};if(typeof m.initial!="boolean"){const q=ia(n,Array.isArray(m.initial)?m.initial[0]:m.initial);q&&q.transition&&(M.transition=q.transition)}E.forEach(q=>{const Y=n.getBaseTarget(q),G=n.getValue(q);G&&(G.liveStyle=!0),M[q]=Y??null}),w.push({animation:M})}let F=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(F=!1),r=!1,F?e(w):Promise.resolve()}function d(f,m){if(t[f].isActive===m)return Promise.resolve();n.variantChildren?.forEach(w=>w.animationState?.setActive(f,m)),t[f].isActive=m;const g=u(f);for(const w in t)t[w].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=O0()}}}function yC(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!SE(e,n):!1}function Os(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O0(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class as{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vC extends as{constructor(e){super(e),e.animationState||(e.animationState=gC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Oh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let _C=0;class wC extends as{constructor(){super(...arguments),this.id=_C++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const TC={animation:{Feature:vC},exit:{Feature:wC}};function Gl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function au(n){return{point:{x:n.pageX,y:n.pageY}}}const EC=n=>e=>Pm(e)&&n(e,au(e));function Vl(n,e,t,r){return Gl(n,e,EC(t),r)}const PE=1e-4,IC=1-PE,xC=1+PE,kE=.01,SC=0-kE,AC=0+kE;function sn(n){return n.max-n.min}function PC(n,e,t){return Math.abs(n-e)<=t}function L0(n,e,t,r=.5){n.origin=r,n.originPoint=ut(e.min,e.max,n.origin),n.scale=sn(t)/sn(e),n.translate=ut(t.min,t.max,n.origin)-n.originPoint,(n.scale>=IC&&n.scale<=xC||isNaN(n.scale))&&(n.scale=1),(n.translate>=SC&&n.translate<=AC||isNaN(n.translate))&&(n.translate=0)}function Dl(n,e,t,r){L0(n.x,e.x,t.x,r?r.originX:void 0),L0(n.y,e.y,t.y,r?r.originY:void 0)}function j0(n,e,t){n.min=t.min+e.min,n.max=n.min+sn(e)}function kC(n,e,t){j0(n.x,e.x,t.x),j0(n.y,e.y,t.y)}function F0(n,e,t){n.min=e.min-t.min,n.max=n.min+sn(e)}function Ml(n,e,t){F0(n.x,e.x,t.x),F0(n.y,e.y,t.y)}function Vn(n){return[n("x"),n("y")]}const CE=({current:n})=>n?n.ownerDocument.defaultView:null,U0=(n,e)=>Math.abs(n-e);function CC(n,e){const t=U0(n.x,e.x),r=U0(n.y,e.y);return Math.sqrt(t**2+r**2)}class RE{constructor(e,t,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Bf(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,O=CC(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!O)return;const{point:F}=E,{timestamp:M}=Bt;this.history.push({...F,timestamp:M});const{onStart:q,onMove:Y}=this.handlers;A||(q&&q(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Uf(A,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:O,onSessionEnd:F,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=Bf(E.type==="pointercancel"?this.lastMoveEventInfo:Uf(A,this.transformPagePoint),this.history);this.startEvent&&O&&O(E,q),F&&F(E,q)},!Pm(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const d=au(e),f=Uf(d,this.transformPagePoint),{point:m}=f,{timestamp:g}=Bt;this.history=[{...m,timestamp:g}];const{onSessionStart:w}=t;w&&w(e,Bf(f,this.history)),this.removeListeners=iu(Vl(this.contextWindow,"pointermove",this.handlePointerMove),Vl(this.contextWindow,"pointerup",this.handlePointerUp),Vl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ji(this.updatePoint)}}function Uf(n,e){return e?{point:e(n.point)}:n}function B0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Bf({point:n},e){return{point:n,delta:B0(n,bE(e)),offset:B0(n,RC(e)),velocity:bC(e,.1)}}function RC(n){return n[0]}function bE(n){return n[n.length-1]}function bC(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=bE(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>Er(e)));)t--;if(!r)return{x:0,y:0};const a=Ln(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function NC(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ut(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ut(t,n,r.max):Math.min(n,t)),n}function z0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function VC(n,{top:e,left:t,bottom:r,right:o}){return{x:z0(n.x,t,o),y:z0(n.y,e,r)}}function $0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function DC(n,e){return{x:$0(n.x,e.x),y:$0(n.y,e.y)}}function MC(n,e){let t=.5;const r=sn(n),o=sn(e);return o>r?t=zl(e.min,e.max-r,n.min):r>o&&(t=zl(n.min,n.max-o,e.min)),si(0,1,t)}function OC(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Cp=.35;function LC(n=Cp){return n===!1?n=0:n===!0&&(n=Cp),{x:H0(n,"left","right"),y:H0(n,"top","bottom")}}function H0(n,e,t){return{min:W0(n,e),max:W0(n,t)}}function W0(n,e){return typeof n=="number"?n:n[e]||0}const jC=new WeakMap;class FC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(au(w).point)},u=(w,E)=>{const{drag:A,dragPropagation:O,onDragStart:F}=this.getProps();if(A&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XP(A),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(q=>{let Y=this.getAxisMotionValue(q).get()||0;if(Ir.test(Y)){const{projection:G}=this.visualElement;if(G&&G.layout){const ne=G.layout.layoutBox[q];ne&&(Y=sn(ne)*(parseFloat(Y)/100))}}this.originPoint[q]=Y}),F&&ot.postRender(()=>F(w,E)),Pp(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},d=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:O,onDirectionLock:F,onDrag:M}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:q}=E;if(O&&this.currentDirection===null){this.currentDirection=UC(q),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",E.point,q),this.updateAxis("y",E.point,q),this.visualElement.render(),M&&M(w,E)},f=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E,this.stop(w,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Vn(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new RE(e,{onSessionStart:a,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:CE(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,o=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&ot.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!Oc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=NC(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&ea(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=VC(r.layoutBox,e):this.constraints=!1,this.elastic=LC(t),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=OC(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ea(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=Bk(r,o.root,this.visualElement.getTransformPagePoint());let u=DC(o.layout.layoutBox,a);if(t){const d=t(jk(u));this.hasMutatedConstraints=!!d,d&&(u=pE(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Vn(g=>{if(!Oc(g,t,this.currentDirection))return;let w=f&&f[g]||{};u&&(w={min:0,max:0});const E=o?200:1e6,A=o?40:1e7,O={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(g,O)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Pp(this.visualElement,e),r.start(Om(e,r,0,t,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vn(t=>{const{drag:r}=this.getProps();if(!Oc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];a.set(e[t]-ut(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ea(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=MC({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(u=>{if(!Oc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(ut(f,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;jC.set(this.visualElement,this);const e=this.visualElement.current,t=Vl(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ea(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ot.read(r);const u=Gl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Vn(g=>{const w=this.getAxisMotionValue(g);w&&(this.originPoint[g]+=f[g].translate,w.set(w.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Cp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Oc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function UC(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class BC extends as{constructor(e){super(e),this.removeGroupControls=jn,this.removeListeners=jn,this.controls=new FC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const q0=n=>(e,t)=>{n&&ot.postRender(()=>n(e,t))};class zC extends as{constructor(){super(...arguments),this.removePointerDownListener=jn}onPointerDown(e){this.session=new RE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:q0(e),onStart:q0(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&ot.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=Vl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const xl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Pe.test(n))n=parseFloat(n);else return n;const t=G0(n,e.target.x),r=G0(n,e.target.y);return`${t}% ${r}%`}},$C={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=Zi.parse(n);if(o.length>5)return r;const a=Zi.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const m=ut(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),a(o)}};let zf=!1;class HC extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;dk(WC),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),zf&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Qc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,{projection:u}=r;return u&&(u.isPresent=a,zf=!0,o||e.layoutDependency!==t||t===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||ot.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Am.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;zf=!0,o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NE(n){const[e,t]=sk(),r=te.useContext(cT);return S.jsx(HC,{...n,layoutGroup:r,switchLayoutGroup:te.useContext(dE),isPresent:e,safeToRemove:t})}const WC={borderRadius:{...xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xl,borderTopRightRadius:xl,borderBottomLeftRadius:xl,borderBottomRightRadius:xl,boxShadow:$C};function qC(n,e,t){const r=en(n)?n:ca(n);return r.start(Om("",r,e,t)),r.animation}const GC=(n,e)=>n.depth-e.depth;class KC{constructor(){this.children=[],this.isDirty=!1}add(e){am(this.children,e),this.isDirty=!0}remove(e){lm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GC),this.isDirty=!1,this.children.forEach(e)}}function QC(n,e){const t=pn.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(Ji(r),n(a-e))};return ot.setup(r,!0),()=>Ji(r)}const VE=["TopLeft","TopRight","BottomLeft","BottomRight"],XC=VE.length,K0=n=>typeof n=="string"?parseFloat(n):n,Q0=n=>typeof n=="number"||Pe.test(n);function YC(n,e,t,r,o,a){o?(n.opacity=ut(0,t.opacity??1,JC(r)),n.opacityExit=ut(e.opacity??1,0,ZC(r))):a&&(n.opacity=ut(e.opacity??1,t.opacity??1,r));for(let u=0;u<XC;u++){const d=`border${VE[u]}Radius`;let f=X0(e,d),m=X0(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||Q0(f)===Q0(m)?(n[d]=Math.max(ut(K0(f),K0(m),r),0),(Ir.test(m)||Ir.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=ut(e.rotate||0,t.rotate||0,r))}function X0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const JC=DE(0,.5,TT),ZC=DE(.5,.95,jn);function DE(n,e,t){return r=>r<n?0:r>e?1:t(zl(n,e,r))}function Y0(n,e){n.min=e.min,n.max=e.max}function Nn(n,e){Y0(n.x,e.x),Y0(n.y,e.y)}function J0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Z0(n,e,t,r,o){return n-=e,n=ch(n,1/t,r),o!==void 0&&(n=ch(n,1/o,r)),n}function eR(n,e=0,t=1,r=.5,o,a=n,u=n){if(Ir.test(e)&&(e=parseFloat(e),e=ut(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=ut(a.min,a.max,r);n===a&&(d-=e),n.min=Z0(n.min,e,t,d,o),n.max=Z0(n.max,e,t,d,o)}function e_(n,e,[t,r,o],a,u){eR(n,e[t],e[r],e[o],e.scale,a,u)}const tR=["x","scaleX","originX"],nR=["y","scaleY","originY"];function t_(n,e,t,r){e_(n.x,e,tR,t?t.x:void 0,r?r.x:void 0),e_(n.y,e,nR,t?t.y:void 0,r?r.y:void 0)}function n_(n){return n.translate===0&&n.scale===1}function ME(n){return n_(n.x)&&n_(n.y)}function r_(n,e){return n.min===e.min&&n.max===e.max}function rR(n,e){return r_(n.x,e.x)&&r_(n.y,e.y)}function i_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function OE(n,e){return i_(n.x,e.x)&&i_(n.y,e.y)}function s_(n){return sn(n.x)/sn(n.y)}function o_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class iR{constructor(){this.members=[]}add(e){am(this.members,e),e.scheduleRender()}remove(e){if(lm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sR(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:g,rotateX:w,rotateY:E,skewX:A,skewY:O}=t;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),w&&(r+=`rotateX(${w}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),O&&(r+=`skewY(${O}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const $f=["","X","Y","Z"],oR=1e3;let aR=0;function Hf(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function LE(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=EE(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ot,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&LE(r)}function jE({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=aR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cR),this.nodes.forEach(pR),this.nodes.forEach(mR),this.nodes.forEach(hR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new KC)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new hm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ZT(u)&&!nk(u),this.instance=u;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),n){let g,w=0;const E=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{w=window.innerWidth}),n(u,()=>{const A=window.innerWidth;A!==w&&(w=A,this.root.updateBlockedByResize=!0,g&&g(),g=QC(E,250),Qc.hasAnimatedSinceResize&&(Qc.hasAnimatedSinceResize=!1,this.nodes.forEach(u_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:w,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||m.getDefaultTransition()||wR,{onLayoutAnimationStart:F,onLayoutAnimationComplete:M}=m.getProps(),q=!this.targetLayout||!OE(this.targetLayout,A),Y=!w&&E;if(this.options.layoutRoot||this.resumeFrom||Y||w&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const G={...xm(O,"layout"),onPlay:F,onComplete:M};(m.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G),this.setAnimationOrigin(g,Y)}else w||u_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gR),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const w=this.path[g];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(l_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fR),this.nodes.forEach(lR),this.nodes.forEach(uR)):this.nodes.forEach(l_),this.clearAllSnapshots();const d=pn.now();Bt.delta=si(0,1e3/60,d-Bt.timestamp),Bt.timestamp=d,Bt.isProcessing=!0,Nf.update.process(Bt),Nf.preRender.process(Bt),Nf.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Am.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dR),this.sharedNodes.forEach(yR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!ME(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(d||js(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),TR(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return vt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ER))){const{scroll:m}=this.root;m&&(ta(d.x,m.offset.x),ta(d.y,m.offset.y))}return d}removeElementScroll(u){const d=vt();if(Nn(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:w}=m;m!==this.root&&g&&w.layoutScroll&&(g.wasRoot&&Nn(d,u),ta(d.x,g.offset.x),ta(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const f=vt();Nn(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&na(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),js(g.latestValues)&&na(f,g.latestValues)}return js(this.latestValues)&&na(f,this.latestValues),f}removeTransform(u){const d=vt();Nn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!js(m.latestValues))continue;Ip(m.latestValues)&&m.updateSnapshot();const g=vt(),w=m.measurePageBox();Nn(g,w),t_(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return js(this.latestValues)&&t_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:w}=this.options;if(!(!this.layout||!(g||w))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Ml(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nn(this.target,this.layout.layoutBox),gE(this.target,this.targetDelta)):Nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),Ml(this.relativeTargetOrigin,this.target,E.target),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ip(this.parent.latestValues)||mE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Nn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;Uk(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=vt());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(J0(this.prevProjectionDelta.x,this.projectionDelta.x),J0(this.prevProjectionDelta.y,this.projectionDelta.y)),Dl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==E||!o_(this.projectionDelta.x,this.prevProjectionDelta.x)||!o_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ra(),this.projectionDelta=ra(),this.projectionDeltaWithTransform=ra()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},w=ra();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=vt(),A=f?f.source:void 0,O=this.layout?this.layout.source:void 0,F=A!==O,M=this.getStack(),q=!M||M.members.length<=1,Y=!!(F&&!q&&this.options.crossfade===!0&&!this.path.some(_R));this.animationProgress=0;let G;this.mixTargetDelta=ne=>{const re=ne/1e3;c_(w.x,u.x,re),c_(w.y,u.y,re),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ml(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vR(this.relativeTarget,this.relativeTargetOrigin,E,re),G&&rR(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=vt()),Nn(G,this.relativeTarget)),F&&(this.animationValues=g,YC(g,m,this.latestValues,re,Y,q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Qc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ca(0)),this.currentAnimation=qC(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:g}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&FE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||vt();const w=sn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const E=sn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Nn(d,f),na(d,g),Dl(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new iR),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Hf("z",u,m,this.animationValues);for(let g=0;g<$f.length;g++)Hf(`rotate${$f[g]}`,u,m,this.animationValues),Hf(`skew${$f[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Kc(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Kc(d?.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let w=sR(this.projectionDeltaWithTransform,this.treeScale,g);f&&(w=f(g,w)),u.transform=w;const{x:E,y:A}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const O in ql){if(g[O]===void 0)continue;const{correct:F,applyTo:M,isCSSVariable:q}=ql[O],Y=w==="none"?g[O]:F(g[O],m);if(M){const G=M.length;for(let ne=0;ne<G;ne++)u[M[ne]]=Y}else q?this.options.visualElement.renderState.vars[O]=Y:u[O]=Y}this.options.layoutId&&(u.pointerEvents=m===this?Kc(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(a_),this.root.sharedNodes.clear()}}}function lR(n){n.updateLayout()}function uR(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:o}=n.options,a=e.source!==n.layout.source;o==="size"?Vn(g=>{const w=a?e.measuredBox[g]:e.layoutBox[g],E=sn(w);w.min=t[g].min,w.max=w.min+E}):FE(o,e.layoutBox,t)&&Vn(g=>{const w=a?e.measuredBox[g]:e.layoutBox[g],E=sn(t[g]);w.max=w.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+E)});const u=ra();Dl(u,t,e.layoutBox);const d=ra();a?Dl(d,n.applyTransform(r,!0),e.measuredBox):Dl(d,t,e.layoutBox);const f=!ME(u);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:w,layout:E}=g;if(w&&E){const A=vt();Ml(A,e.layoutBox,w.layoutBox);const O=vt();Ml(O,t,E.layoutBox),OE(A,O)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=O,n.relativeTargetOrigin=A,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function cR(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function hR(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function dR(n){n.clearSnapshot()}function a_(n){n.clearMeasurements()}function l_(n){n.isLayoutDirty=!1}function fR(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function u_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function pR(n){n.resolveTargetDelta()}function mR(n){n.calcProjection()}function gR(n){n.resetSkewAndRotation()}function yR(n){n.removeLeadSnapshot()}function c_(n,e,t){n.translate=ut(e.translate,0,t),n.scale=ut(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function h_(n,e,t,r){n.min=ut(e.min,t.min,r),n.max=ut(e.max,t.max,r)}function vR(n,e,t,r){h_(n.x,e.x,t.x,r),h_(n.y,e.y,t.y,r)}function _R(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const wR={duration:.45,ease:[.4,0,.1,1]},d_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),f_=d_("applewebkit/")&&!d_("chrome/")?Math.round:jn;function p_(n){n.min=f_(n.min),n.max=f_(n.max)}function TR(n){p_(n.x),p_(n.y)}function FE(n,e,t){return n==="position"||n==="preserve-aspect"&&!PC(s_(e),s_(t),.2)}function ER(n){return n!==n.root&&n.scroll?.wasRoot}const IR=jE({attachResizeListener:(n,e)=>Gl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wf={current:void 0},UE=jE({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Wf.current){const n=new IR({});n.mount(window),n.setOptions({layoutScroll:!0}),Wf.current=n}return Wf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xR={pan:{Feature:zC},drag:{Feature:BC,ProjectionNode:UE,MeasureLayout:NE}};function m_(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&ot.postRender(()=>a(e,au(e)))}class SR extends as{mount(){const{current:e}=this.node;e&&(this.unmount=YP(e,(t,r)=>(m_(this.node,r,"Start"),o=>m_(this.node,o,"End"))))}unmount(){}}class AR extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iu(Gl(this.node.current,"focus",()=>this.onFocus()),Gl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g_(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&ot.postRender(()=>a(e,au(e)))}class PR extends as{mount(){const{current:e}=this.node;e&&(this.unmount=tk(e,(t,r)=>(g_(this.node,r,"Start"),(o,{success:a})=>g_(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rp=new WeakMap,qf=new WeakMap,kR=n=>{const e=Rp.get(n.target);e&&e(n)},CR=n=>{n.forEach(kR)};function RR({root:n,...e}){const t=n||document;qf.has(t)||qf.set(t,{});const r=qf.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(CR,{root:n,...e})),r[o]}function bR(n,e,t){const r=RR(e);return Rp.set(n,t),r.observe(n),()=>{Rp.delete(n),r.unobserve(n)}}const NR={some:0,all:1};class VR extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:NR[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:w}=this.node.getProps(),E=m?g:w;E&&E(f)};return bR(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(DR(e,t))&&this.startObserver()}unmount(){}}function DR({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const MR={inView:{Feature:VR},tap:{Feature:PR},focus:{Feature:AR},hover:{Feature:SR}},OR={layout:{ProjectionNode:UE,MeasureLayout:NE}},LR={...TC,...MR,...xR,...OR},De=Lk(LR,Xk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FR=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),y_=n=>{const e=FR(n);return e.charAt(0).toUpperCase()+e.slice(1)},BE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=te.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...d},f)=>te.createElement("svg",{ref:f,...UR,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:BE("lucide",o),...d},[...u.map(([m,g])=>te.createElement(m,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(n,e)=>{const t=te.forwardRef(({className:r,...o},a)=>te.createElement(BR,{ref:a,iconNode:e,className:BE(`lucide-${jR(y_(n))}`,`lucide-${n}`,r),...o}));return t.displayName=y_(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$R=pt("arrow-right",zR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],zE=pt("award",HR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],qR=pt("brain",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],KR=pt("calendar",GR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]],XR=pt("camera-off",QR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],v_=pt("camera",YR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ZR=pt("chart-column",JR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$E=pt("circle-alert",eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nb=pt("circle-check",tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ib=pt("clock",rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ob=pt("house",sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lb=pt("loader-circle",ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cb=pt("lock",ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],db=pt("log-in",hb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],pb=pt("log-out",fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],gb=pt("mic-off",mb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Lm=pt("mic",yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],_b=pt("play",vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],bp=pt("sparkles",wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Eb=pt("square",Tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],jm=pt("trending-up",Ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HE=pt("user",xb);function __(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Sb(...n){return e=>{let t=!1;const r=n.map(o=>{const a=__(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():__(n[o],null)}}}}var Ab=Symbol.for("react.lazy"),hh=sA[" use ".trim().toString()];function Pb(n){return typeof n=="object"&&n!==null&&"then"in n}function WE(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Ab&&"_payload"in n&&Pb(n._payload)}function qE(n){const e=Cb(n),t=te.forwardRef((r,o)=>{let{children:a,...u}=r;WE(a)&&typeof hh=="function"&&(a=hh(a._payload));const d=te.Children.toArray(a),f=d.find(bb);if(f){const m=f.props.children,g=d.map(w=>w===f?te.Children.count(m)>1?te.Children.only(null):te.isValidElement(m)?m.props.children:null:w);return S.jsx(e,{...u,ref:o,children:te.isValidElement(m)?te.cloneElement(m,void 0,g):null})}return S.jsx(e,{...u,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var kb=qE("Slot");function Cb(n){const e=te.forwardRef((t,r)=>{let{children:o,...a}=t;if(WE(o)&&typeof hh=="function"&&(o=hh(o._payload)),te.isValidElement(o)){const u=Vb(o),d=Nb(a,o.props);return o.type!==te.Fragment&&(d.ref=r?Sb(r,u):u),te.cloneElement(o,d)}return te.Children.count(o)>1?te.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Rb=Symbol("radix.slottable");function bb(n){return te.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Rb}function Nb(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...d)=>{const f=a(...d);return o(...d),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function Vb(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function GE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=GE(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function KE(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=GE(n))&&(r&&(r+=" "),r+=e);return r}const w_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,T_=KE,Db=(n,e)=>t=>{var r;if(e?.variants==null)return T_(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(m=>{const g=t?.[m],w=a?.[m];if(g===null)return null;const E=w_(g)||w_(w);return o[m][E]}),d=t&&Object.entries(t).reduce((m,g)=>{let[w,E]=g;return E===void 0||(m[w]=E),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:w,className:E,...A}=g;return Object.entries(A).every(O=>{let[F,M]=O;return Array.isArray(M)?M.includes({...a,...d}[F]):{...a,...d}[F]===M})?[...m,w,E]:m},[]);return T_(n,u,f,t?.class,t?.className)},Mb=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},Ob=(n,e)=>({classGroupId:n,validator:e}),QE=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),dh="-",E_=[],Lb="arbitrary..",jb=n=>{const e=Ub(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Fb(u);const d=u.split(dh),f=d[0]===""&&d.length>1?1:0;return XE(d,f,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const f=r[u],m=t[u];return f?m?Mb(m,f):f:m||E_}return t[u]||E_}}},XE=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const o=n[e],a=t.nextPart.get(o);if(a){const m=XE(n,e+1,a);if(m)return m}const u=t.validators;if(u===null)return;const d=e===0?n.join(dh):n.slice(e).join(dh),f=u.length;for(let m=0;m<f;m++){const g=u[m];if(g.validator(d))return g.classGroupId}},Fb=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?Lb+r:void 0})(),Ub=n=>{const{theme:e,classGroups:t}=n;return Bb(t,e)},Bb=(n,e)=>{const t=QE();for(const r in n){const o=n[r];Fm(o,t,r,e)}return t},Fm=(n,e,t,r)=>{const o=n.length;for(let a=0;a<o;a++){const u=n[a];zb(u,e,t,r)}},zb=(n,e,t,r)=>{if(typeof n=="string"){$b(n,e,t);return}if(typeof n=="function"){Hb(n,e,t,r);return}Wb(n,e,t,r)},$b=(n,e,t)=>{const r=n===""?e:YE(e,n);r.classGroupId=t},Hb=(n,e,t,r)=>{if(qb(n)){Fm(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Ob(t,n))},Wb=(n,e,t,r)=>{const o=Object.entries(n),a=o.length;for(let u=0;u<a;u++){const[d,f]=o[u];Fm(f,YE(e,d),t,r)}},YE=(n,e)=>{let t=n;const r=e.split(dh),o=r.length;for(let a=0;a<o;a++){const u=r[a];let d=t.nextPart.get(u);d||(d=QE(),t.nextPart.set(u,d)),t=d}return t},qb=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,Gb=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const o=(a,u)=>{t[a]=u,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let u=t[a];if(u!==void 0)return u;if((u=r[a])!==void 0)return o(a,u),u},set(a,u){a in t?t[a]=u:o(a,u)}}},Np="!",I_=":",Kb=[],x_=(n,e,t,r,o)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:o}),Qb=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let u=0,d=0,f=0,m;const g=o.length;for(let F=0;F<g;F++){const M=o[F];if(u===0&&d===0){if(M===I_){a.push(o.slice(f,F)),f=F+1;continue}if(M==="/"){m=F;continue}}M==="["?u++:M==="]"?u--:M==="("?d++:M===")"&&d--}const w=a.length===0?o:o.slice(f);let E=w,A=!1;w.endsWith(Np)?(E=w.slice(0,-1),A=!0):w.startsWith(Np)&&(E=w.slice(1),A=!0);const O=m&&m>f?m-f:void 0;return x_(a,A,E,O)};if(e){const o=e+I_,a=r;r=u=>u.startsWith(o)?a(u.slice(o.length)):x_(Kb,!1,u,void 0,!0)}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},Xb=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let o=[];for(let a=0;a<t.length;a++){const u=t[a],d=u[0]==="[",f=e.has(u);d||f?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(u)):o.push(u)}return o.length>0&&(o.sort(),r.push(...o)),r}},Yb=n=>({cache:Gb(n.cacheSize),parseClassName:Qb(n),sortModifiers:Xb(n),...jb(n)}),Jb=/\s+/,Zb=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,u=[],d=n.trim().split(Jb);let f="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{isExternal:w,modifiers:E,hasImportantModifier:A,baseClassName:O,maybePostfixModifierPosition:F}=t(g);if(w){f=g+(f.length>0?" "+f:f);continue}let M=!!F,q=r(M?O.substring(0,F):O);if(!q){if(!M){f=g+(f.length>0?" "+f:f);continue}if(q=r(O),!q){f=g+(f.length>0?" "+f:f);continue}M=!1}const Y=E.length===0?"":E.length===1?E[0]:a(E).join(":"),G=A?Y+Np:Y,ne=G+q;if(u.indexOf(ne)>-1)continue;u.push(ne);const re=o(q,M);for(let ae=0;ae<re.length;++ae){const R=re[ae];u.push(G+R)}f=g+(f.length>0?" "+f:f)}return f},e2=(...n)=>{let e=0,t,r,o="";for(;e<n.length;)(t=n[e++])&&(r=JE(t))&&(o&&(o+=" "),o+=r);return o},JE=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=JE(n[r]))&&(t&&(t+=" "),t+=e);return t},t2=(n,...e)=>{let t,r,o,a;const u=f=>{const m=e.reduce((g,w)=>w(g),n());return t=Yb(m),r=t.cache.get,o=t.cache.set,a=d,d(f)},d=f=>{const m=r(f);if(m)return m;const g=Zb(f,t);return o(f,g),g};return a=u,(...f)=>a(e2(...f))},n2=[],bt=n=>{const e=t=>t[n]||n2;return e.isThemeGetter=!0,e},ZE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,e1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,r2=/^\d+\/\d+$/,i2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,a2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,l2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ko=n=>r2.test(n),Oe=n=>!!n&&!Number.isNaN(Number(n)),Bi=n=>!!n&&Number.isInteger(Number(n)),Gf=n=>n.endsWith("%")&&Oe(n.slice(0,-1)),Zr=n=>i2.test(n),u2=()=>!0,c2=n=>s2.test(n)&&!o2.test(n),t1=()=>!1,h2=n=>a2.test(n),d2=n=>l2.test(n),f2=n=>!pe(n)&&!me(n),p2=n=>Ea(n,i1,t1),pe=n=>ZE.test(n),Ls=n=>Ea(n,s1,c2),Kf=n=>Ea(n,_2,Oe),S_=n=>Ea(n,n1,t1),m2=n=>Ea(n,r1,d2),Lc=n=>Ea(n,o1,h2),me=n=>e1.test(n),Sl=n=>Ia(n,s1),g2=n=>Ia(n,w2),A_=n=>Ia(n,n1),y2=n=>Ia(n,i1),v2=n=>Ia(n,r1),jc=n=>Ia(n,o1,!0),Ea=(n,e,t)=>{const r=ZE.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Ia=(n,e,t=!1)=>{const r=e1.exec(n);return r?r[1]?e(r[1]):t:!1},n1=n=>n==="position"||n==="percentage",r1=n=>n==="image"||n==="url",i1=n=>n==="length"||n==="size"||n==="bg-size",s1=n=>n==="length",_2=n=>n==="number",w2=n=>n==="family-name",o1=n=>n==="shadow",T2=()=>{const n=bt("color"),e=bt("font"),t=bt("text"),r=bt("font-weight"),o=bt("tracking"),a=bt("leading"),u=bt("breakpoint"),d=bt("container"),f=bt("spacing"),m=bt("radius"),g=bt("shadow"),w=bt("inset-shadow"),E=bt("text-shadow"),A=bt("drop-shadow"),O=bt("blur"),F=bt("perspective"),M=bt("aspect"),q=bt("ease"),Y=bt("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...ne(),me,pe],ae=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],I=()=>[me,pe,f],P=()=>[Ko,"full","auto",...I()],V=()=>[Bi,"none","subgrid",me,pe],N=()=>["auto",{span:["full",Bi,me,pe]},Bi,me,pe],L=()=>[Bi,"auto",me,pe],C=()=>["auto","min","max","fr",me,pe],Ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],We=()=>["start","end","center","stretch","center-safe","end-safe"],je=()=>["auto",...I()],xe=()=>[Ko,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],W=()=>[n,me,pe],de=()=>[...ne(),A_,S_,{position:[me,pe]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",y2,p2,{size:[me,pe]}],X=()=>[Gf,Sl,Ls],ve=()=>["","none","full",m,me,pe],_e=()=>["",Oe,Sl,Ls],Ve=()=>["solid","dashed","dotted","double"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[Oe,Gf,A_,S_],Fe=()=>["","none",O,me,pe],Ge=()=>["none",Oe,me,pe],wt=()=>["none",Oe,me,pe],tr=()=>[Oe,me,pe],nr=()=>[Ko,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zr],breakpoint:[Zr],color:[u2],container:[Zr],"drop-shadow":[Zr],ease:["in","out","in-out"],font:[f2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zr],shadow:[Zr],spacing:["px",Oe],text:[Zr],"text-shadow":[Zr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ko,pe,me,M]}],container:["container"],columns:[{columns:[Oe,pe,me,d]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Bi,"auto",me,pe]}],basis:[{basis:[Ko,"full","auto",d,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,Ko,"auto","initial","none",pe]}],grow:[{grow:["",Oe,me,pe]}],shrink:[{shrink:["",Oe,me,pe]}],order:[{order:[Bi,"first","last","none",me,pe]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...Ie(),"normal"]}],"justify-items":[{"justify-items":[...We(),"normal"]}],"justify-self":[{"justify-self":["auto",...We()]}],"align-content":[{content:["normal",...Ie()]}],"align-items":[{items:[...We(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...We(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ie()}],"place-items":[{"place-items":[...We(),"baseline"]}],"place-self":[{"place-self":["auto",...We()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:je()}],mx:[{mx:je()}],my:[{my:je()}],ms:[{ms:je()}],me:[{me:je()}],mt:[{mt:je()}],mr:[{mr:je()}],mb:[{mb:je()}],ml:[{ml:je()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:xe()}],w:[{w:[d,"screen",...xe()]}],"min-w":[{"min-w":[d,"screen","none",...xe()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...xe()]}],h:[{h:["screen","lh",...xe()]}],"min-h":[{"min-h":["screen","lh","none",...xe()]}],"max-h":[{"max-h":["screen","lh",...xe()]}],"font-size":[{text:["base",t,Sl,Ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,me,Kf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gf,pe]}],"font-family":[{font:[g2,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,me,pe]}],"line-clamp":[{"line-clamp":[Oe,"none",me,Kf]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",me,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",me,Ls]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Oe,"auto",me,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bi,me,pe],radial:["",me,pe],conic:[Bi,me,pe]},v2,m2]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:ve()}],"rounded-s":[{"rounded-s":ve()}],"rounded-e":[{"rounded-e":ve()}],"rounded-t":[{"rounded-t":ve()}],"rounded-r":[{"rounded-r":ve()}],"rounded-b":[{"rounded-b":ve()}],"rounded-l":[{"rounded-l":ve()}],"rounded-ss":[{"rounded-ss":ve()}],"rounded-se":[{"rounded-se":ve()}],"rounded-ee":[{"rounded-ee":ve()}],"rounded-es":[{"rounded-es":ve()}],"rounded-tl":[{"rounded-tl":ve()}],"rounded-tr":[{"rounded-tr":ve()}],"rounded-br":[{"rounded-br":ve()}],"rounded-bl":[{"rounded-bl":ve()}],"border-w":[{border:_e()}],"border-w-x":[{"border-x":_e()}],"border-w-y":[{"border-y":_e()}],"border-w-s":[{"border-s":_e()}],"border-w-e":[{"border-e":_e()}],"border-w-t":[{"border-t":_e()}],"border-w-r":[{"border-r":_e()}],"border-w-b":[{"border-b":_e()}],"border-w-l":[{"border-l":_e()}],"divide-x":[{"divide-x":_e()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":_e()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,me,pe]}],"outline-w":[{outline:["",Oe,Sl,Ls]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",g,jc,Lc]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",w,jc,Lc]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:_e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Oe,Ls]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":_e()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",E,jc,Lc]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Oe,me,pe]}],"mix-blend":[{"mix-blend":[...Me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[me,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ne()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,pe]}],filter:[{filter:["","none",me,pe]}],blur:[{blur:Fe()}],brightness:[{brightness:[Oe,me,pe]}],contrast:[{contrast:[Oe,me,pe]}],"drop-shadow":[{"drop-shadow":["","none",A,jc,Lc]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Oe,me,pe]}],"hue-rotate":[{"hue-rotate":[Oe,me,pe]}],invert:[{invert:["",Oe,me,pe]}],saturate:[{saturate:[Oe,me,pe]}],sepia:[{sepia:["",Oe,me,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",me,pe]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,me,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,me,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,me,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,me,pe]}],"backdrop-invert":[{"backdrop-invert":["",Oe,me,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,me,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,me,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,me,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",me,pe]}],ease:[{ease:["linear","initial",q,me,pe]}],delay:[{delay:[Oe,me,pe]}],animate:[{animate:["none",Y,me,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[F,me,pe]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:Ge()}],"rotate-x":[{"rotate-x":Ge()}],"rotate-y":[{"rotate-y":Ge()}],"rotate-z":[{"rotate-z":Ge()}],scale:[{scale:wt()}],"scale-x":[{"scale-x":wt()}],"scale-y":[{"scale-y":wt()}],"scale-z":[{"scale-z":wt()}],"scale-3d":["scale-3d"],skew:[{skew:tr()}],"skew-x":[{"skew-x":tr()}],"skew-y":[{"skew-y":tr()}],transform:[{transform:[me,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:nr()}],"translate-x":[{"translate-x":nr()}],"translate-y":[{"translate-y":nr()}],"translate-z":[{"translate-z":nr()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,pe]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Oe,Sl,Ls,Kf]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},E2=t2(T2);function a1(...n){return E2(KE(n))}const I2=Db("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Jt({className:n,variant:e,size:t,asChild:r=!1,...o}){const a=r?kb:"button";return S.jsx(a,{"data-slot":"button",className:a1(I2({variant:e,size:t,className:n})),...o})}function P_({onNavigate:n}){return S.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[S.jsxs("div",{className:"absolute inset-0 -z-10",children:[S.jsx(De.div,{className:"absolute inset-0 opacity-60",animate:{background:["radial-gradient(circle at 20% 50%, #3b82f6 0%, transparent 50%), radial-gradient(circle at 80% 80%, #10b981 0%, transparent 50%), radial-gradient(circle at 40% 20%, #06b6d4 0%, transparent 50%)","radial-gradient(circle at 60% 70%, #3b82f6 0%, transparent 50%), radial-gradient(circle at 20% 20%, #10b981 0%, transparent 50%), radial-gradient(circle at 80% 50%, #06b6d4 0%, transparent 50%)","radial-gradient(circle at 40% 40%, #3b82f6 0%, transparent 50%), radial-gradient(circle at 70% 60%, #10b981 0%, transparent 50%), radial-gradient(circle at 30% 80%, #06b6d4 0%, transparent 50%)","radial-gradient(circle at 20% 50%, #3b82f6 0%, transparent 50%), radial-gradient(circle at 80% 80%, #10b981 0%, transparent 50%), radial-gradient(circle at 40% 20%, #06b6d4 0%, transparent 50%)"]},transition:{duration:20,repeat:1/0,ease:"linear"}}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950 via-slate-900/95 to-slate-950"})]}),S.jsx(De.div,{className:"absolute top-20 left-10 w-72 h-72 bg-blue-500/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,50,0],scale:[1,1.2,1]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),S.jsx(De.div,{className:"absolute bottom-20 right-10 w-96 h-96 bg-green-500/20 rounded-full blur-3xl",animate:{x:[0,-80,0],y:[0,-60,0],scale:[1,1.3,1]},transition:{duration:18,repeat:1/0,ease:"easeInOut"}}),S.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[S.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-20",children:[S.jsxs(De.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-500/20 to-green-500/20 border border-white/10 mb-8",children:[S.jsx(bp,{className:"w-4 h-4 text-blue-400"}),S.jsx("span",{className:"text-sm text-white/80",children:"AI   "})]}),S.jsxs("h1",{className:"text-6xl md:text-7xl mb-6 text-white",children:["  ",S.jsx("br",{}),S.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-cyan-400 to-green-400 bg-clip-text text-transparent",children:"SpeakFlow"})]}),S.jsx("p",{className:"text-xl text-white/70 mb-12 max-w-2xl mx-auto",children:"AI       "}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[S.jsxs(Jt,{onClick:()=>n("record"),size:"lg",className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white border-0 px-8 py-6",children:[S.jsx(Lm,{className:"w-5 h-5 mr-2"})," "]}),S.jsx(Jt,{onClick:()=>n("mypage"),size:"lg",className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white border-0 px-8 py-6",children:"  "})]})]}),S.jsxs(De.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},className:"grid md:grid-cols-3 gap-8 mt-20",children:[S.jsxs(De.div,{whileHover:{scale:1.05},className:"p-8 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 hover:border-blue-500/50 transition-all",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center mb-4",children:S.jsx(qR,{className:"w-6 h-6 text-white"})}),S.jsx("h3",{className:"text-xl mb-3 text-white",children:"AI "}),S.jsx("p",{className:"text-white/60",children:", ,     "})]}),S.jsxs(De.div,{whileHover:{scale:1.05},className:"p-8 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 hover:border-green-500/50 transition-all",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center mb-4",children:S.jsx(jm,{className:"w-6 h-6 text-white"})}),S.jsx("h3",{className:"text-xl mb-3 text-white",children:" "}),S.jsx("p",{className:"text-white/60",children:"      "})]}),S.jsxs(De.div,{whileHover:{scale:1.05},className:"p-8 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 hover:border-cyan-500/50 transition-all",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center mb-4",children:S.jsx(bp,{className:"w-6 h-6 text-white"})}),S.jsx("h3",{className:"text-xl mb-3 text-white",children:" "}),S.jsx("p",{className:"text-white/60",children:"       "})]})]})]})]})}function x2({user:n,onNavigate:e,onComplete:t}){const[r,o]=te.useState(!1),[a,u]=te.useState(!1),[d,f]=te.useState(!1),[m,g]=te.useState(0),[w,E]=te.useState(null),[A,O]=te.useState(!0),[F,M]=te.useState(!0),[q,Y]=te.useState(null),G=te.useRef(null),ne=te.useRef(null),re=te.useRef(null),ae=te.useRef(null);te.useEffect(()=>{G.current&&w&&(G.current.srcObject=w)},[w]);const R=async()=>{try{u(!0);const Ie=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});E(Ie),G.current&&(G.current.srcObject=Ie)}catch(Ie){console.error(Ie),Y("     .")}finally{u(!1)}},I=()=>{w&&(w.getAudioTracks().forEach(Ie=>Ie.enabled=!A),O(!A))},P=()=>{w&&(w.getVideoTracks().forEach(Ie=>Ie.enabled=!F),M(!F))},V=()=>{if(!w)return;const Ie=new MediaRecorder(w),We=[];Ie.ondataavailable=je=>{je.data.size>0&&We.push(je.data)},Ie.onstop=()=>{const je=new Blob(We,{type:"video/webm"});ae.current=je,f(!0),console.log("  :",je)},ne.current=Ie,Ie.start(),o(!0),g(0),re.current=setInterval(()=>g(je=>je+1),1e3)},N=()=>{ne.current&&r&&(ne.current.stop(),o(!1),re.current&&clearInterval(re.current))},L=async()=>{t({overallScore:83,duration:120,metrics:{clarity:80,pace:78,confidence:86,engagement:75},insights:["  .","  .","   ."]}),e("results")},C=Ie=>{const We=Math.floor(Ie/60),je=Ie%60;return`${We.toString().padStart(2,"0")}:${je.toString().padStart(2,"0")}`};return S.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:S.jsxs("div",{className:"absolute inset-0 opacity-30",children:[S.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-blue-500/30 rounded-full blur-3xl"}),S.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-green-500/30 rounded-full blur-3xl"})]})}),S.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[S.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[S.jsx("h1",{className:"text-4xl mb-2 text-white",children:" "}),S.jsx("p",{className:"text-white/60",children:"AI     "})]}),S.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"lg:col-span-2",children:[S.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative aspect-video bg-slate-800/50 rounded-2xl overflow-hidden border border-white/10",children:w?S.jsxs(S.Fragment,{children:[S.jsx("video",{ref:G,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),r&&S.jsxs(De.div,{animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},className:"absolute top-4 left-4 flex items-center gap-2 px-4 py-2 rounded-full bg-red-500/90",children:[S.jsx("div",{className:"w-3 h-3 rounded-full bg-white"}),S.jsx("span",{className:"text-white",children:"REC"})]}),S.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Jt,{onClick:I,size:"sm",variant:"outline",className:"bg-black/50 border-white/20 text-white hover:bg-black/70",children:A?S.jsx(Lm,{className:"w-4 h-4"}):S.jsx(gb,{className:"w-4 h-4"})}),S.jsx(Jt,{onClick:P,size:"sm",variant:"outline",className:"bg-black/50 border-white/20 text-white hover:bg-black/70",children:F?S.jsx(v_,{className:"w-4 h-4"}):S.jsx(XR,{className:"w-4 h-4"})})]}),r&&S.jsx("div",{className:"px-4 py-2 rounded-lg bg-black/50 text-white",children:C(m)})]})]}):S.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:S.jsxs("div",{className:"text-center px-6",children:[S.jsx(v_,{className:"w-16 h-16 text-white/40 mx-auto mb-4"}),q?S.jsx("p",{className:"text-red-400 mb-4",children:q}):S.jsx("p",{className:"text-white/60 mb-4",children:"  "}),S.jsx(Jt,{onClick:R,disabled:a,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white border-0",children:a?" ...":" "})]})})}),w&&!d&&S.jsx(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 flex items-center justify-center gap-4",children:r?S.jsxs(Jt,{onClick:N,size:"lg",className:"bg-red-500 hover:bg-red-600 text-white border-0 px-8",children:[S.jsx(Eb,{className:"w-5 h-5 mr-2"})," "]}):S.jsxs(Jt,{onClick:V,size:"lg",className:"bg-gradient-to-r from-blue-500 to-green-500 text-white border-0 px-8",children:[S.jsx(_b,{className:"w-5 h-5 mr-2"})," "]})}),d&&!r&&S.jsxs("div",{className:"mt-6 flex items-center justify-center gap-6",children:[S.jsx(Jt,{onClick:()=>{f(!1),ae.current=null},className:"bg-slate-600 hover:bg-slate-700 text-white border-0 px-6",children:" "}),S.jsx(Jt,{onClick:L,className:"bg-gradient-to-r from-blue-500 to-green-500 text-white border-0 px-6",children:"  "})]})]}),S.jsx("div",{className:"lg:col-span-1",children:S.jsxs(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-6 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-sm",children:[S.jsx("h3",{className:"text-xl mb-4 text-white",children:" "}),S.jsxs("ul",{className:"space-y-3 text-white/70 text-sm",children:[S.jsx("li",{children:"   "}),S.jsx("li",{children:"    "}),S.jsx("li",{children:"   "})]})]})})]})]})]})}function S2({user:n,results:e,onNavigate:t}){const r=e||{overallScore:85,duration:120,metrics:{clarity:88,pace:82,confidence:87,engagement:83},insights:["     ","    ","      "],timestamp:new Date().toISOString()},o=m=>{const g=Math.floor(m/60),w=m%60;return`${g} ${w}`},a=m=>m>=90?"from-emerald-500 to-green-500":m>=80?"from-blue-500 to-cyan-500":m>=70?"from-yellow-500 to-orange-500":"from-orange-500 to-red-500",u=m=>m>=90?"":m>=80?"":m>=70?"":m>=60?"":" ",d=m=>({clarity:" ",pace:" ",confidence:"",engagement:" "})[m]||m,f=(m,g)=>g>=85?{clarity:"    ",pace:"    ",confidence:"   ",engagement:"    "}[m]||"":g>=70?{clarity:"      ",pace:"      ",confidence:"      ",engagement:"   "}[m]||"":{clarity:"  ",pace:"   ",confidence:"  ",engagement:"  "}[m]||" ";return S.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:S.jsxs("div",{className:"absolute inset-0 opacity-30",children:[S.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-blue-500/30 rounded-full blur-3xl"}),S.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-green-500/30 rounded-full blur-3xl"})]})}),S.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[S.jsxs(De.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center mb-12",children:[S.jsx(De.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center",children:S.jsx(nb,{className:"w-12 h-12 text-white"})}),S.jsx(De.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl mb-3 text-white",children:" !"}),S.jsxs(De.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-white/60",children:[o(r.duration),"  "]})]}),S.jsx(De.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:S.jsxs("div",{className:"relative p-12 rounded-3xl bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl border border-white/20 overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-green-500/10"}),S.jsxs("div",{className:"relative z-10 text-center",children:[S.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 border border-white/20 mb-6",children:[S.jsx(zE,{className:"w-4 h-4 text-blue-400"}),S.jsx("span",{className:"text-sm text-white/80",children:" "})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx(De.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.6,type:"spring",stiffness:150},className:`inline-block text-8xl bg-gradient-to-r ${a(r.overallScore)} bg-clip-text text-transparent mb-2`,children:r.overallScore}),S.jsx("div",{className:"text-3xl text-white/40",children:"/ 100"})]}),S.jsx("div",{className:`inline-block px-6 py-2 rounded-full bg-gradient-to-r ${a(r.overallScore)} text-white text-lg`,children:u(r.overallScore)})]})]})}),S.jsx(De.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7},className:"grid md:grid-cols-2 gap-6 mb-8",children:Object.entries(r.metrics).map(([m,g],w)=>S.jsxs(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+w*.1},className:"p-6 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 hover:border-white/20 transition-all",children:[S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg text-white mb-1",children:d(m)}),S.jsx("p",{className:"text-sm text-white/50",children:f(m,g)})]}),S.jsx("div",{className:`text-3xl bg-gradient-to-r ${a(g)} bg-clip-text text-transparent`,children:g})]}),S.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:S.jsx(De.div,{initial:{width:0},animate:{width:`${g}%`},transition:{delay:.9+w*.1,duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${a(g)} rounded-full`})})]},m))}),S.jsxs(De.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.1},className:"p-8 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 mb-8",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:S.jsx(bp,{className:"w-6 h-6 text-white"})}),S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl text-white",children:"AI  "}),S.jsx("p",{className:"text-sm text-white/50",children:"  "})]})]}),S.jsx("div",{className:"space-y-3",children:r.insights.map((m,g)=>S.jsxs(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1.2+g*.1},className:"flex items-start gap-3 p-4 rounded-xl bg-white/5",children:[S.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:S.jsx("span",{className:"text-white text-sm",children:g+1})}),S.jsx("p",{className:"text-white/80 leading-relaxed",children:m})]},g))})]}),S.jsxs(De.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.5},className:"grid sm:grid-cols-3 gap-4",children:[S.jsx(Jt,{onClick:()=>t("record"),size:"lg",className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white border-0 h-14",children:S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx($R,{className:"w-5 h-5 mb-1"}),S.jsx("span",{children:" "})]})}),S.jsx(Jt,{onClick:()=>t("mypage"),size:"lg",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 h-14",children:S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx(jm,{className:"w-5 h-5 mb-1"}),S.jsx("span",{children:"  "})]})}),S.jsx(Jt,{onClick:()=>t("home"),size:"lg",className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white border-0 h-14",children:S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx(ib,{className:"w-5 h-5 mb-1"}),S.jsx("span",{children:""})]})})]})]})]})}function A2(n,e=[]){let t=[];function r(a,u){const d=te.createContext(u);d.displayName=a+"Context";const f=t.length;t=[...t,u];const m=w=>{const{scope:E,children:A,...O}=w,F=E?.[n]?.[f]||d,M=te.useMemo(()=>O,Object.values(O));return S.jsx(F.Provider,{value:M,children:A})};m.displayName=a+"Provider";function g(w,E){const A=E?.[n]?.[f]||d,O=te.useContext(A);if(O)return O;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[m,g]}const o=()=>{const a=t.map(u=>te.createContext(u));return function(d){const f=d?.[n]||a;return te.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return o.scopeName=n,[r,P2(o,...e)]}function P2(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=r.reduce((d,{useScope:f,scopeName:m})=>{const w=f(a)[`__scope${m}`];return{...d,...w}},{});return te.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}uT();var k2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],l1=k2.reduce((n,e)=>{const t=qE(`Primitive.${e}`),r=te.forwardRef((o,a)=>{const{asChild:u,...d}=o,f=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(f,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),Um="Progress",Bm=100,[C2]=A2(Um),[R2,b2]=C2(Um),u1=te.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:o,getValueLabel:a=N2,...u}=n;(o||o===0)&&!k_(o)&&console.error(V2(`${o}`,"Progress"));const d=k_(o)?o:Bm;r!==null&&!C_(r,d)&&console.error(D2(`${r}`,"Progress"));const f=C_(r,d)?r:null,m=fh(f)?a(f,d):void 0;return S.jsx(R2,{scope:t,value:f,max:d,children:S.jsx(l1.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":fh(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":d1(f,d),"data-value":f??void 0,"data-max":d,...u,ref:e})})});u1.displayName=Um;var c1="ProgressIndicator",h1=te.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,o=b2(c1,t);return S.jsx(l1.div,{"data-state":d1(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:e})});h1.displayName=c1;function N2(n,e){return`${Math.round(n/e*100)}%`}function d1(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function fh(n){return typeof n=="number"}function k_(n){return fh(n)&&!isNaN(n)&&n>0}function C_(n,e){return fh(n)&&!isNaN(n)&&n<=e&&n>=0}function V2(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Bm}\`.`}function D2(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Bm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var M2=u1,O2=h1;function L2({className:n,value:e,...t}){return S.jsx(M2,{"data-slot":"progress",className:a1("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:S.jsx(O2,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const j2=()=>{};var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},F2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},p1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,g=a>>2,w=(a&3)<<4|d>>4;let E=(d&15)<<2|m>>6,A=m&63;f||(A=64,u||(E=64)),r.push(t[g],t[w],t[E],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(f1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):F2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new U2;const E=a<<2|d>>4;if(r.push(E),m!==64){const A=d<<4&240|m>>2;if(r.push(A),w!==64){const O=m<<6&192|w;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class U2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B2=function(n){const e=f1(n);return p1.encodeByteArray(e,!0)},ph=function(n){return B2(n).replace(/\./g,"")},m1=function(n){try{return p1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=()=>z2().__FIREBASE_DEFAULTS__,H2=()=>{if(typeof process>"u"||typeof R_>"u")return;const n=R_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},W2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&m1(n[1]);return e&&JSON.parse(e)},jh=()=>{try{return j2()||$2()||H2()||W2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},g1=n=>jh()?.emulatorHosts?.[n],y1=n=>{const e=g1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},v1=()=>jh()?.config,_1=n=>jh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zm(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ph(JSON.stringify(t)),ph(JSON.stringify(u)),""].join(".")}const Ol={};function G2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?n.emulator.push(e):n.prod.push(e);return n}function K2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let b_=!1;function $m(n,e){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Ol[n]===e||Ol[n]||b_)return;Ol[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=G2().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{b_=!0,u()},E}function g(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=K2(r),A=t("text"),O=document.getElementById(A)||document.createElement("span"),F=t("learnmore"),M=document.getElementById(F)||document.createElement("a"),q=t("preprendIcon"),Y=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;d(G),g(M,F);const ne=m();f(Y,q),G.append(Y,O,M,ne),document.body.appendChild(G)}a?(O.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function X2(){const n=jh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Z2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eN(){const n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tN(){return!X2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nN(){try{return typeof indexedDB=="object"}catch{return!1}}function rN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="FirebaseError";class Vr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=iN,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?sN(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Vr(o,d,r)}}function sN(n,e){return n.replace(oN,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const oN=/\{\$([^}]+)}/g;function aN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ks(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(N_(a)&&N_(u)){if(!Ks(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function N_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lN(n,e){const t=new uN(n,e);return t.subscribe.bind(t)}class uN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");cN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Qf),o.error===void 0&&(o.error=Qf),o.complete===void 0&&(o.complete=Qf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(n){return n&&n._delegate?n._delegate:n}class es{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new q2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fN(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dN(n){return n===Fs?void 0:n}function fN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const mN={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},gN=Ue.INFO,yN={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},vN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=yN[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=gN,this._logHandler=vN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const _N=(n,e)=>e.some(t=>n instanceof t);let V_,D_;function wN(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TN(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T1=new WeakMap,Vp=new WeakMap,E1=new WeakMap,Xf=new WeakMap,Wm=new WeakMap;function EN(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ki(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&T1.set(t,n)}).catch(()=>{}),Wm.set(e,n),e}function IN(n){if(Vp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Vp.set(n,e)}let Dp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||E1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xN(n){Dp=n(Dp)}function SN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Yf(this),e,...t);return E1.set(r,e.sort?e.sort():[e]),Ki(r)}:TN().includes(n)?function(...e){return n.apply(Yf(this),e),Ki(T1.get(this))}:function(...e){return Ki(n.apply(Yf(this),e))}}function AN(n){return typeof n=="function"?SN(n):(n instanceof IDBTransaction&&IN(n),_N(n,wN())?new Proxy(n,Dp):n)}function Ki(n){if(n instanceof IDBRequest)return EN(n);if(Xf.has(n))return Xf.get(n);const e=AN(n);return e!==n&&(Xf.set(n,e),Wm.set(e,n)),e}const Yf=n=>Wm.get(n);function PN(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Ki(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ki(u.result),f.oldVersion,f.newVersion,Ki(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const kN=["get","getKey","getAll","getAllKeys","count"],CN=["put","add","delete","clear"],Jf=new Map;function M_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=CN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||kN.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Jf.set(e,a),a}xN(n=>({...n,get:(e,t,r)=>M_(e,t)||n.get(e,t,r),has:(e,t)=>!!M_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function bN(n){return n.getComponent()?.type==="VERSION"}const Mp="@firebase/app",O_="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Hm("@firebase/app"),NN="@firebase/app-compat",VN="@firebase/analytics-compat",DN="@firebase/analytics",MN="@firebase/app-check-compat",ON="@firebase/app-check",LN="@firebase/auth",jN="@firebase/auth-compat",FN="@firebase/database",UN="@firebase/data-connect",BN="@firebase/database-compat",zN="@firebase/functions",$N="@firebase/functions-compat",HN="@firebase/installations",WN="@firebase/installations-compat",qN="@firebase/messaging",GN="@firebase/messaging-compat",KN="@firebase/performance",QN="@firebase/performance-compat",XN="@firebase/remote-config",YN="@firebase/remote-config-compat",JN="@firebase/storage",ZN="@firebase/storage-compat",eV="@firebase/firestore",tV="@firebase/ai",nV="@firebase/firestore-compat",rV="firebase",iV="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="[DEFAULT]",sV={[Mp]:"fire-core",[NN]:"fire-core-compat",[DN]:"fire-analytics",[VN]:"fire-analytics-compat",[ON]:"fire-app-check",[MN]:"fire-app-check-compat",[LN]:"fire-auth",[jN]:"fire-auth-compat",[FN]:"fire-rtdb",[UN]:"fire-data-connect",[BN]:"fire-rtdb-compat",[zN]:"fire-fn",[$N]:"fire-fn-compat",[HN]:"fire-iid",[WN]:"fire-iid-compat",[qN]:"fire-fcm",[GN]:"fire-fcm-compat",[KN]:"fire-perf",[QN]:"fire-perf-compat",[XN]:"fire-rc",[YN]:"fire-rc-compat",[JN]:"fire-gcs",[ZN]:"fire-gcs-compat",[eV]:"fire-fst",[nV]:"fire-fst-compat",[tV]:"fire-vertex","fire-js":"fire-js",[rV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,oV=new Map,Lp=new Map;function L_(n,e){try{n.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qs(n){const e=n.name;if(Lp.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,n);for(const t of mh.values())L_(t,n);for(const t of oV.values())L_(t,n);return!0}function Fh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new lu("app","Firebase",aV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=iV;function I1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Op,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(t||(t=v1()),!t)throw Qi.create("no-options");const a=mh.get(o);if(a){if(Ks(t,a.options)&&Ks(r,a.config))return a;throw Qi.create("duplicate-app",{appName:o})}const u=new pN(o);for(const f of Lp.values())u.addComponent(f);const d=new lV(t,r,u);return mh.set(o,d),d}function qm(n=Op){const e=mh.get(n);if(!e&&n===Op&&v1())return I1();if(!e)throw Qi.create("no-app",{appName:n});return e}function xr(n,e,t){let r=sV[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(u.join(" "));return}Qs(new es(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="firebase-heartbeat-database",cV=1,Kl="firebase-heartbeat-store";let Zf=null;function x1(){return Zf||(Zf=PN(uV,cV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Kl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qi.create("idb-open",{originalErrorMessage:n.message})})),Zf}async function hV(n){try{const t=(await x1()).transaction(Kl),r=await t.objectStore(Kl).get(S1(n));return await t.done,r}catch(e){if(e instanceof Vr)ai.warn(e.message);else{const t=Qi.create("idb-get",{originalErrorMessage:e?.message});ai.warn(t.message)}}}async function j_(n,e){try{const r=(await x1()).transaction(Kl,"readwrite");await r.objectStore(Kl).put(e,S1(n)),await r.done}catch(t){if(t instanceof Vr)ai.warn(t.message);else{const r=Qi.create("idb-set",{originalErrorMessage:t?.message});ai.warn(r.message)}}}function S1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=1024,fV=30;class pV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=F_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>fV){const o=yV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F_(),{heartbeatsToSend:t,unsentEntries:r}=mV(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ai.warn(e),""}}}function F_(){return new Date().toISOString().substring(0,10)}function mV(n,e=dV){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),U_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),U_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class gV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nN()?rN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function U_(n){return ph(JSON.stringify({version:2,heartbeats:n})).length}function yV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(n){Qs(new es("platform-logger",e=>new RN(e),"PRIVATE")),Qs(new es("heartbeat",e=>new pV(e),"PRIVATE")),xr(Mp,O_,n),xr(Mp,O_,"esm2020"),xr("fire-js","")}vV("");var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,A1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function P(){}P.prototype=I.prototype,R.F=I.prototype,R.prototype=new P,R.prototype.constructor=R,R.D=function(V,N,L){for(var C=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)C[Ie-2]=arguments[Ie];return I.prototype[N].apply(V,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,I,P){P||(P=0);const V=Array(16);if(typeof I=="string")for(var N=0;N<16;++N)V[N]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(N=0;N<16;++N)V[N]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=R.g[0],P=R.g[1],N=R.g[2];let L=R.g[3],C;C=I+(L^P&(N^L))+V[0]+3614090360&4294967295,I=P+(C<<7&4294967295|C>>>25),C=L+(N^I&(P^N))+V[1]+3905402710&4294967295,L=I+(C<<12&4294967295|C>>>20),C=N+(P^L&(I^P))+V[2]+606105819&4294967295,N=L+(C<<17&4294967295|C>>>15),C=P+(I^N&(L^I))+V[3]+3250441966&4294967295,P=N+(C<<22&4294967295|C>>>10),C=I+(L^P&(N^L))+V[4]+4118548399&4294967295,I=P+(C<<7&4294967295|C>>>25),C=L+(N^I&(P^N))+V[5]+1200080426&4294967295,L=I+(C<<12&4294967295|C>>>20),C=N+(P^L&(I^P))+V[6]+2821735955&4294967295,N=L+(C<<17&4294967295|C>>>15),C=P+(I^N&(L^I))+V[7]+4249261313&4294967295,P=N+(C<<22&4294967295|C>>>10),C=I+(L^P&(N^L))+V[8]+1770035416&4294967295,I=P+(C<<7&4294967295|C>>>25),C=L+(N^I&(P^N))+V[9]+2336552879&4294967295,L=I+(C<<12&4294967295|C>>>20),C=N+(P^L&(I^P))+V[10]+4294925233&4294967295,N=L+(C<<17&4294967295|C>>>15),C=P+(I^N&(L^I))+V[11]+2304563134&4294967295,P=N+(C<<22&4294967295|C>>>10),C=I+(L^P&(N^L))+V[12]+1804603682&4294967295,I=P+(C<<7&4294967295|C>>>25),C=L+(N^I&(P^N))+V[13]+4254626195&4294967295,L=I+(C<<12&4294967295|C>>>20),C=N+(P^L&(I^P))+V[14]+2792965006&4294967295,N=L+(C<<17&4294967295|C>>>15),C=P+(I^N&(L^I))+V[15]+1236535329&4294967295,P=N+(C<<22&4294967295|C>>>10),C=I+(N^L&(P^N))+V[1]+4129170786&4294967295,I=P+(C<<5&4294967295|C>>>27),C=L+(P^N&(I^P))+V[6]+3225465664&4294967295,L=I+(C<<9&4294967295|C>>>23),C=N+(I^P&(L^I))+V[11]+643717713&4294967295,N=L+(C<<14&4294967295|C>>>18),C=P+(L^I&(N^L))+V[0]+3921069994&4294967295,P=N+(C<<20&4294967295|C>>>12),C=I+(N^L&(P^N))+V[5]+3593408605&4294967295,I=P+(C<<5&4294967295|C>>>27),C=L+(P^N&(I^P))+V[10]+38016083&4294967295,L=I+(C<<9&4294967295|C>>>23),C=N+(I^P&(L^I))+V[15]+3634488961&4294967295,N=L+(C<<14&4294967295|C>>>18),C=P+(L^I&(N^L))+V[4]+3889429448&4294967295,P=N+(C<<20&4294967295|C>>>12),C=I+(N^L&(P^N))+V[9]+568446438&4294967295,I=P+(C<<5&4294967295|C>>>27),C=L+(P^N&(I^P))+V[14]+3275163606&4294967295,L=I+(C<<9&4294967295|C>>>23),C=N+(I^P&(L^I))+V[3]+4107603335&4294967295,N=L+(C<<14&4294967295|C>>>18),C=P+(L^I&(N^L))+V[8]+1163531501&4294967295,P=N+(C<<20&4294967295|C>>>12),C=I+(N^L&(P^N))+V[13]+2850285829&4294967295,I=P+(C<<5&4294967295|C>>>27),C=L+(P^N&(I^P))+V[2]+4243563512&4294967295,L=I+(C<<9&4294967295|C>>>23),C=N+(I^P&(L^I))+V[7]+1735328473&4294967295,N=L+(C<<14&4294967295|C>>>18),C=P+(L^I&(N^L))+V[12]+2368359562&4294967295,P=N+(C<<20&4294967295|C>>>12),C=I+(P^N^L)+V[5]+4294588738&4294967295,I=P+(C<<4&4294967295|C>>>28),C=L+(I^P^N)+V[8]+2272392833&4294967295,L=I+(C<<11&4294967295|C>>>21),C=N+(L^I^P)+V[11]+1839030562&4294967295,N=L+(C<<16&4294967295|C>>>16),C=P+(N^L^I)+V[14]+4259657740&4294967295,P=N+(C<<23&4294967295|C>>>9),C=I+(P^N^L)+V[1]+2763975236&4294967295,I=P+(C<<4&4294967295|C>>>28),C=L+(I^P^N)+V[4]+1272893353&4294967295,L=I+(C<<11&4294967295|C>>>21),C=N+(L^I^P)+V[7]+4139469664&4294967295,N=L+(C<<16&4294967295|C>>>16),C=P+(N^L^I)+V[10]+3200236656&4294967295,P=N+(C<<23&4294967295|C>>>9),C=I+(P^N^L)+V[13]+681279174&4294967295,I=P+(C<<4&4294967295|C>>>28),C=L+(I^P^N)+V[0]+3936430074&4294967295,L=I+(C<<11&4294967295|C>>>21),C=N+(L^I^P)+V[3]+3572445317&4294967295,N=L+(C<<16&4294967295|C>>>16),C=P+(N^L^I)+V[6]+76029189&4294967295,P=N+(C<<23&4294967295|C>>>9),C=I+(P^N^L)+V[9]+3654602809&4294967295,I=P+(C<<4&4294967295|C>>>28),C=L+(I^P^N)+V[12]+3873151461&4294967295,L=I+(C<<11&4294967295|C>>>21),C=N+(L^I^P)+V[15]+530742520&4294967295,N=L+(C<<16&4294967295|C>>>16),C=P+(N^L^I)+V[2]+3299628645&4294967295,P=N+(C<<23&4294967295|C>>>9),C=I+(N^(P|~L))+V[0]+4096336452&4294967295,I=P+(C<<6&4294967295|C>>>26),C=L+(P^(I|~N))+V[7]+1126891415&4294967295,L=I+(C<<10&4294967295|C>>>22),C=N+(I^(L|~P))+V[14]+2878612391&4294967295,N=L+(C<<15&4294967295|C>>>17),C=P+(L^(N|~I))+V[5]+4237533241&4294967295,P=N+(C<<21&4294967295|C>>>11),C=I+(N^(P|~L))+V[12]+1700485571&4294967295,I=P+(C<<6&4294967295|C>>>26),C=L+(P^(I|~N))+V[3]+2399980690&4294967295,L=I+(C<<10&4294967295|C>>>22),C=N+(I^(L|~P))+V[10]+4293915773&4294967295,N=L+(C<<15&4294967295|C>>>17),C=P+(L^(N|~I))+V[1]+2240044497&4294967295,P=N+(C<<21&4294967295|C>>>11),C=I+(N^(P|~L))+V[8]+1873313359&4294967295,I=P+(C<<6&4294967295|C>>>26),C=L+(P^(I|~N))+V[15]+4264355552&4294967295,L=I+(C<<10&4294967295|C>>>22),C=N+(I^(L|~P))+V[6]+2734768916&4294967295,N=L+(C<<15&4294967295|C>>>17),C=P+(L^(N|~I))+V[13]+1309151649&4294967295,P=N+(C<<21&4294967295|C>>>11),C=I+(N^(P|~L))+V[4]+4149444226&4294967295,I=P+(C<<6&4294967295|C>>>26),C=L+(P^(I|~N))+V[11]+3174756917&4294967295,L=I+(C<<10&4294967295|C>>>22),C=N+(I^(L|~P))+V[2]+718787259&4294967295,N=L+(C<<15&4294967295|C>>>17),C=P+(L^(N|~I))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,I){I===void 0&&(I=R.length);const P=I-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<I;){if(N==0)for(;L<=P;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<I;)if(V[N++]=R.charCodeAt(L++),N==this.blockSize){o(this,V),N=0;break}}else for(;L<I;)if(V[N++]=R[L++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=I},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var P=R.length-8;P<R.length;++P)R[P]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,P=0;P<4;++P)for(let V=0;V<32;V+=8)R[I++]=this.g[P]>>>V&255;return R};function a(R,I){var P=d;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=I(R)}function u(R,I){this.h=I;const P=[];let V=!0;for(let N=R.length-1;N>=0;N--){const L=R[N]|0;V&&L==I||(P[N]=L,V=!1)}this.g=P}var d={};function f(R){return-128<=R&&R<128?a(R,function(I){return new u([I|0],I<0?-1:0)}):new u([R|0],R<0?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return M(m(-R));const I=[];let P=1;for(let V=0;R>=P;V++)I[V]=R/P|0,P*=4294967296;return new u(I,0)}function g(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return M(g(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(I,8));let V=w;for(let L=0;L<R.length;L+=8){var N=Math.min(8,R.length-L);const C=parseInt(R.substring(L,L+N),I);N<8?(N=m(Math.pow(I,N)),V=V.j(N).add(m(C))):(V=V.j(P),V=V.add(m(C)))}return V}var w=f(0),E=f(1),A=f(16777216);n=u.prototype,n.m=function(){if(F(this))return-M(this).m();let R=0,I=1;for(let P=0;P<this.g.length;P++){const V=this.i(P);R+=(V>=0?V:4294967296+V)*I,I*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O(this))return"0";if(F(this))return"-"+M(this).toString(R);const I=m(Math.pow(R,6));var P=this;let V="";for(;;){const N=ne(P,I).g;P=q(P,N.j(I));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(R);if(P=N,O(P))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function O(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function F(R){return R.h==-1}n.l=function(R){return R=q(this,R),F(R)?-1:O(R)?0:1};function M(R){const I=R.g.length,P=[];for(let V=0;V<I;V++)P[V]=~R.g[V];return new u(P,~R.h).add(E)}n.abs=function(){return F(this)?M(this):this},n.add=function(R){const I=Math.max(this.g.length,R.g.length),P=[];let V=0;for(let N=0;N<=I;N++){let L=V+(this.i(N)&65535)+(R.i(N)&65535),C=(L>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);V=C>>>16,L&=65535,C&=65535,P[N]=C<<16|L}return new u(P,P[P.length-1]&-2147483648?-1:0)};function q(R,I){return R.add(M(I))}n.j=function(R){if(O(this)||O(R))return w;if(F(this))return F(R)?M(this).j(M(R)):M(M(this).j(R));if(F(R))return M(this.j(M(R)));if(this.l(A)<0&&R.l(A)<0)return m(this.m()*R.m());const I=this.g.length+R.g.length,P=[];for(var V=0;V<2*I;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<R.g.length;N++){const L=this.i(V)>>>16,C=this.i(V)&65535,Ie=R.i(N)>>>16,We=R.i(N)&65535;P[2*V+2*N]+=C*We,Y(P,2*V+2*N),P[2*V+2*N+1]+=L*We,Y(P,2*V+2*N+1),P[2*V+2*N+1]+=C*Ie,Y(P,2*V+2*N+1),P[2*V+2*N+2]+=L*Ie,Y(P,2*V+2*N+2)}for(R=0;R<I;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=I;R<2*I;R++)P[R]=0;return new u(P,0)};function Y(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function G(R,I){this.g=R,this.h=I}function ne(R,I){if(O(I))throw Error("division by zero");if(O(R))return new G(w,w);if(F(R))return I=ne(M(R),I),new G(M(I.g),M(I.h));if(F(I))return I=ne(R,M(I)),new G(M(I.g),I.h);if(R.g.length>30){if(F(R)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var P=E,V=I;V.l(R)<=0;)P=re(P),V=re(V);var N=ae(P,1),L=ae(V,1);for(V=ae(V,2),P=ae(P,2);!O(V);){var C=L.add(V);C.l(R)<=0&&(N=N.add(P),L=C),V=ae(V,1),P=ae(P,1)}return I=q(R,N.j(I)),new G(N,I)}for(N=w;R.l(I)>=0;){for(P=Math.max(1,Math.floor(R.m()/I.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=m(P),C=L.j(I);F(C)||C.l(R)>0;)P-=V,L=m(P),C=L.j(I);O(L)&&(L=E),N=N.add(L),R=q(R,C)}return new G(N,R)}n.B=function(R){return ne(this,R).h},n.and=function(R){const I=Math.max(this.g.length,R.g.length),P=[];for(let V=0;V<I;V++)P[V]=this.i(V)&R.i(V);return new u(P,this.h&R.h)},n.or=function(R){const I=Math.max(this.g.length,R.g.length),P=[];for(let V=0;V<I;V++)P[V]=this.i(V)|R.i(V);return new u(P,this.h|R.h)},n.xor=function(R){const I=Math.max(this.g.length,R.g.length),P=[];for(let V=0;V<I;V++)P[V]=this.i(V)^R.i(V);return new u(P,this.h^R.h)};function re(R){const I=R.g.length+1,P=[];for(let V=0;V<I;V++)P[V]=R.i(V)<<1|R.i(V-1)>>>31;return new u(P,R.h)}function ae(R,I){const P=I>>5;I%=32;const V=R.g.length-P,N=[];for(let L=0;L<V;L++)N[L]=I>0?R.i(L+P)>>>I|R.i(L+P+1)<<32-I:R.i(L+P);return new u(N,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,A1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,Xi=u}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P1,Pl,k1,Xc,jp,C1,R1,b1;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var v=0;v<c.length;++v){var _=c[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,v){if(v)e:{var _=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var B=c[x];if(!(B in _))break e;_=_[B]}c=c[c.length-1],x=_[c],v=v(x),v!=x&&v!=null&&e(_,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var _=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&_.push([x,v[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function f(c,v,_){return c.call.apply(c.bind,arguments)}function m(c,v,_){return m=f,m.apply(null,arguments)}function g(c,v){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function w(c,v){function _(){}_.prototype=v.prototype,c.Z=v.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(x,B,H){for(var se=Array(arguments.length-2),be=2;be<arguments.length;be++)se[be-2]=arguments[be];return v.prototype[B].apply(x,se)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const v=c.length;if(v>0){const _=Array(v);for(let x=0;x<v;x++)_[x]=c[x];return _}return[]}function O(c,v){for(let x=1;x<arguments.length;x++){const B=arguments[x];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=c.length||0;const H=B.length||0;c.length=_+H;for(let se=0;se<H;se++)c[_+se]=B[se]}else c.push(B)}}class F{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(c){u.setTimeout(()=>{throw c},0)}function q(){var c=R;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Y{constructor(){this.h=this.g=null}add(v,_){const x=G.get();x.set(v,_),this.h?this.h.next=x:this.g=x,this.h=x}}var G=new F(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ae=!1,R=new Y,I=()=>{const c=Promise.resolve(void 0);re=()=>{c.then(P)}};function P(){for(var c;c=q();){try{c.h.call(c.g)}catch(_){M(_)}var v=G;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}ae=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};u.addEventListener("test",_,v),u.removeEventListener("test",_,v)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Ie(c,v){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}w(Ie,N),Ie.prototype.init=function(c,v){const _=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(_=="mouseover"?v=c.fromElement:_=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),je=0;function xe(c,v,_,x,B){this.listener=c,this.proxy=null,this.src=v,this.type=_,this.capture=!!x,this.ha=B,this.key=++je,this.da=this.fa=!1}function W(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function de(c,v,_){for(const x in c)v.call(_,c[x],x,c)}function oe(c,v){for(const _ in c)v.call(void 0,c[_],_,c)}function j(c){const v={};for(const _ in c)v[_]=c[_];return v}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(c,v){let _,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(_ in x)c[_]=x[_];for(let H=0;H<X.length;H++)_=X[H],Object.prototype.hasOwnProperty.call(x,_)&&(c[_]=x[_])}}function _e(c){this.src=c,this.g={},this.h=0}_e.prototype.add=function(c,v,_,x,B){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const se=Me(c,v,x,B);return se>-1?(v=c[se],_||(v.fa=!1)):(v=new xe(v,this.src,H,!!x,B),v.fa=_,c.push(v)),v};function Ve(c,v){const _=v.type;if(_ in c.g){var x=c.g[_],B=Array.prototype.indexOf.call(x,v,void 0),H;(H=B>=0)&&Array.prototype.splice.call(x,B,1),H&&(W(v),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Me(c,v,_,x){for(let B=0;B<c.length;++B){const H=c[B];if(!H.da&&H.listener==v&&H.capture==!!_&&H.ha==x)return B}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Fe={};function Ge(c,v,_,x,B){if(Array.isArray(v)){for(let H=0;H<v.length;H++)Ge(c,v[H],_,x,B);return null}return _=Ra(_),c&&c[We]?c.J(v,_,d(x)?!!x.capture:!1,B):wt(c,v,_,!1,x,B)}function wt(c,v,_,x,B,H){if(!v)throw Error("Invalid event type");const se=d(B)?!!B.capture:!!B;let be=ao(c);if(be||(c[Se]=be=new _e(c)),_=be.add(v,_,x,se,H),_.proxy)return _;if(x=tr(),_.proxy=x,x.src=c,x.listener=_,c.addEventListener)L||(B=se),B===void 0&&(B=!1),c.addEventListener(v.toString(),x,B);else if(c.attachEvent)c.attachEvent(oo(v.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function tr(){function c(_){return v.call(c.src,c.listener,_)}const v=vu;return c}function nr(c,v,_,x,B){if(Array.isArray(v))for(var H=0;H<v.length;H++)nr(c,v[H],_,x,B);else x=d(x)?!!x.capture:!!x,_=Ra(_),c&&c[We]?(c=c.i,H=String(v).toString(),H in c.g&&(v=c.g[H],_=Me(v,_,x,B),_>-1&&(W(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete c.g[H],c.h--)))):c&&(c=ao(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Me(v,_,x,B)),(_=c>-1?v[c]:null)&&hi(_))}function hi(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[We])Ve(v.i,c);else{var _=c.type,x=c.proxy;v.removeEventListener?v.removeEventListener(_,x,c.capture):v.detachEvent?v.detachEvent(oo(_),x):v.addListener&&v.removeListener&&v.removeListener(x),(_=ao(v))?(Ve(_,c),_.h==0&&(_.src=null,v[Se]=null)):W(c)}}}function oo(c){return c in Fe?Fe[c]:Fe[c]="on"+c}function vu(c,v){if(c.da)c=!0;else{v=new Ie(v,this);const _=c.listener,x=c.ha||c.src;c.fa&&hi(c),c=_.call(x,v)}return c}function ao(c){return c=c[Se],c instanceof _e?c:null}var us="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ra(c){return typeof c=="function"?c:(c[us]||(c[us]=function(v){return c.handleEvent(v)}),c[us])}function Tt(){V.call(this),this.i=new _e(this),this.M=this,this.G=null}w(Tt,V),Tt.prototype[We]=!0,Tt.prototype.removeEventListener=function(c,v,_,x){nr(this,c,v,_,x)};function mt(c,v){var _,x=c.G;if(x)for(_=[];x;x=x.G)_.push(x);if(c=c.M,x=v.type||v,typeof v=="string")v=new N(v,c);else if(v instanceof N)v.target=v.target||c;else{var B=v;v=new N(x,c),ve(v,B)}B=!0;let H,se;if(_)for(se=_.length-1;se>=0;se--)H=v.g=_[se],B=Fn(H,x,!0,v)&&B;if(H=v.g=c,B=Fn(H,x,!0,v)&&B,B=Fn(H,x,!1,v)&&B,_)for(se=0;se<_.length;se++)H=v.g=_[se],B=Fn(H,x,!1,v)&&B}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const _=c.g[v];for(let x=0;x<_.length;x++)W(_[x]);delete c.g[v],c.h--}}this.G=null},Tt.prototype.J=function(c,v,_,x){return this.i.add(String(c),v,!1,_,x)},Tt.prototype.K=function(c,v,_,x){return this.i.add(String(c),v,!0,_,x)};function Fn(c,v,_,x){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let B=!0;for(let H=0;H<v.length;++H){const se=v[H];if(se&&!se.da&&se.capture==_){const be=se.listener,gt=se.ha||se.src;se.fa&&Ve(c.i,se),B=be.call(gt,x)!==!1&&B}}return B&&!x.defaultPrevented}function ba(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(c,v||0)}function Na(c){c.g=ba(()=>{c.g=null,c.i&&(c.i=!1,Na(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class _u extends V{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Na(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function di(c){V.call(this),this.h=c,this.g={}}w(di,V);var Va=[];function lo(c){de(c.g,function(v,_){this.g.hasOwnProperty(_)&&hi(v)},c),c.g={}}di.prototype.N=function(){di.Z.N.call(this),lo(this)},di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fi=u.JSON.stringify,wu=u.JSON.parse,cs=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function pi(){}function Tu(){}var mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function uo(){N.call(this,"d")}w(uo,N);function Da(){N.call(this,"c")}w(Da,N);var Un={},co=null;function gi(){return co=co||new Tt}Un.Ia="serverreachability";function ho(c){N.call(this,Un.Ia,c)}w(ho,N);function Mr(c){const v=gi();mt(v,new ho(v))}Un.STAT_EVENT="statevent";function Or(c,v){N.call(this,Un.STAT_EVENT,c),this.stat=v}w(Or,N);function ht(c){const v=gi();mt(v,new Or(v,c))}Un.Ja="timingevent";function Ma(c,v){N.call(this,Un.Ja,c),this.size=v}w(Ma,N);function yi(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},v)}function vi(){this.g=!0}vi.prototype.ua=function(){this.g=!1};function Eu(c,v,_,x,B,H){c.info(function(){if(c.g)if(H){var se="",be=H.split("&");for(let Ye=0;Ye<be.length;Ye++){var gt=be[Ye].split("=");if(gt.length>1){const Et=gt[0];gt=gt[1];const wn=Et.split("_");se=wn.length>=2&&wn[1]=="type"?se+(Et+"="+gt+"&"):se+(Et+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+v+`
`+_+`
`+se})}function Iu(c,v,_,x,B,H,se){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+v+`
`+_+`
`+H+" "+se})}function rr(c,v,_,x){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+hs(c,_)+(x?" "+x:"")})}function xu(c,v){c.info(function(){return"TIMEOUT: "+v})}vi.prototype.info=function(){};function hs(c,v){if(!c.g)return v;if(!v)return null;try{const H=JSON.parse(v);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var _=H[c];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var B=x[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<x.length;se++)x[se]=""}}}}return fi(H)}catch{return v}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Su;function Lr(){}w(Lr,pi),Lr.prototype.g=function(){return new XMLHttpRequest},Su=new Lr;function ir(c){return encodeURIComponent(String(c))}function fo(c){var v=1;c=c.split(":");const _=[];for(;v>0&&c.length;)_.push(c.shift()),v--;return c.length&&_.push(c.join(":")),_}function xn(c,v,_,x){this.j=c,this.i=v,this.l=_,this.S=x||1,this.V=new di(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Au}function Au(){this.i=null,this.g="",this.h=!1}var Pu={},Oa={};function Bn(c,v,_){c.M=1,c.A=Fr(Sn(v)),c.u=_,c.R=!0,La(c,null)}function La(c,v){c.F=Date.now(),ds(c),c.B=Sn(c.A);var _=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),Ga(_.i,"t",x),c.C=0,_=c.j.L,c.h=new Au,c.g=Lu(c.j,_?v:null,!c.u),c.P>0&&(c.O=new _u(m(c.Y,c,c.g),c.P)),v=c.V,_=c.g,x=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Va[0]=B.toString()),B=Va);for(let H=0;H<B.length;H++){const se=Ge(_,B[H],x||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Mr(),Eu(c.i,c.v,c.B,c.l,c.S,c.u)}xn.prototype.ba=function(c){c=c.target;const v=this.O;v&&hr(c)==3?v.j():this.Y(c)},xn.prototype.Y=function(c){try{if(c==this.g)e:{const be=hr(this.g),gt=this.g.ya(),Ye=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Mu(this.g)))){this.K||be!=4||gt==7||(gt==8||Ye<=0?Mr(3):Mr(2)),po(this);var v=this.g.ca();this.X=v;var _=ku(this);if(this.o=v==200,Iu(this.i,this.v,this.B,this.l,this.S,be,v),this.o){if(this.U&&!this.L){t:{if(this.g){var x,B=this.g;if((x=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(x)){var H=x;break t}}H=null}if(c=H)rr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,c);else{this.o=!1,this.m=3,ht(12),jr(this),fs(this);break e}}if(this.R){c=!0;let Et;for(;!this.K&&this.C<_.length;)if(Et=Ru(this,_),Et==Oa){be==4&&(this.m=4,ht(14),c=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Pu){this.m=4,ht(15),rr(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else rr(this.i,this.l,Et,null),tt(this,Et);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||_.length!=0||this.h.h||(this.m=1,ht(16),c=!1),this.o=this.o&&c,!c)rr(this.i,this.l,_,"[Invalid Chunked Response]"),jr(this),fs(this);else if(_.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Es(se),se.P=!0,ht(11))}}else rr(this.i,this.l,_,null),tt(this,_);be==4&&jr(this),this.o&&!this.K&&(be==4?xo(this.j,this):(this.o=!1,ds(this)))}else Qa(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),jr(this),fs(this)}}}catch{}finally{}};function ku(c){if(!Cu(c))return c.g.la();const v=Mu(c.g);if(v==="")return"";let _="";const x=v.length,B=hr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return jr(c),fs(c),"";c.h.i=new u.TextDecoder}for(let H=0;H<x;H++)c.h.h=!0,_+=c.h.i.decode(v[H],{stream:!(B&&H==x-1)});return v.length=0,c.h.g+=_,c.C=0,c.h.g}function Cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ru(c,v){var _=c.C,x=v.indexOf(`
`,_);return x==-1?Oa:(_=Number(v.substring(_,x)),isNaN(_)?Pu:(x+=1,x+_>v.length?Oa:(v=v.slice(x,x+_),c.C=x+_,v)))}xn.prototype.cancel=function(){this.K=!0,jr(this)};function ds(c){c.T=Date.now()+c.H,ja(c,c.H)}function ja(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=yi(m(c.aa,c),v)}function po(c){c.D&&(u.clearTimeout(c.D),c.D=null)}xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(xu(this.i,this.B),this.M!=2&&(Mr(),ht(17)),jr(this),this.m=2,fs(this)):ja(this,this.T-c)};function fs(c){c.j.I==0||c.K||xo(c.j,c)}function jr(c){po(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,lo(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function tt(c,v){try{var _=c.j;if(_.I!=0&&(_.g==c||Ua(_.h,c))){if(!c.L&&Ua(_.h,c)&&_.I==3){try{var x=_.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Io(_),vn(_);else break e;pr(_),ht(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=yi(m(_.Va,_),6e3));ps(_.h)<=1&&_.ta&&(_.ta=void 0)}else _n(_,11)}else if((c.L||_.g==c)&&Io(_),!C(v))for(B=_.Ba.g.parse(v),v=0;v<B.length;v++){let Ye=B[v];const Et=Ye[0];if(!(Et<=_.K))if(_.K=Et,Ye=Ye[1],_.I==2)if(Ye[0]=="c"){_.M=Ye[1],_.ba=Ye[2];const wn=Ye[3];wn!=null&&(_.ka=wn,_.j.info("VER="+_.ka));const Hr=Ye[4];Hr!=null&&(_.za=Hr,_.j.info("SVER="+_.za));const mr=Ye[5];mr!=null&&typeof mr=="number"&&mr>0&&(x=1.5*mr,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const gr=c.g;if(gr){const Po=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Po){var H=x.h;H.g||Po.indexOf("spdy")==-1&&Po.indexOf("quic")==-1&&Po.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(go(H,H.h),H.h=null))}if(x.G){const Ja=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(x.wa=Ja,Qe(x.J,x.G,Ja))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var se=c;if(x.na=Ya(x,x.L?x.ba:null,x.W),se.L){ms(x.h,se);var be=se,gt=x.O;gt&&(be.H=gt),be.D&&(po(be),ds(be)),x.g=se}else Wt(x);_.i.length>0&&$r(_)}else Ye[0]!="stop"&&Ye[0]!="close"||_n(_,7);else _.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?_n(_,7):To(_):Ye[0]!="noop"&&_.l&&_.l.qa(Ye),_.A=0)}}Mr(4)}catch{}}var rd=class{constructor(c,v){this.g=c,this.map=v}};function mo(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ps(c){return c.h?1:c.g?c.g.size:0}function Ua(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function go(c,v){c.g?c.g.add(v):c.h=v}function ms(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}mo.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const _ of c.g.values())v=v.concat(_.G);return v}return A(c.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gn(c,v){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const x=c[_].indexOf("=");let B,H=null;x>=0?(B=c[_].substring(0,x),H=c[_].substring(x+1)):B=c[_],v(B,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function sr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof sr?(this.l=c.l,gs(this,c.j),this.o=c.o,this.g=c.g,or(this,c.u),this.h=c.h,Ti(this,Ka(c.i)),this.m=c.m):c&&(v=String(c).match(bu))?(this.l=!1,gs(this,v[1]||"",!0),this.o=ys(v[2]||""),this.g=ys(v[3]||"",!0),or(this,v[4]),this.h=ys(v[5]||"",!0),Ti(this,v[6]||"",!0),this.m=ys(v[7]||"")):(this.l=!1,this.i=new $e(null,this.l))}sr.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(vs(v,za,!0),":");var _=this.g;return(_||v=="file")&&(c.push("//"),(v=this.o)&&c.push(vs(v,za,!0),"@"),c.push(ir(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vs(_,_.charAt(0)=="/"?_s:$a,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vs(_,Ha)),c.join("")},sr.prototype.resolve=function(c){const v=Sn(this);let _=!!c.j;_?gs(v,c.j):_=!!c.o,_?v.o=c.o:_=!!c.g,_?v.g=c.g:_=c.u!=null;var x=c.h;if(_)or(v,c.u);else if(_=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var B=v.h.lastIndexOf("/");B!=-1&&(x=v.h.slice(0,B+1)+x)}if(B=x,B==".."||B==".")x="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){x=B.lastIndexOf("/",0)==0,B=B.split("/");const H=[];for(let se=0;se<B.length;){const be=B[se++];be=="."?x&&se==B.length&&H.push(""):be==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),x&&se==B.length&&H.push("")):(H.push(be),x=!0)}x=H.join("/")}else x=B}return _?v.h=x:_=c.i.toString()!=="",_?Ti(v,Ka(c.i)):_=!!c.m,_&&(v.m=c.m),v};function Sn(c){return new sr(c)}function gs(c,v,_){c.j=_?ys(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function or(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Ti(c,v,_){v instanceof $e?(c.i=v,vo(c.i,c.l)):(_||(v=vs(v,id)),c.i=new $e(v,c.l))}function Qe(c,v,_){c.i.set(v,_)}function Fr(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ys(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,v,_){return typeof c=="string"?(c=encodeURI(c).replace(v,Ba),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ba(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var za=/[#\/\?@]/g,$a=/[#\?:]/g,_s=/[#\?]/g,id=/[#\?@]/g,Ha=/#/g;function $e(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function ar(c){c.g||(c.g=new Map,c.h=0,c.i&&gn(c.i,function(v,_){c.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}n=$e.prototype,n.add=function(c,v){ar(this),this.i=null,c=lr(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(v),this.h+=1,this};function Wa(c,v){ar(c),v=lr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function yo(c,v){return ar(c),v=lr(c,v),c.g.has(v)}n.forEach=function(c,v){ar(this),this.g.forEach(function(_,x){_.forEach(function(B){c.call(v,B,x,this)},this)},this)};function qa(c,v){ar(c);let _=[];if(typeof v=="string")yo(c,v)&&(_=_.concat(c.g.get(lr(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)_=_.concat(c[v]);return _}n.set=function(c,v){return ar(this),this.i=null,c=lr(this,c),yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=qa(this,c),c.length>0?String(c[0]):v):v};function Ga(c,v,_){Wa(c,v),_.length>0&&(c.i=null,c.g.set(lr(c,v),A(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var _=v[x];const B=ir(_);_=qa(this,_);for(let H=0;H<_.length;H++){let se=B;_[H]!==""&&(se+="="+ir(_[H])),c.push(se)}}return this.i=c.join("&")};function Ka(c){const v=new $e;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function lr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function vo(c,v){v&&!c.j&&(ar(c),c.i=null,c.g.forEach(function(_,x){const B=x.toLowerCase();x!=B&&(Wa(this,x),Ga(this,B,_))},c)),c.j=v}function ur(c,v){const _=new vi;if(u.Image){const x=new Image;x.onload=g(Lt,_,"TestLoadImage: loaded",!0,v,x),x.onerror=g(Lt,_,"TestLoadImage: error",!1,v,x),x.onabort=g(Lt,_,"TestLoadImage: abort",!1,v,x),x.ontimeout=g(Lt,_,"TestLoadImage: timeout",!1,v,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else v(!1)}function cr(c,v){const _=new vi,x=new AbortController,B=setTimeout(()=>{x.abort(),Lt(_,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:x.signal}).then(H=>{clearTimeout(B),H.ok?Lt(_,"TestPingServer: ok",!0,v):Lt(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),Lt(_,"TestPingServer: error",!1,v)})}function Lt(c,v,_,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(_)}catch{}}function ws(){this.g=new cs}function Ur(c){this.i=c.Sb||null,this.h=c.ab||!1}w(Ur,pi),Ur.prototype.g=function(){return new yn(this.i,this.h)};function yn(c,v){Tt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(yn,Tt),n=yn.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,zn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Ei(this):zn(this),this.readyState==3&&Nu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Ei(this))},n.Na=function(c){this.g&&(this.response=c,Ei(this))},n.ga=function(){this.g&&Ei(this)};function Ei(c){c.readyState=4,c.l=null,c.j=null,c.B=null,zn(c)}n.setRequestHeader=function(c,v){this.A.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=v.next();return c.join(`\r
`)};function zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vu(c){let v="";return de(c,function(_,x){v+=x,v+=":",v+=_,v+=`\r
`}),v}function _o(c,v,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=Vu(_),typeof c=="string"?_!=null&&ir(_):Qe(c,v,_))}function Je(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Je,Tt);var Du=/^https?$/i,sd=["POST","PUT"];n=Je.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,v,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Su.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(H){Ii(this,H);return}if(c=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)_.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const H of x.keys())_.set(H,x.get(H));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),B=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(sd,v,void 0)>=0)||x||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of _)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Ii(this,H)}};function Ii(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,xi(c),zr(c)}function xi(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,mt(this,"complete"),mt(this,"abort"),zr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},n.Xa=function(){Br(this)};function Br(c){if(c.h&&typeof a<"u"){if(c.v&&hr(c)==4)setTimeout(c.Ca.bind(c),0);else if(mt(c,"readystatechange"),hr(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var x;if(x=H===0){let se=String(c.D).match(bu)[1]||null;!se&&u.self&&u.self.location&&(se=u.self.location.protocol.slice(0,-1)),x=!Du.test(se?se.toLowerCase():"")}_=x}if(_)mt(c,"complete"),mt(c,"success");else{c.o=6;try{var B=hr(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",xi(c)}}finally{zr(c)}}}}function zr(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,v||mt(c,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function hr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return hr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),wu(v)}};function Mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qa(c){const v={};c=(c.g&&hr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(C(c[x]))continue;var _=fo(c[x]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=v[B]||[];v[B]=H,H.push(_)}oe(v,function(x){return x.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(c,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||v}function wo(c){this.za=0,this.i=[],this.j=new vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=dr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=dr("baseRetryDelayMs",5e3,c),this.Za=dr("retryDelaySeedMs",1e4,c),this.Ta=dr("forwardChannelMaxRetries",2,c),this.va=dr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(c&&c.concurrentRequestLimit),this.Ba=new ws,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=wo.prototype,n.ka=8,n.I=1,n.connect=function(c,v,_,x){ht(0),this.W=c,this.H=v||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=Ya(this,null,this.W),$r(this)};function To(c){if(Eo(c),c.I==3){var v=c.V++,_=Sn(c.J);if(Qe(_,"SID",c.M),Qe(_,"RID",v),Qe(_,"TYPE","terminate"),fr(c,_),v=new xn(c,c.j,v),v.M=2,v.A=Fr(Sn(_)),_=!1,u.navigator&&u.navigator.sendBeacon)try{_=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&u.Image&&(new Image().src=v.A,_=!0),_||(v.g=Lu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ds(v)}Is(c)}function vn(c){c.g&&(Es(c),c.g.cancel(),c.g=null)}function Eo(c){vn(c),c.v&&(u.clearTimeout(c.v),c.v=null),Io(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function $r(c){if(!Fa(c.h)&&!c.m){c.m=!0;var v=c.Ea;re||I(),ae||(re(),ae=!0),R.add(v,c),c.D=0}}function Ou(c,v){return ps(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=yi(m(c.Ea,c,v),So(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new xn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=j(H),ve(H,this.U)):H=this.U),this.u!==null||this.R||(B.J=H,H=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Xa(this,B,v),_=Sn(this.J),Qe(_,"RID",c),Qe(_,"CVER",22),this.G&&Qe(_,"X-HTTP-Session-Id",this.G),fr(this,_),H&&(this.R?v="headers="+ir(Vu(H))+"&"+v:this.u&&_o(_,this.u,H)),go(this.h,B),this.Ra&&Qe(_,"TYPE","init"),this.S?(Qe(_,"$req",v),Qe(_,"SID","null"),B.U=!0,Bn(B,_,null)):Bn(B,_,v),this.I=2}}else this.I==3&&(c?Ts(this,c):this.i.length==0||Fa(this.h)||Ts(this))};function Ts(c,v){var _;v?_=v.l:_=c.V++;const x=Sn(c.J);Qe(x,"SID",c.M),Qe(x,"RID",_),Qe(x,"AID",c.K),fr(c,x),c.u&&c.o&&_o(x,c.u,c.o),_=new xn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Xa(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),go(c.h,_),Bn(_,x,v)}function fr(c,v){c.H&&de(c.H,function(_,x){Qe(v,x,_)}),c.l&&de({},function(_,x){Qe(v,x,_)})}function Xa(c,v,_){_=Math.min(c.i.length,_);const x=c.l?m(c.l.Ka,c.l,c):null;e:{var B=c.i;let be=-1;for(;;){const gt=["count="+_];be==-1?_>0?(be=B[0].g,gt.push("ofs="+be)):be=0:gt.push("ofs="+be);let Ye=!0;for(let Et=0;Et<_;Et++){var H=B[Et].g;const wn=B[Et].map;if(H-=be,H<0)be=Math.max(0,B[Et].g-100),Ye=!1;else try{H="req"+H+"_"||"";try{var se=wn instanceof Map?wn:Object.entries(wn);for(const[Hr,mr]of se){let gr=mr;d(mr)&&(gr=fi(mr)),gt.push(H+Hr+"="+encodeURIComponent(gr))}}catch(Hr){throw gt.push(H+"type="+encodeURIComponent("_badmap")),Hr}}catch{x&&x(wn)}}if(Ye){se=gt.join("&");break e}}se=void 0}return c=c.i.splice(0,_),v.G=c,se}function Wt(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;re||I(),ae||(re(),ae=!0),R.add(v,c),c.A=0}}function pr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=yi(m(c.Da,c),So(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,Si(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=yi(m(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),vn(this),Si(this))};function Es(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function Si(c){c.g=new xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Sn(c.na);Qe(v,"RID","rpc"),Qe(v,"SID",c.M),Qe(v,"AID",c.K),Qe(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(v,"TO",c.ia),Qe(v,"TYPE","xmlhttp"),fr(c,v),c.u&&c.o&&_o(v,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Fr(Sn(v)),_.u=null,_.R=!0,La(_,c)}n.Va=function(){this.C!=null&&(this.C=null,vn(this),pr(this),ht(19))};function Io(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function xo(c,v){var _=null;if(c.g==v){Io(c),Es(c),c.g=null;var x=2}else if(Ua(c.h,v))_=v.G,ms(c.h,v),x=1;else return;if(c.I!=0){if(v.o)if(x==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var B=c.D;x=gi(),mt(x,new Ma(x,_)),$r(c)}else Wt(c);else if(B=v.m,B==3||B==0&&v.X>0||!(x==1&&Ou(c,v)||x==2&&pr(c)))switch(_&&_.length>0&&(v=c.h,v.i=v.i.concat(_)),B){case 1:_n(c,5);break;case 4:_n(c,10);break;case 3:_n(c,6);break;default:_n(c,2)}}}function So(c,v){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*v}function _n(c,v){if(c.j.info("Error code "+v),v==2){var _=m(c.bb,c),x=c.Ua;const B=!x;x=new sr(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||gs(x,"https"),Fr(x),B?ur(x.toString(),_):cr(x.toString(),_)}else ht(2);c.I=0,c.l&&c.l.pa(v),Is(c),Eo(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Is(c){if(c.I=0,c.ja=[],c.l){const v=mn(c.h);(v.length!=0||c.i.length!=0)&&(O(c.ja,v),O(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function Ya(c,v,_){var x=_ instanceof sr?Sn(_):new sr(_);if(x.g!="")v&&(x.g=v+"."+x.g),or(x,x.u);else{var B=u.location;x=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;const H=new sr(null);x&&gs(H,x),v&&(H.g=v),B&&or(H,B),_&&(H.h=_),x=H}return _=c.G,v=c.wa,_&&v&&Qe(x,_,v),Qe(x,"VER",c.ka),fr(c,x),x}function Lu(c,v,_){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Je(new Ur({ab:_})):new Je(c.ma),v.Fa(c.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}n=ju.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ao(){}Ao.prototype.g=function(c,v){return new jt(c,v)};function jt(c,v){Tt.call(this),this.g=new wo(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!C(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Ai(this)}w(jt,Tt),jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){To(this.g)},jt.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=fi(c),c=_);v.i.push(new rd(v.Ya++,c)),v.I==3&&$r(v)},jt.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,jt.Z.N.call(this)};function Fu(c){uo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const _ in v){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}w(Fu,uo);function Uu(){Da.call(this),this.status=1}w(Uu,Da);function Ai(c){this.g=c}w(Ai,ju),Ai.prototype.ra=function(){mt(this.g,"a")},Ai.prototype.qa=function(c){mt(this.g,new Fu(c))},Ai.prototype.pa=function(c){mt(this.g,new Uu)},Ai.prototype.oa=function(){mt(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,b1=function(){return new Ao},R1=function(){return gi()},C1=Un,jp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,Xc=_i,wi.COMPLETE="complete",k1=wi,Tu.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Pl=Tu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,P1=Je}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",$_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Hm("@firebase/firestore");function Qo(){return Xs.logLevel}function ce(n,...e){if(Xs.logLevel<=Ue.DEBUG){const t=e.map(Gm);Xs.debug(`Firestore (${xa}): ${n}`,...t)}}function li(n,...e){if(Xs.logLevel<=Ue.ERROR){const t=e.map(Gm);Xs.error(`Firestore (${xa}): ${n}`,...t)}}function da(n,...e){if(Xs.logLevel<=Ue.WARN){const t=e.map(Gm);Xs.warn(`Firestore (${xa}): ${n}`,...t)}}function Gm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,N1(n,r,t)}function N1(n,e,t){let r=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw li(r),new Error(r)}function Xe(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||N1(e,o,r)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yt.UNAUTHENTICATED)))}shutdown(){}}class wV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class TV{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ri,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ri)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new V1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class EV{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IV{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new EV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new H_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=SV(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Be(n,e){return n<e?-1:n>e?1:0}function Fp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return ep(o)===ep(a)?Be(o,a):ep(o)?1:-1}return Be(n.length,e.length)}const AV=55296,PV=57343;function ep(n){const e=n.charCodeAt(0);return e>=AV&&e<=PV}function fa(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="__name__";class Tr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Tr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Be(e.length,t.length)}static compareSegments(e,t){const r=Tr.isNumericId(e),o=Tr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):Fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class et extends Tr{construct(e,t,r){return new et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const kV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Tr{construct(e,t,r){return new $t(e,t,r)}static isValidIdentifier(e){return kV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new $t([W_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new le(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new le(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(et.fromString(e))}static fromName(e){return new we(et.fromString(e).popFirst(5))}static empty(){return new we(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(n,e,t){if(!t)throw new le(K.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CV(n,e,t,r){if(e===!0&&r===!0)throw new le(K.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function q_(n){if(!we.isDocumentKey(n))throw new le(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function G_(n){if(we.isDocumentKey(n))throw new le(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function M1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Uh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uh(n);throw new le(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function RV(n,e){if(e<=0)throw new le(K.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function cu(n,e){if(!M1(n))throw new le(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new le(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=-62135596800,Q_=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Q_);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<K_)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Pt("string",it._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new it(0,0))}static max(){return new Re(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function bV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new ts(o,we.empty(),e)}function NV(n){return new ts(n.readTime,n.key,Ql)}class ts{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ts(Re.min(),we.empty(),Ql)}static max(){return new ts(Re.max(),we.empty(),Ql)}}function VV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(n){if(n.code!==K.FAILED_PRECONDITION||n.message!==DV)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,r)=>{t(e)}))}static reject(e){return new Q(((t,r)=>{r(e)}))}static waitFor(e){return new Q(((t,r)=>{let o=0,a=0,u=!1;e.forEach((d=>{++o,d.next((()=>{++a,u&&a===o&&t()}),(f=>r(f)))})),u=!0,a===o&&t()}))}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next((o=>o?Q.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new Q(((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((g=>{u[m]=g,++d,d===a&&r(u)}),(g=>o(g)))}}))}static doWhile(e,t){return new Q(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function OV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Aa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=-1;function zh(n){return n==null}function gh(n){return n===0&&1/n==-1/0}function LV(n){return typeof n=="number"&&Number.isInteger(n)&&!gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="";function jV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=X_(e)),e=FV(n.get(t),e);return X_(e)}function FV(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case O1:t+="";break;default:t+=a}}return t}function X_(n){return n+O1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function no(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function L1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||zt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??zt.RED,this.left=o??zt.EMPTY,this.right=a??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new zt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new Nt($t.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new j1("Invalid base64 string: "+a):a}})(e);return new Ht(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a})(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const UV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=UV.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(n.seconds),nanos:_t(n.nanos)}}function _t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="server_timestamp",U1="__type__",B1="__previous_value__",z1="__local_write_time__";function Xm(n){return(n?.mapValue?.fields||{})[U1]?.stringValue===F1}function $h(n){const e=n.mapValue.fields[B1];return Xm(e)?$h(e):e}function Xl(n){const e=ns(n.mapValue.fields[z1].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,t,r,o,a,u,d,f,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=g}}const yh="(default)";class Yl{constructor(e,t){this.projectId=e,this.database=t||yh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="__type__",zV="__max__",Bc={mapValue:{}},H1="__vector__",vh="value";function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xm(n)?4:HV(n)?9007199254740991:$V(n)?10:11:Ae(28295,{value:n})}function Rr(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xl(n).isEqual(Xl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ns(o.timestampValue),d=ns(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return rs(o.bytesValue).isEqual(rs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return _t(o.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return _t(o.integerValue)===_t(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=_t(o.doubleValue),d=_t(a.doubleValue);return u===d?gh(u)===gh(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return fa(n.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Y_(u)!==Y_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Rr(u[f],d[f])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function Jl(n,e){return(n.values||[]).find((t=>Rr(t,e)))!==void 0}function pa(n,e){if(n===e)return 0;const t=is(n),r=is(e);if(t!==r)return Be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=_t(a.integerValue||a.doubleValue),f=_t(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return Z_(n.timestampValue,e.timestampValue);case 4:return Z_(Xl(n),Xl(e));case 5:return Fp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=rs(a),f=rs(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const g=Be(d[m],f[m]);if(g!==0)return g}return Be(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Be(_t(a.latitude),_t(u.latitude));return d!==0?d:Be(_t(a.longitude),_t(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ew(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},m=d[vh]?.arrayValue,g=f[vh]?.arrayValue,w=Be(m?.values?.length||0,g?.values?.length||0);return w!==0?w:ew(m,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Bc.mapValue&&u===Bc.mapValue)return 0;if(a===Bc.mapValue)return 1;if(u===Bc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const E=Fp(f[w],g[w]);if(E!==0)return E;const A=pa(d[f[w]],m[g[w]]);if(A!==0)return A}return Be(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function Z_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=ns(n),r=ns(e),o=Be(t.seconds,r.seconds);return o!==0?o:Be(t.nanos,r.nanos)}function ew(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=pa(t[o],r[o]);if(a)return a}return Be(t.length,r.length)}function ma(n){return Up(n)}function Up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ns(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return rs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return we.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Up(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Up(t.fields[u])}`;return o+"}"})(n.mapValue):Ae(61005,{value:n})}function Yc(n){switch(is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(n);return e?16+Yc(e):16;case 5:return 2*n.stringValue.length;case 6:return rs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Yc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return no(r.fields,((a,u)=>{o+=a.length+Yc(u)})),o})(n.mapValue);default:throw Ae(13486,{value:n})}}function tw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bp(n){return!!n&&"integerValue"in n}function Ym(n){return!!n&&"arrayValue"in n}function nw(n){return!!n&&"nullValue"in n}function rw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jc(n){return!!n&&"mapValue"in n}function $V(n){return(n?.mapValue?.fields||{})[$1]?.stringValue===H1}function Ll(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return no(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ll(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ll(n.arrayValue.values[t]);return e}return{...n}}function HV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(t)}setAll(e){let t=$t.emptyPath(),r={},o=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Ll(u):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Jc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){no(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Mn(Ll(this.value))}}function W1(n){const e=[];return no(n.fields,((t,r)=>{const o=new $t([t]);if(Jc(r)){const a=W1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)})),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,o){return new Zt(e,1,t,Re.min(),r,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,Re.min(),Re.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Re.min(),Re.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.position=e,this.inclusive=t}}function iw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),t.key):r=pa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function sw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t="asc"){this.field=e,this.dir=t}}function WV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{}class At extends q1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new GV(e,t,r):t==="array-contains"?new XV(e,r):t==="in"?new YV(e,r):t==="not-in"?new JV(e,r):t==="array-contains-any"?new ZV(e,r):new At(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new KV(e,r):new QV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(pa(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends q1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new er(e,t)}matches(e){return G1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G1(n){return n.op==="and"}function K1(n){return qV(n)&&G1(n)}function qV(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function zp(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+ma(n.value);if(K1(n))return n.filters.map((e=>zp(e))).join(",");{const e=n.filters.map((t=>zp(t))).join(",");return`${n.op}(${e})`}}function Q1(n,e){return n instanceof At?(function(r,o){return o instanceof At&&r.op===o.op&&r.field.isEqual(o.field)&&Rr(r.value,o.value)})(n,e):n instanceof er?(function(r,o){return o instanceof er&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,u,d)=>a&&Q1(u,o.filters[d])),!0):!1})(n,e):void Ae(19439)}function X1(n){return n instanceof At?(function(t){return`${t.field.canonicalString()} ${t.op} ${ma(t.value)}`})(n):n instanceof er?(function(t){return t.op.toString()+" {"+t.getFilters().map(X1).join(" ,")+"}"})(n):"Filter"}class GV extends At{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class KV extends At{constructor(e,t){super(e,"in",t),this.keys=Y1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class QV extends At{constructor(e,t){super(e,"not-in",t),this.keys=Y1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Y1(n,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class XV extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ym(t)&&Jl(t.arrayValue,this.value)}}class YV extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jl(this.value.arrayValue,t)}}class JV extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Jl(this.value.arrayValue,t)}}class ZV extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ym(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Jl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function ow(n,e=null,t=[],r=[],o=null,a=null,u=null){return new eD(n,e,t,r,o,a,u)}function Jm(n){const e=Ne(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>zp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ma(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ma(r))).join(",")),e.Te=t}return e.Te}function Zm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Q1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sw(n.startAt,e.startAt)&&sw(n.endAt,e.endAt)}function $p(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tD(n,e,t,r,o,a,u,d){return new Pa(n,e,t,r,o,a,u,d)}function eg(n){return new Pa(n)}function aw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function J1(n){return n.collectionGroup!==null}function jl(n){const e=Ne(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Nt($t.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Zl(a,r))})),t.has($t.keyField().canonicalString())||e.Ie.push(new Zl($t.keyField(),r))}return e.Ie}function Sr(n){const e=Ne(n);return e.Ee||(e.Ee=nD(e,jl(n))),e.Ee}function nD(n,e){if(n.limitType==="F")return ow(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Zl(o.field,a)}));const t=n.endAt?new _h(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new _h(n.startAt.position,n.startAt.inclusive):null;return ow(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Hp(n,e){const t=n.filters.concat([e]);return new Pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wh(n,e,t){return new Pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hh(n,e){return Zm(Sr(n),Sr(e))&&n.limitType===e.limitType}function Z1(n){return`${Jm(Sr(n))}|lt:${n.limitType}`}function Xo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>X1(o))).join(", ")}]`),zh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>ma(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>ma(o))).join(",")),`Target(${r})`})(Sr(n))}; limitType=${n.limitType})`}function Wh(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of jl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(u,d,f){const m=iw(u,d,f);return u.inclusive?m<=0:m<0})(r.startAt,jl(r),o)||r.endAt&&!(function(u,d,f){const m=iw(u,d,f);return u.inclusive?m>=0:m>0})(r.endAt,jl(r),o))})(n,e)}function rD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eI(n){return(e,t)=>{let r=!1;for(const o of jl(n)){const a=iD(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function iD(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?pa(f,m):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return L1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new ct(we.comparator);function ui(){return sD}const tI=new ct(we.comparator);function kl(...n){let e=tI;for(const t of n)e=e.insert(t.key,t);return e}function nI(n){let e=tI;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function zs(){return Fl()}function rI(){return Fl()}function Fl(){return new ro((n=>n.toString()),((n,e)=>n.isEqual(e)))}const oD=new ct(we.comparator),aD=new Nt(we.comparator);function ze(...n){let e=aD;for(const t of n)e=e.add(t);return e}const lD=new Nt(Be);function uD(){return lD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function iI(n){return{integerValue:""+n}}function cD(n,e){return LV(e)?iI(e):tg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function hD(n,e,t){return n instanceof eu?(function(o,a){const u={fields:{[U1]:{stringValue:F1},[z1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Xm(a)&&(a=$h(a)),a&&(u.fields[B1]=a),{mapValue:u}})(t,e):n instanceof tu?oI(n,e):n instanceof nu?aI(n,e):(function(o,a){const u=sI(o,a),d=lw(u)+lw(o.Ae);return Bp(u)&&Bp(o.Ae)?iI(d):tg(o.serializer,d)})(n,e)}function dD(n,e,t){return n instanceof tu?oI(n,e):n instanceof nu?aI(n,e):t}function sI(n,e){return n instanceof Th?(function(r){return Bp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class eu extends qh{}class tu extends qh{constructor(e){super(),this.elements=e}}function oI(n,e){const t=lI(e);for(const r of n.elements)t.some((o=>Rr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class nu extends qh{constructor(e){super(),this.elements=e}}function aI(n,e){let t=lI(e);for(const r of n.elements)t=t.filter((o=>!Rr(o,r)));return{arrayValue:{values:t}}}class Th extends qh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function lw(n){return _t(n.integerValue||n.doubleValue)}function lI(n){return Ym(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t){this.field=e,this.transform=t}}function pD(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof tu&&o instanceof tu||r instanceof nu&&o instanceof nu?fa(r.elements,o.elements,Rr):r instanceof Th&&o instanceof Th?Rr(r.Ae,o.Ae):r instanceof eu&&o instanceof eu})(n.transform,e.transform)}class mD{constructor(e,t){this.version=e,this.transformResults=t}}class ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Gh{}function uI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hI(n.key,ii.none()):new hu(n.key,n.data,ii.none());{const t=n.data,r=Mn.empty();let o=new Nt($t.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new io(n.key,r,new Xn(o.toArray()),ii.none())}}function gD(n,e,t){n instanceof hu?(function(o,a,u){const d=o.value.clone(),f=cw(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof io?(function(o,a,u){if(!Zc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=cw(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(cI(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ul(n,e,t,r){return n instanceof hu?(function(a,u,d,f){if(!Zc(a.precondition,u))return d;const m=a.value.clone(),g=hw(a.fieldTransforms,f,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof io?(function(a,u,d,f){if(!Zc(a.precondition,u))return d;const m=hw(a.fieldTransforms,f,u),g=u.data;return g.setAll(cI(a)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,d){return Zc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function yD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=sI(r.transform,o||null);a!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,a))}return t||null}function uw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&fa(r,o,((a,u)=>pD(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hu extends Gh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class io extends Gh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function cw(n,e,t){const r=new Map;Xe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,dD(u,d,t[o]))}return r}function hw(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,hD(a,u,e))}return r}class hI extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vD extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&gD(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ul(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ul(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=rI();return this.mutations.forEach((o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=uI(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,((t,r)=>uw(t,r)))&&fa(this.baseMutations,e.baseMutations,((t,r)=>uw(t,r)))}}class ng{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return oD})();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new ng(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,He;function ED(n){switch(n){case K.OK:return Ae(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function dI(n){if(n===void 0)return li("GRPC error has no .code"),K.UNKNOWN;switch(n){case xt.OK:return K.OK;case xt.CANCELLED:return K.CANCELLED;case xt.UNKNOWN:return K.UNKNOWN;case xt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case xt.INTERNAL:return K.INTERNAL;case xt.UNAVAILABLE:return K.UNAVAILABLE;case xt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case xt.NOT_FOUND:return K.NOT_FOUND;case xt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case xt.ABORTED:return K.ABORTED;case xt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case xt.DATA_LOSS:return K.DATA_LOSS;default:return Ae(39323,{code:n})}}(He=xt||(xt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Xi([4294967295,4294967295],0);function dw(n){const e=ID().encode(n),t=new A1;return t.update(e),new Uint8Array(t.digest())}function fw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xi([t,r],0),new Xi([o,a],0)]}class rg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cl(`Invalid padding: ${t}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Xi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Xi.fromNumber(r)));return o.compare(xD)===1&&(o=new Xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=dw(e),[r,o]=fw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new rg(a,o,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=dw(e),[r,o]=fw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Kh(Re.min(),o,new ct(Be),ui(),ze())}}class du{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new du(r,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class fI{constructor(e,t){this.targetId=e,this.Ce=t}}class pI{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class pw{constructor(){this.ve=0,this.Fe=mw(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ae(38017,{changeType:a})}})),new du(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=mw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ui(),this.Je=zc(),this.He=zc(),this.Ye=new ct(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if($p(a))if(r===0){const u=new we(a.path);this.et(t,u,Zt.newNoDocument(u,Re.min()))}else Xe(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=rs(r).toUint8Array()}catch(f){if(f instanceof j1)return da("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new rg(u,o,a)}catch(f){return da(f instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&$p(d.target)){const f=new we(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Zt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=ze();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const o=new Kh(e,t,this.Ye,this.je,r);return this.je=ui(),this.Je=zc(),this.He=zc(),this.Ye=new ct(Be),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new pw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nt(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nt(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function zc(){return new ct(we.comparator)}function mw(){return new ct(we.comparator)}const AD={asc:"ASCENDING",desc:"DESCENDING"},PD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kD={and:"AND",or:"OR"};class CD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wp(n,e){return n.useProto3Json||zh(e)?e:{value:e}}function Eh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function RD(n,e){return Eh(n,e.toTimestamp())}function Ar(n){return Xe(!!n,49232),Re.fromTimestamp((function(t){const r=ns(t);return new it(r.seconds,r.nanos)})(n))}function ig(n,e){return qp(n,e).canonicalString()}function qp(n,e){const t=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function gI(n){const e=et.fromString(n);return Xe(TI(e),10190,{key:e.toString()}),e}function Gp(n,e){return ig(n.databaseId,e.path)}function tp(n,e){const t=gI(e);if(t.get(1)!==n.databaseId.projectId)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(vI(t))}function yI(n,e){return ig(n.databaseId,e)}function bD(n){const e=gI(n);return e.length===4?et.emptyPath():vI(e)}function Kp(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vI(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gw(n,e,t){return{name:Gp(n,e),fields:t.value.mapValue.fields}}function ND(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ae(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,g){return m.useProto3Json?(Xe(g===void 0||typeof g=="string",58123),Ht.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Ht.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const g=m.code===void 0?K.UNKNOWN:dI(m.code);return new le(g,m.message||"")})(u);t=new pI(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=tp(n,r.document.name),a=Ar(r.document.updateTime),u=r.document.createTime?Ar(r.document.createTime):Re.min(),d=new Mn({mapValue:{fields:r.document.fields}}),f=Zt.newFoundDocument(o,a,u,d),m=r.targetIds||[],g=r.removedTargetIds||[];t=new eh(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=tp(n,r.document),a=r.readTime?Ar(r.readTime):Re.min(),u=Zt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new eh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=tp(n,r.document),a=r.removedTargetIds||[];t=new eh([],a,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new TD(o,a),d=r.targetId;t=new fI(d,u)}}return t}function VD(n,e){let t;if(e instanceof hu)t={update:gw(n,e.key,e.value)};else if(e instanceof hI)t={delete:Gp(n,e.key)};else if(e instanceof io)t={update:gw(n,e.key,e.data),updateMask:zD(e.fieldMask)};else{if(!(e instanceof vD))return Ae(16599,{Vt:e.type});t={verify:Gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof eu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof tu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Th)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ae(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:RD(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae(27497)})(n,e.precondition)),t}function DD(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map((t=>(function(o,a){let u=o.updateTime?Ar(o.updateTime):Ar(a);return u.isEqual(Re.min())&&(u=Ar(a)),new mD(u,o.transformResults||[])})(t,e)))):[]}function MD(n,e){return{documents:[yI(n,e.path)]}}function OD(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yI(n,o);const a=(function(m){if(m.length!==0)return wI(er.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((g=>(function(E){return{field:Yo(E.field),direction:FD(E.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Wp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function LD(n){let e=bD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Xe(r===1,65062);const g=t.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(w){const E=_I(w);return E instanceof er&&K1(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((E=>(function(O){return new Zl(Jo(O.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let E;return E=typeof w=="object"?w.value:w,zh(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(w){const E=!!w.before,A=w.values||[];return new _h(A,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(w){const E=!w.before,A=w.values||[];return new _h(A,E)})(t.endAt)),tD(e,o,u,a,d,"F",f,m)}function jD(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _I(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Jo(t.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Jo(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Jo(t.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jo(t.unaryFilter.field);return At.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return At.create(Jo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return er.create(t.compositeFilter.filters.map((r=>_I(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function FD(n){return AD[n]}function UD(n){return PD[n]}function BD(n){return kD[n]}function Yo(n){return{fieldPath:n.canonicalString()}}function Jo(n){return $t.fromServerFormat(n.fieldPath)}function wI(n){return n instanceof At?(function(t){if(t.op==="=="){if(rw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NAN"}};if(nw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NAN"}};if(nw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(t.field),op:UD(t.op),value:t.value}}})(n):n instanceof er?(function(t){const r=t.getFilters().map((o=>wI(o)));return r.length===1?r[0]:{compositeFilter:{op:BD(t.op),filters:r}}})(n):Ae(54877,{filter:n})}function zD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function TI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,r,o,a=Re.min(),u=Re.min(),d=Ht.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.yt=e}}function HD(n){const e=LD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.Cn=new qD}addToCollectionParentIndex(e,t){return this.Cn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(ts.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class qD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Nt(et.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Nt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EI=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(EI,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ga(0)}static cr(){return new ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="LruGarbageCollector",GD=1048576;function _w([n,e],[t,r]){const o=Be(n,t);return o===0?Be(e,r):o}class KD{constructor(e){this.Ir=e,this.buffer=new Nt(_w),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_w(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(vw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Aa(t)?ce(vw,"Ignoring IndexedDB error during garbage collection: ",t):await Sa(t)}await this.Vr(3e5)}))}}class XD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Bh.ce);const r=new KD(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(yw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(m=Date.now(),Qo()<=Ue.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w}))))}}function YD(n,e){return new XD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.changes=new ro((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Ul(r.mutation,o,Xn.empty(),it.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const o=zs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let u=kl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=zs();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,o){let a=ui();const u=Fl(),d=(function(){return Fl()})();return t.forEach(((f,m)=>{const g=r.get(m.key);o.has(m.key)&&(g===void 0||g.mutation instanceof io)?a=a.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),Ul(g.mutation,m,g.mutation.getFieldMask(),it.now())):u.set(m.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,g)=>u.set(m,g))),t.forEach(((m,g)=>d.set(m,new ZD(g,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Fl();let o=new ct(((u,d)=>u-d)),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let g=r.get(f)||Xn.empty();g=d.applyToLocalView(m,g),r.set(f,g);const w=(o.get(d.batchId)||ze()).add(f);o=o.insert(d.batchId,w)}))})).next((()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,g=f.value,w=rI();g.forEach((E=>{if(!a.has(E)){const A=uI(t.get(E),r.get(E));A!==null&&w.set(E,A),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Q.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):J1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):Q.resolve(zs());let d=Ql,f=a;return u.next((m=>Q.forEach(m,((g,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(g)?Q.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,ze()))).next((g=>({batchId:d,changes:nI(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((r=>{let o=kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=kl();return this.indexManager.getCollectionParents(e,a).next((d=>Q.forEach(d,(f=>{const m=(function(w,E){return new Pa(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((g=>{g.forEach(((w,E)=>{u=u.insert(w,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((u=>{a.forEach(((f,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,Zt.newInvalidDocument(g)))}));let d=kl();return u.forEach(((f,m)=>{const g=a.get(f);g!==void 0&&Ul(g.mutation,m,Xn.empty(),it.now()),Wh(t,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Ar(o.createTime)}})(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:HD(o.bundledQuery),readTime:Ar(o.readTime)}})(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.overlays=new ct(we.comparator),this.qr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zs();return Q.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),Q.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const o=zs(),a=t.length+1,u=new we(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new ct(((m,g)=>m-g));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=zs(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const d=zs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,g)=>d.set(m,g))),!(d.size()>=o)););return Q.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new wD(t,r));let a=this.qr.get(t);a===void 0&&(a=ze(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.Qr=new Nt(Ot.$r),this.Ur=new Nt(Ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ot(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Ot(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new we(new et([])),r=new Ot(t,e),o=new Ot(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new et([])),r=new Ot(t,e),o=new Ot(t,e+1);let a=ze();return this.Ur.forEachInRange([r,o],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Ot(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Ot.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new _D(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Ot(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,t){return Q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ot(t,0),o=new Ot(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(u=>{const d=this.Xr(u.Yr);a.push(d)})),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(Be);return t.forEach((o=>{const a=new Ot(o,0),u=new Ot(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const u=new Ot(new we(a),0);let d=new Nt(Be);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Yr)),!0)}),u),Q.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(t.mutations,(o=>{const a=new Ot(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Ot(t,0),o=this.Zr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.ri=e,this.docs=(function(){return new ct(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let r=ui();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Zt.newInvalidDocument(o))})),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ui();const u=t.path,d=new we(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||VV(NV(g),r)<=0||(o.has(g.key)||Wh(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ae(9500)}ii(e,t){return Q.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new oM(this)}getSize(e){return Q.resolve(this.size)}}class oM extends JD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.persistence=e,this.si=new ro((t=>Jm(t)),Zm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new sg,this.targetCount=0,this.ai=ga.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Q.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ga(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Pr(t),Q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Q.waitFor(a).next((()=>o))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((u=>{a.push(o.markPotentiallyOrphaned(e,u))})),Q.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t){this.ui={},this.overlays={},this.ci=new Bh(0),this.li=!1,this.li=!0,this.hi=new rM,this.referenceDelegate=e(this),this.Pi=new aM(this),this.indexManager=new WD,this.remoteDocumentCache=(function(o){return new sM(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $D(t),this.Ii=new tM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new iM(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const o=new lM(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class lM extends MV{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Ri=new sg,this.Vi=null}static mi(e){return new og(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const o=we.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Q.or([()=>Q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ih{constructor(e,t){this.persistence=e,this.pi=new ro((r=>jV(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=YD(this,t)}static mi(e,t){return new Ih(e,t)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Q.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?Q.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Re.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yc(e.data.value)),t}br(e,t,r){return Q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Q.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=ze(),o=ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ag(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tN()?8:OV(tn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new uM;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(Qo()<=Ue.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Qo()<=Ue.DEBUG&&ce("QueryEngine","Query:",Xo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Qo()<=Ue.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):Q.resolve())}ys(e,t){if(aw(t))return Q.resolve(null);let r=Sr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=wh(t,null,"F"),r=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=ze(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(t,d);return this.Cs(t,m,u,f.readTime)?this.ys(e,wh(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ws(e,t,r,o){return aw(t)||o.isEqual(Re.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?Q.resolve(null):(Qo()<=Ue.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xo(t)),this.vs(e,u,t,bV(o,Ql)).next((d=>d)))}))}Ds(e,t){let r=new Nt(eI(e));return t.forEach(((o,a)=>{Wh(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Qo()<=Ue.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.ps.getDocumentsMatchingQuery(e,t,ts.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="LocalStore",hM=3e8;class dM{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ct(Be),this.xs=new ro((a=>Jm(a)),Zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function fM(n,e,t,r){return new dM(n,e,t,r)}async function xI(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=ze();for(const m of o){u.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of a){d.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function pM(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,g){const w=m.batch,E=w.keys();let A=Q.resolve();return E.forEach((O=>{A=A.next((()=>g.getEntry(f,O))).next((F=>{const M=m.docVersions.get(O);Xe(M!==null,48541),F.version.compareTo(M)<0&&(w.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),g.addEntry(F)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=ze();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function SI(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function mM(n,e){const t=Ne(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((g,w)=>{const E=o.get(w);if(!E)return;d.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,w))));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(Ht.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),o=o.insert(w,A),(function(F,M,q){return F.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=hM?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(E,A,g)&&d.push(t.Pi.updateTargetData(a,A))}));let f=ui(),m=ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(gM(a,u,e.documentUpdates).next((g=>{f=g.ks,m=g.qs}))),!r.isEqual(Re.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return Q.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Ms=o,a)))}function gM(n,e,t){let r=ze(),o=ze();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=ui();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Re.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ce(lg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{ks:u,qs:o}}))}function yM(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vM(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,Q.resolve(o)):t.Pi.allocateTargetId(r).next((u=>(o=new Gi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Qp(n,e,t){const r=Ne(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Aa(u))throw u;ce(lg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function ww(n,e,t){const r=Ne(n);let o=Re.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,g){const w=Ne(f),E=w.xs.get(g);return E!==void 0?Q.resolve(w.Ms.get(E)):w.Pi.getTargetData(m,g)})(r,u,Sr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Re.min(),t?a:ze()))).next((d=>(_M(r,rD(e),d),{documents:d,Qs:a})))))}function _M(n,e,t){let r=n.Os.get(e)||Re.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class Tw{constructor(){this.activeTargetIds=uD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wM{constructor(){this.Mo=new Tw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Tw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="ConnectivityMonitor";class Iw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Ew,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Ew,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function Xp(){return $c===null?$c=(function(){return 268435456+Math.round(2147483648*Math.random())})():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",EM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===yh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=Xp(),d=this.zo(e,t.toUriEncodedString());ce(np,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(d),g=eo(m);return this.Jo(e,d,f,r,g).then((w=>(ce(np,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw da(np,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=EM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class SM extends IM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=Xp();return new Promise(((d,f)=>{const m=new P1;m.setWithCredentials(!0),m.listenOnce(k1.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Xc.NO_ERROR:const w=m.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Xc.TIMEOUT:ce(Xt,`RPC '${e}' ${u} timed out`),f(new le(K.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const E=m.getStatus();if(ce(Xt,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A?.error;if(O&&O.status&&O.message){const F=(function(q){const Y=q.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Y)>=0?Y:K.UNKNOWN})(O.status);f(new le(F,O.message))}else f(new le(K.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new le(K.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(o);ce(Xt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",g,r,15)}))}T_(e,t,r){const o=Xp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=b1(),d=R1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${g}`,f);const w=u.createWebChannel(g,f);this.I_(w);let E=!1,A=!1;const O=new xM({Yo:M=>{A?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(E||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,M),w.send(M))},Zo:()=>w.close()}),F=(M,q,Y)=>{M.listen(q,(G=>{try{Y(G)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return F(w,Pl.EventType.OPEN,(()=>{A||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),O.o_())})),F(w,Pl.EventType.CLOSE,(()=>{A||(A=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(w))})),F(w,Pl.EventType.ERROR,(M=>{A||(A=!0,da(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),O.a_(new le(K.UNAVAILABLE,"The operation could not be completed")))})),F(w,Pl.EventType.MESSAGE,(M=>{if(!A){const q=M.data[0];Xe(!!q,16349);const Y=q,G=Y?.error||Y[0]?.error;if(G){ce(Xt,`RPC '${e}' stream ${o} received error:`,G);const ne=G.status;let re=(function(I){const P=xt[I];if(P!==void 0)return dI(P)})(ne),ae=G.message;re===void 0&&(re=K.INTERNAL,ae="Unknown error status: "+ne+" with message "+G.message),A=!0,O.a_(new le(re,ae)),w.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,q),O.u_(q)}})),F(d,C1.STAT_EVENT,(M=>{M.stat===jp.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===jp.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(n){return new CD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="PersistentStream";class PI{constructor(e,t,r,o,a,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AI(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new le(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(xw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ce(xw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AM extends PI{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ND(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Re.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Ar(u.readTime):Re.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Kp(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=$p(f)?{documents:MD(a,f)}:{query:OD(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=mI(a,u.resumeToken);const m=Wp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Re.min())>0){d.readTime=Eh(a,u.snapshotVersion.toTimestamp());const m=Wp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=jD(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Kp(this.serializer),t.removeTarget=e,this.q_(t)}}class PM extends PI{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=DD(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Kp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>VD(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{}class CM extends kM{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,qp(t,r),o,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(K.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,qp(t,r),o,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(K.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class bM{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{so(this)&&(ce(Js,"Restarting streams for network reachability change."),await(async function(f){const m=Ne(f);m.Ea.add(4),await fu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Xh(m)})(this))}))})),this.Ra=new RM(r,o)}}async function Xh(n){if(so(n))for(const e of n.da)await e(!0)}async function fu(n){for(const e of n.da)await e(!1)}function kI(n,e){const t=Ne(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),dg(t)?hg(t):ka(t).O_()&&cg(t,e))}function ug(n,e){const t=Ne(n),r=ka(t);t.Ia.delete(e),r.O_()&&CI(t,e),t.Ia.size===0&&(r.O_()?r.L_():so(t)&&t.Ra.set("Unknown"))}function cg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ka(n).Y_(e)}function CI(n,e){n.Va.Ue(e),ka(n).Z_(e)}function hg(n){n.Va=new SD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ka(n).start(),n.Ra.ua()}function dg(n){return so(n)&&!ka(n).x_()&&n.Ia.size>0}function so(n){return Ne(n).Ea.size===0}function RI(n){n.Va=void 0}async function NM(n){n.Ra.set("Online")}async function VM(n){n.Ia.forEach(((e,t)=>{cg(n,e)}))}async function DM(n,e){RI(n),dg(n)?(n.Ra.ha(e),hg(n)):n.Ra.set("Unknown")}async function MM(n,e,t){if(n.Ra.set("Online"),e instanceof pI&&e.state===2&&e.cause)try{await(async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(r){ce(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xh(n,r)}else if(e instanceof eh?n.Va.Ze(e):e instanceof fI?n.Va.st(e):n.Va.tt(e),!t.isEqual(Re.min()))try{const r=await SI(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Ht.EMPTY_BYTE_STRING,g.snapshotVersion)),CI(a,f);const w=new Gi(g.target,f,m,g.sequenceNumber);cg(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ce(Js,"Failed to raise snapshot:",r),await xh(n,r)}}async function xh(n,e,t){if(!Aa(e))throw e;n.Ea.add(1),await fu(n),n.Ra.set("Offline"),t||(t=()=>SI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ce(Js,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Xh(n)}))}function bI(n,e){return e().catch((t=>xh(n,t,e)))}async function Yh(n){const e=Ne(n),t=ss(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;OM(e);)try{const o=await yM(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,LM(e,o)}catch(o){await xh(e,o)}NI(e)&&VI(e)}function OM(n){return so(n)&&n.Ta.length<10}function LM(n,e){n.Ta.push(e);const t=ss(n);t.O_()&&t.X_&&t.ea(e.mutations)}function NI(n){return so(n)&&!ss(n).x_()&&n.Ta.length>0}function VI(n){ss(n).start()}async function jM(n){ss(n).ra()}async function FM(n){const e=ss(n);for(const t of n.Ta)e.ea(t.mutations)}async function UM(n,e,t){const r=n.Ta.shift(),o=ng.from(r,e,t);await bI(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Yh(n)}async function BM(n,e){e&&ss(n).X_&&await(async function(r,o){if((function(u){return ED(u)&&u!==K.ABORTED})(o.code)){const a=r.Ta.shift();ss(r).B_(),await bI(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Yh(r)}})(n,e),NI(n)&&VI(n)}async function Sw(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),ce(Js,"RemoteStore received new credentials");const r=so(t);t.Ea.add(3),await fu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Xh(t)}async function zM(n,e){const t=Ne(n);e?(t.Ea.delete(2),await Xh(t)):e||(t.Ea.add(2),await fu(t),t.Ra.set("Unknown"))}function ka(n){return n.ma||(n.ma=(function(t,r,o){const a=Ne(t);return a.sa(),new AM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:NM.bind(null,n),t_:VM.bind(null,n),r_:DM.bind(null,n),H_:MM.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),dg(n)?hg(n):n.Ra.set("Unknown")):(await n.ma.stop(),RI(n))}))),n.ma}function ss(n){return n.fa||(n.fa=(function(t,r,o){const a=Ne(t);return a.sa(),new PM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:jM.bind(null,n),r_:BM.bind(null,n),ta:FM.bind(null,n),na:UM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Yh(n)):(await n.fa.stop(),n.Ta.length>0&&(ce(Js,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new fg(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(n,e){if(li("AsyncQueue",`${e}: ${n}`),Aa(n))return new le(K.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static emptySet(e){return new sa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=kl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.ga=new ct(we.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ya{constructor(e,t,r,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new ya(e,t,sa.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HM{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ne(t),a=o.queries;o.queries=Pw(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new le(K.ABORTED,"Firestore shutting down"))}}function Pw(){return new ro((n=>Z1(n)),Hh)}async function DI(n,e){const t=Ne(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new $M,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=pg(u,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&mg(t)}async function MI(n,e){const t=Ne(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function WM(n,e){const t=Ne(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&mg(t)}function qM(n,e,t){const r=Ne(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function mg(n){n.Ca.forEach((e=>{e.next()}))}var Yp,kw;(kw=Yp||(Yp={})).Ma="default",kw.Cache="cache";class OI{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.key=e}}class jI{constructor(e){this.key=e}}class GM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=eI(e),this.tu=new sa(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Aw,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,w)=>{const E=o.get(g),A=Wh(this.query,w)?w:null,O=!!E&&this.mutatedKeys.has(E.key),F=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;E&&A?E.data.isEqual(A.data)?O!==F&&(r.track({type:3,doc:A}),M=!0):this.su(E,A)||(r.track({type:2,doc:A}),M=!0,(f&&this.eu(A,f)>0||m&&this.eu(A,m)<0)&&(d=!0)):!E&&A?(r.track({type:0,doc:A}),M=!0):E&&!A&&(r.track({type:1,doc:E}),M=!0,(f||m)&&(d=!0)),M&&(A?(u=u.add(A),a=F?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,w)=>(function(A,O){const F=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:M})}};return F(A)-F(O)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new ya(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Aw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new jI(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new LI(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gg="SyncEngine";class KM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class QM{constructor(e){this.key=e,this.hu=!1}}class XM{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ro((d=>Z1(d)),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(we.comparator),this.Au=new Map,this.Ru=new sg,this.Vu={},this.mu=new Map,this.fu=ga.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YM(n,e,t=!0){const r=HI(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await FI(r,e,t,!0),o}async function JM(n,e){const t=HI(n);await FI(t,e,!0,!1)}async function FI(n,e,t,r){const o=await vM(n.localStore,Sr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await ZM(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&kI(n.remoteStore,o),d}async function ZM(n,e,t,r,o){n.pu=(w,E,A)=>(async function(F,M,q,Y){let G=M.view.ru(q);G.Cs&&(G=await ww(F.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,G))));const ne=Y&&Y.targetChanges.get(M.targetId),re=Y&&Y.targetMismatches.get(M.targetId)!=null,ae=M.view.applyChanges(G,F.isPrimaryClient,ne,re);return Rw(F,M.targetId,ae.au),ae.snapshot})(n,w,E,A);const a=await ww(n.localStore,e,!0),u=new GM(e,a.Qs),d=u.ru(a.documents),f=du.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);Rw(n,t,m.au);const g=new KM(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function eO(n,e,t){const r=Ne(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((u=>!Hh(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Qp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&ug(r.remoteStore,o.targetId),Jp(r,o.targetId)})).catch(Sa)):(Jp(r,o.targetId),await Qp(r.localStore,o.targetId,!0))}async function tO(n,e){const t=Ne(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ug(t.remoteStore,r.targetId))}async function nO(n,e,t){const r=uO(n);try{const o=await(function(u,d){const f=Ne(u),m=it.now(),g=d.reduce(((A,O)=>A.add(O.key)),ze());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let O=ui(),F=ze();return f.Ns.getEntries(A,g).next((M=>{O=M,O.forEach(((q,Y)=>{Y.isValidDocument()||(F=F.add(q))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,O))).next((M=>{w=M;const q=[];for(const Y of d){const G=yD(Y,w.get(Y.key).overlayedDocument);G!=null&&q.push(new io(Y.key,G,W1(G.value.mapValue),ii.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,q,d)})).next((M=>{E=M;const q=M.applyToLocalDocumentSet(w,F);return f.documentOverlayCache.saveOverlays(A,M.batchId,q)}))})).then((()=>({batchId:E.batchId,changes:nI(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(u,d,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new ct(Be)),m=m.insert(d,f),u.Vu[u.currentUser.toKey()]=m})(r,o.batchId,t),await pu(r,o.changes),await Yh(r.remoteStore)}catch(o){const a=pg(o,"Failed to persist write");t.reject(a)}}async function UI(n,e){const t=Ne(n);try{const r=await mM(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const u=t.Au.get(a);u&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Xe(u.hu,14607):o.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await pu(t,r,e)}catch(r){await Sa(r)}}function Cw(n,e,t){const r=Ne(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(u,d){const f=Ne(u);f.onlineState=d;let m=!1;f.queries.forEach(((g,w)=>{for(const E of w.Sa)E.va(d)&&(m=!0)})),m&&mg(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rO(n,e,t){const r=Ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new ct(we.comparator);u=u.insert(a,Zt.newNoDocument(a,Re.min()));const d=ze().add(a),f=new Kh(Re.min(),new Map,new ct(Be),u,d);await UI(r,f),r.du=r.du.remove(a),r.Au.delete(e),yg(r)}else await Qp(r.localStore,e,!1).then((()=>Jp(r,e,t))).catch(Sa)}async function iO(n,e){const t=Ne(n),r=e.batch.batchId;try{const o=await pM(t.localStore,e);zI(t,r,null),BI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await pu(t,o)}catch(o){await Sa(o)}}async function sO(n,e,t){const r=Ne(n);try{const o=await(function(u,d){const f=Ne(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,d).next((w=>(Xe(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(m,w)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);zI(r,e,t),BI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await pu(r,o)}catch(o){await Sa(o)}}function BI(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function zI(n,e,t){const r=Ne(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Jp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||$I(n,r)}))}function $I(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(ug(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),yg(n))}function Rw(n,e,t){for(const r of t)r instanceof LI?(n.Ru.addReference(r.key,e),oO(n,r)):r instanceof jI?(ce(gg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||$I(n,r.key)):Ae(19791,{wu:r})}function oO(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ce(gg,"New document in limbo: "+t),n.Eu.add(r),yg(n))}function yg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new we(et.fromString(e)),r=n.fu.next();n.Au.set(r,new QM(t)),n.du=n.du.insert(t,r),kI(n.remoteStore,new Gi(Sr(eg(t.path)),r,"TargetPurposeLimboResolution",Bh.ce))}}async function pu(n,e,t){const r=Ne(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){o.push(m);const g=ag.As(f.targetId,m);a.push(g)}})))})),await Promise.all(u),r.Pu.H_(o),await(async function(f,m){const g=Ne(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Q.forEach(m,(E=>Q.forEach(E.Es,(A=>g.persistence.referenceDelegate.addReference(w,E.targetId,A))).next((()=>Q.forEach(E.ds,(A=>g.persistence.referenceDelegate.removeReference(w,E.targetId,A)))))))))}catch(w){if(!Aa(w))throw w;ce(lg,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const A=g.Ms.get(E),O=A.snapshotVersion,F=A.withLastLimboFreeSnapshotVersion(O);g.Ms=g.Ms.insert(E,F)}}})(r.localStore,a))}async function aO(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){ce(gg,"User change. New user:",e.toKey());const r=await xI(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new le(K.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pu(t,r.Ls)}}function lO(n,e){const t=Ne(n),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function HI(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rO.bind(null,e),e.Pu.H_=WM.bind(null,e.eventManager),e.Pu.yu=qM.bind(null,e.eventManager),e}function uO(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sO.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return fM(this.persistence,new cM,e.initialUser,this.serializer)}Cu(e){return new II(og.mi,this.serializer)}Du(e){return new wM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class cO extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof Ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QD(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new II((r=>Ih.mi(r,t)),this.serializer)}}class Zp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aO.bind(null,this.syncEngine),await zM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HM})()}createDatastore(e){const t=Qh(e.databaseInfo.databaseId),r=(function(a){return new SM(a)})(e.databaseInfo);return(function(a,u,d,f){return new CM(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,u,d){return new bM(r,o,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Cw(this.syncEngine,t,0)),(function(){return Iw.v()?new Iw:new TM})())}createSyncEngine(e,t){return(function(o,a,u,d,f,m,g){const w=new XM(o,a,u,d,f,m);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ne(t);ce(Js,"RemoteStore shutting down."),r.Ea.add(5),await fu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zp.provider={build:()=>new Zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class hO{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ce(os,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ce(os,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=pg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ip(n,e){n.asyncQueue.verifyOperationInProgress(),ce(os,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await xI(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function bw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await dO(n);ce(os,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Sw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Sw(e.remoteStore,o))),n._onlineComponents=e}async function dO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(os,"Using user provided OfflineComponentProvider");try{await ip(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;da("Error using user provided cache. Falling back to memory cache: "+t),await ip(n,new Sh)}}else ce(os,"Using default OfflineComponentProvider"),await ip(n,new cO(void 0));return n._offlineComponents}async function qI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(os,"Using user provided OnlineComponentProvider"),await bw(n,n._uninitializedComponentsProvider._online)):(ce(os,"Using default OnlineComponentProvider"),await bw(n,new Zp))),n._onlineComponents}function fO(n){return qI(n).then((e=>e.syncEngine))}async function GI(n){const e=await qI(n),t=e.eventManager;return t.onListen=YM.bind(null,e.syncEngine),t.onUnlisten=eO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=JM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tO.bind(null,e.syncEngine),t}function pO(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const g=new WI({next:E=>{g.Nu(),u.enqueueAndForget((()=>MI(a,w)));const A=E.docs.has(d);!A&&E.fromCache?m.reject(new le(K.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?m.reject(new le(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new OI(eg(d.path),g,{includeMetadataChanges:!0,qa:!0});return DI(a,w)})(await GI(n),n.asyncQueue,e,t,r))),r.promise}function mO(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const g=new WI({next:E=>{g.Nu(),u.enqueueAndForget((()=>MI(a,w))),E.fromCache&&f.source==="server"?m.reject(new le(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new OI(d,g,{includeMetadataChanges:!0,qa:!0});return DI(a,w)})(await GI(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="firestore.googleapis.com",Vw=!0;class Dw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QI,this.ssl=Vw}else this.host=e.host,this.ssl=e.ssl??Vw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GD)throw new le(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _V;switch(r.type){case"firstParty":return new IV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Nw.get(t);r&&(ce("ComponentProvider","Removing Datastore"),Nw.delete(t),r.terminate())})(this),Promise.resolve()}}function gO(n,e,t,r={}){n=Ys(n,Jh);const o=eo(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(zm(`https://${d}`),$m("Firestore",!0)),a.host!==QI&&a.host!==d&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!Ks(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Yt.MOCK_USER;else{m=w1(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new le(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Yt(w)}n._authCredentials=new wV(new V1(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class kt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(cu(t,kt._jsonSchema))return new kt(e,r||null,new we(et.fromString(t.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Pt("string",kt._jsonSchemaVersion),referencePath:Pt("string")};class Yi extends ls{constructor(e,t,r){super(e,t,eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new we(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function yO(n,e,...t){if(n=on(n),D1("collection","path",e),n instanceof Jh){const r=et.fromString(e,...t);return G_(r),new Yi(n,null,r)}{if(!(n instanceof kt||n instanceof Yi))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return G_(r),new Yi(n.firestore,null,r)}}function XI(n,e,...t){if(n=on(n),arguments.length===1&&(e=Km.newId()),D1("doc","path",e),n instanceof Jh){const r=et.fromString(e,...t);return q_(r),new kt(n,null,new we(r))}{if(!(n instanceof kt||n instanceof Yi))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return q_(r),new kt(n.firestore,n instanceof Yi?n.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="AsyncQueue";class Ow{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AI(this,"async_queue_retry"),this._c=()=>{const r=rp();r&&ce(Mw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ri;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Aa(e))throw e;ce(Mw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",Lw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=fg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Lw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Lw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Zh extends Jh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new Ow,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ow(e),this._firestoreClient=void 0,await e}}}function vO(n,e){const t=typeof n=="object"?n:qm(),r=typeof n=="string"?n:yh,o=Fh(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=y1("firestore");a&&gO(o,...a)}return o}function vg(n){if(n._terminated)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_O(n),n._firestoreClient}function _O(n){const e=n._freezeSettings(),t=(function(o,a,u,d){return new BV(o,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,KI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new hO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Ht.fromBase64String(e))}catch(t){throw new le(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new On(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Pt("string",On._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:Pt("string",Pr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new kr(e.vectorValues);throw new le(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:Pt("string",kr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=/^__.*__$/;class TO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}function YI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:n})}}class Tg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YI(this.Ac)&&wO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qh(e)}Cc(e,t,r,o=!1){return new Tg({Ac:e,methodName:t,Dc:r,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JI(n){const e=n._freezeSettings(),t=Qh(n._databaseId);return new EO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IO(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);tx("Data must be an object, but it was:",u,r);const d=ZI(r,u);let f,m;if(a.merge)f=new Xn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const E=SO(e,w,t);if(!u.contains(E))throw new le(K.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);PO(g,E)||g.push(E)}f=new Xn(g),m=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,m=u.fieldTransforms;return new TO(new Mn(d),f,m)}class Eg extends wg{_toFieldTransform(e){return new fD(e.path,new eu)}isEqual(e){return e instanceof Eg}}function xO(n,e,t,r=!1){return Ig(t,n.Cc(r?4:3,e))}function Ig(n,e){if(ex(n=on(n)))return tx("Unsupported field value:",e,n),ZI(n,e);if(n instanceof wg)return(function(r,o){if(!YI(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let u=0;for(const d of r){let f=Ig(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=it.fromDate(r);return{timestampValue:Eh(o.serializer,a)}}if(r instanceof it){const a=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,a)}}if(r instanceof Pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:mI(o.serializer,r._byteString)};if(r instanceof kt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ig(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof kr)return(function(u,d){return{mapValue:{fields:{[$1]:{stringValue:H1},[vh]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return tg(d.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Uh(r)}`)})(n,e)}function ZI(n,e){const t={};return L1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(n,((r,o)=>{const a=Ig(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function ex(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof Pr||n instanceof On||n instanceof kt||n instanceof wg||n instanceof kr)}function tx(n,e,t){if(!ex(t)||!M1(t)){const r=Uh(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function SO(n,e,t){if((e=on(e))instanceof _g)return e._internalPath;if(typeof e=="string")return nx(n,e);throw Ah("Field path arguments must be of type string or ",n,!1,void 0,t)}const AO=new RegExp("[~\\*/\\[\\]]");function nx(n,e,t){if(e.search(AO)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _g(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ah(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new le(K.INVALID_ARGUMENT,d+n+f)}function PO(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kO extends rx{data(){return super.data()}}function xg(n,e){return typeof e=="string"?nx(n,e):e instanceof _g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class Ag extends Sg{}function RO(n,e,...t){let r=[];e instanceof Sg&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof kg)).length,d=a.filter((f=>f instanceof Pg)).length;if(u>1||u>0&&d>0)throw new le(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Pg extends Ag{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Pg(e,t,r)}_apply(e){const t=this._parse(e);return ix(e._query,t),new ls(e.firestore,e.converter,Hp(e._query,t))}_parse(e){const t=JI(e.firestore);return(function(a,u,d,f,m,g,w){let E;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Fw(w,g);const O=[];for(const F of w)O.push(jw(f,a,F));E={arrayValue:{values:O}}}else E=jw(f,a,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Fw(w,g),E=xO(d,u,w,g==="in"||g==="not-in");return At.create(m,g,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class kg extends Sg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)ix(u,f),u=Hp(u,f)})(e._query,t),new ls(e.firestore,e.converter,Hp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cg extends Ag{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cg(e,t)}_apply(e){const t=(function(o,a,u){if(o.startAt!==null)throw new le(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(a,u)})(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,(function(o,a){const u=o.explicitOrderBy.concat([a]);return new Pa(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function bO(n,e="asc"){const t=e,r=xg("orderBy",n);return Cg._create(r,t)}class Rg extends Ag{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Rg(e,t,r)}_apply(e){return new ls(e.firestore,e.converter,wh(e._query,this._limit,this._limitType))}}function NO(n){return RV("limit",n),Rg._create("limit",n,"F")}function jw(n,e,t){if(typeof(t=on(t))=="string"){if(t==="")throw new le(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J1(e)&&t.indexOf("/")!==-1)throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(et.fromString(t));if(!we.isDocumentKey(r))throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tw(n,new we(r))}if(t instanceof kt)return tw(n,t._key);throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(t)}.`)}function Fw(n,e){if(!Array.isArray(n)||n.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ix(n,e){const t=(function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class VO{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return no(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[vh].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new kr(t)}convertGeoPoint(e){return new Pr(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$h(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const t=ns(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=et.fromString(e);Xe(TI(r),9688,{name:e});const o=new Yl(r.get(1),r.get(3)),a=new we(r.popFirst(5));return o.isEqual(t)||li(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Rl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qs extends rx{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:Pt("string",qs._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class th extends qs{data(e={}){return super.data(e)}}class oa{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Rl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new th(this._firestore,this._userDataWriter,r.key,r,new Rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((d=>{const f=new th(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Rl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new th(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Rl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,g=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:MO(d.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n){n=Ys(n,kt);const e=Ys(n.firestore,Zh);return pO(vg(e),n._key).then((t=>jO(e,n,t)))}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:Pt("string",oa._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class ox extends VO{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function OO(n){n=Ys(n,ls);const e=Ys(n.firestore,Zh),t=vg(e),r=new ox(e);return CO(n._query),mO(t,n._query).then((o=>new oa(e,r,n,o)))}function Uw(n,e,t){n=Ys(n,kt);const r=Ys(n.firestore,Zh),o=DO(n.converter,e,t);return LO(r,[IO(JI(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ii.none())])}function LO(n,e){return(function(r,o){const a=new ri;return r.asyncQueue.enqueueAndForget((async()=>nO(await fO(r),o,a))),a.promise})(vg(n),e)}function jO(n,e,t){const r=t.docs.get(e._key),o=new ox(n);return new qs(n,o,e._key,r,new Rl(t.hasPendingWrites,t.fromCache),e.converter)}function sp(){return new Eg("serverTimestamp")}(function(e,t=!0){(function(o){xa=o})(to),Qs(new es("firestore",((r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Zh(new TV(r.getProvider("auth-internal")),new xV(u,r.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new le(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(m.options.projectId,g)})(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),xr(z_,$_,e),xr(z_,$_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firebasestorage.googleapis.com",FO="storageBucket",UO=120*1e3,BO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Vr{constructor(e,t,r=0){super(op(e),`Firebase Storage: ${t} (${op(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return op(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var br;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(br||(br={}));function op(n){return"storage/"+n}function zO(){const n="An unknown error occurred, please check the error payload for server response.";return new Dr(br.UNKNOWN,n)}function $O(){return new Dr(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HO(){return new Dr(br.CANCELED,"User canceled the upload/download.")}function WO(n){return new Dr(br.INVALID_URL,"Invalid URL '"+n+"'.")}function qO(n){return new Dr(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Bw(n){return new Dr(br.INVALID_ARGUMENT,n)}function lx(){return new Dr(br.APP_DELETED,"The Firebase app was deleted.")}function GO(n){return new Dr(br.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Yn.makeFromUrl(e,t)}catch{return new Yn(e,"")}if(r.path==="")return r;throw qO(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(ne){ne.path_=decodeURIComponent(ne.path)}const g="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${w}/${g}/b/${o}/o${E}`,"i"),O={bucket:1,path:3},F=t===ax?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",q=new RegExp(`^https?://${F}/${o}/${M}`,"i"),G=[{regex:d,indices:f,postModify:a},{regex:A,indices:O,postModify:m},{regex:q,indices:{bucket:1,path:2},postModify:m}];for(let ne=0;ne<G.length;ne++){const re=G[ne],ae=re.regex.exec(e);if(ae){const R=ae[re.indices.bucket];let I=ae[re.indices.path];I||(I=""),r=new Yn(R,I),re.postModify(r);break}}if(r==null)throw WO(e);return r}}class KO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n,e,t){let r=1,o=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function g(...M){m||(m=!0,e.apply(null,M))}function w(M){o=setTimeout(()=>{o=null,n(A,f())},M)}function E(){a&&clearTimeout(a)}function A(M,...q){if(m){E();return}if(M){E(),g.call(null,M,...q);return}if(f()||u){E(),g.call(null,M,...q);return}r<64&&(r*=2);let G;d===1?(d=2,G=0):G=(r+Math.random())*1e3,w(G)}let O=!1;function F(M){O||(O=!0,E(),!m&&(o!==null?(M||(d=2),clearTimeout(o),w(0)):M||(d=1)))}return w(0),a=setTimeout(()=>{u=!0,F(!0)},t),F}function XO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n){return n!==void 0}function zw(n,e,t,r){if(r<e)throw Bw(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Bw(`Invalid value for '${n}'. Expected ${t} or less.`)}function JO(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ph;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ph||(Ph={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,t,r,o,a,u,d,f,m,g,w,E=!0,A=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,F)=>{this.resolve_=O,this.reject_=F,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Hc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Ph.NO_ERROR,f=a.getStatus();if(!d||ZO(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Ph.ABORT;r(!1,new Hc(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Hc(m,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());YO(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=zO();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(o.canceled){const f=this.appDelete_?lx():HO();u(f)}else{const f=$O();u(f)}};this.canceled_?t(!1,new Hc(!1,null,!0)):this.backoffId_=QO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function tL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function nL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function iL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function sL(n,e,t,r,o,a,u=!0,d=!1){const f=JO(n.urlParams),m=n.url+f,g=Object.assign({},n.headers);return rL(g,e),tL(g,t),nL(g,a),iL(g,r),new eL(m,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function aL(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this._service=e,t instanceof Yn?this._location=t:this._location=Yn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kh(e,t)}get root(){const e=new Yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aL(this._location.path)}get storage(){return this._service}get parent(){const e=oL(this._location.path);if(e===null)return null;const t=new Yn(this._location.bucket,e);return new kh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw GO(e)}}function $w(n,e){const t=e?.[FO];return t==null?null:Yn.makeFromBucketSpec(t,n)}function lL(n,e,t,r={}){n.host=`${e}:${t}`;const o=eo(e);o&&(zm(`https://${n.host}/b`),$m("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:w1(a,n.app.options.projectId))}class uL{constructor(e,t,r,o,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=ax,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UO,this._maxUploadRetryTime=BO,this._requests=new Set,o!=null?this._bucket=Yn.makeFromBucketSpec(o,this._host):this._bucket=$w(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yn.makeFromBucketSpec(this._url,e):this._bucket=$w(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kh(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new KO(lx());{const u=sL(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const Hw="@firebase/storage",Ww="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="storage";function cL(n=qm(),e){n=on(n);const r=Fh(n,ux).getImmediate({identifier:e}),o=y1("storage");return o&&hL(r,...o),r}function hL(n,e,t,r={}){lL(n,e,t,r)}function dL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new uL(t,r,o,e,to)}function fL(){Qs(new es(ux,dL,"PUBLIC").setMultipleInstances(!0)),xr(Hw,Ww,""),xr(Hw,Ww,"esm2020")}fL();var pL="firebase",mL="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(pL,mL,"app");function cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gL=cx,hx=new lu("auth","Firebase",cx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Hm("@firebase/auth");function yL(n,...e){Ch.logLevel<=Ue.WARN&&Ch.warn(`Auth (${to}): ${n}`,...e)}function nh(n,...e){Ch.logLevel<=Ue.ERROR&&Ch.error(`Auth (${to}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(n,...e){throw Ng(n,...e)}function Zn(n,...e){return Ng(n,...e)}function bg(n,e,t){const r={...gL(),[e]:t};return new lu("auth","Firebase",r).create(e,{appName:n.name})}function Gs(n){return bg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vL(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nr(n,"argument-error"),bg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ng(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hx.create(n,...e)}function Ce(n,e,...t){if(!n)throw Ng(e,...t)}function ti(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nh(e),new Error(e)}function ci(n,e){n||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){return typeof self<"u"&&self.location?.href||""}function _L(){return qw()==="http:"||qw()==="https:"}function qw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_L()||J2()||"connection"in navigator)?navigator.onLine:!0}function TL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=Q2()||Z2()}get(){return wL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(n,e){ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xL=new mu(3e4,6e4);function Dg(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ca(n,e,t,r,o={}){return fx(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=uu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return Y2()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&eo(n.emulatorConfig.host)&&(m.credentials="include"),dx.fetch()(await px(n,n.config.apiHost,t,d),m)})}async function fx(n,e,t){n._canInitEmulator=!1;const r={...EL,...e};try{const o=new AL(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Wc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Wc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Wc(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw bg(n,g,m);Nr(n,g)}}catch(o){if(o instanceof Vr)throw o;Nr(n,"network-request-failed",{message:String(o)})}}async function SL(n,e,t,r,o={}){const a=await Ca(n,e,t,r,o);return"mfaPendingCredential"in a&&Nr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function px(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Vg(n.config,o):`${n.config.apiScheme}://${o}`;return IL.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class AL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),xL.get())})}}function Wc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Zn(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(n,e){return Ca(n,"POST","/v1/accounts:delete",e)}async function Rh(n,e){return Ca(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kL(n,e=!1){const t=on(n),r=await t.getIdToken(e),o=Mg(r);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Bl(ap(o.auth_time)),issuedAtTime:Bl(ap(o.iat)),expirationTime:Bl(ap(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ap(n){return Number(n)*1e3}function Mg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=m1(t);return o?JSON.parse(o):(nh("Failed to decode base64 JWT payload"),null)}catch(o){return nh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Gw(n){const e=Mg(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Vr&&CL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function CL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(n){const e=n.auth,t=await n.getIdToken(),r=await ru(n,Rh(e,{idToken:t}));Ce(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?mx(o.providerUserInfo):[],u=NL(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!u?.length,m=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function bL(n){const e=on(n);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NL(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function mx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(n,e){const t=await fx(n,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await px(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&eo(n.emulatorConfig.host)&&(f.credentials="include"),dx.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function DL(n,e){return Ca(n,"POST","/v2/accounts:revokeToken",Dg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=Gw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await VL(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new aa;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ce(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ce(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new aa,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new RL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ru(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kL(this,e)}reload(){return bL(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Gs(this.auth));const e=await this.getIdToken();return await ru(this,PL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:A,providerData:O,stsTokenManager:F}=t;Ce(w&&F,e,"internal-error");const M=aa.fromJSON(this.name,F);Ce(typeof w=="string",e,"internal-error"),zi(r,e.name),zi(o,e.name),Ce(typeof E=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),zi(a,e.name),zi(u,e.name),zi(d,e.name),zi(f,e.name),zi(m,e.name),zi(g,e.name);const q=new Jn({uid:w,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:M,createdAt:m,lastLoginAt:g});return O&&Array.isArray(O)&&(q.providerData=O.map(Y=>({...Y}))),f&&(q._redirectEventId=f),q}static async _fromIdTokenResponse(e,t,r=!1){const o=new aa;o.updateFromServerResponse(t);const a=new Jn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await bh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?mx(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new aa;d.updateFromIdToken(r);const f=new Jn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Map;function ni(n){ci(n instanceof Function,"Expected a class definition");let e=Kw.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Kw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gx.type="NONE";const Qw=gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n,e,t){return`firebase:${n}:${e}:${t}`}class la{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,a),this.fullPersistenceKey=rh("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Rh(this.auth,{idToken:e}).catch(()=>{});return t?Jn._fromGetAccountInfoResponse(this.auth,t,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new la(ni(Qw),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ni(Qw);const u=rh(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const g=await m._get(u);if(g){let w;if(typeof g=="string"){const E=await Rh(e,{idToken:g}).catch(()=>{});if(!E)break;w=await Jn._fromGetAccountInfoResponse(e,E,g)}else w=Jn._fromJSON(e,g);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new la(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new la(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ex(e))return"Blackberry";if(Ix(e))return"Webos";if(vx(e))return"Safari";if((e.includes("chrome/")||_x(e))&&!e.includes("edge/"))return"Chrome";if(Tx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function yx(n=tn()){return/firefox\//i.test(n)}function vx(n=tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _x(n=tn()){return/crios\//i.test(n)}function wx(n=tn()){return/iemobile/i.test(n)}function Tx(n=tn()){return/android/i.test(n)}function Ex(n=tn()){return/blackberry/i.test(n)}function Ix(n=tn()){return/webos/i.test(n)}function Og(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ML(n=tn()){return Og(n)&&!!window.navigator?.standalone}function OL(){return eN()&&document.documentMode===10}function xx(n=tn()){return Og(n)||Tx(n)||Ix(n)||Ex(n)||/windows phone/i.test(n)||wx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n,e=[]){let t;switch(n){case"Browser":t=Xw(tn());break;case"Worker":t=`${Xw(tn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(n,e={}){return Ca(n,"GET","/v2/passwordPolicy",Dg(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=6;class UL{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??FL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yw(this),this.idTokenSubscription=new Yw(this),this.beforeStateQueue=new LL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await la.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Rh(this,{idToken:e}),r=await Jn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Gs(this));const t=e?on(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jL(this),t=new UL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await DL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ni(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await la.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ed(n){return on(n)}class Yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=lN(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zL(n){Lg=n}function $L(n){return Lg.loadJS(n)}function HL(){return Lg.gapiScript}function WL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(n,e){const t=Fh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ks(a,e??{}))return o;Nr(o,"already-initialized")}return t.initialize({options:e})}function GL(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ni);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function KL(n,e,t){const r=ed(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=Ax(e),{host:u,port:d}=QL(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Ks(m,r.config.emulator)&&Ks(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,eo(u)?(zm(`${a}//${u}${f}`),$m("Auth",!0)):XL()}function Ax(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QL(n){const e=Ax(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:Jw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Jw(u)}}}function Jw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function XL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,t){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(n,e){return SL(n,"POST","/v1/accounts:signInWithIdp",Dg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="http://localhost";class Zs extends Px{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new Zs(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ua(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ua(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ua(e,t)}buildRequest(){const e={requestUri:YL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends jg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends gu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zs._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ei.credential(t,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends gu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends gu{constructor(){super("twitter.com")}static credential(e,t){return Zs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qi.credential(t,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Jn._fromIdTokenResponse(e,r,o),u=Zw(r);return new va({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Zw(r);return new va({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Zw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Vr{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Nh(e,t,r,o)}}function kx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(n,a,e,r):a})}async function JL(n,e,t=!1){const r=await ru(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return va._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(n,e,t=!1){const{auth:r}=n;if(Dn(r.app))return Promise.reject(Gs(r));const o="reauthenticate";try{const a=await ru(n,kx(r,o,e,n),t);Ce(a.idToken,r,"internal-error");const u=Mg(a.idToken);Ce(u,r,"internal-error");const{sub:d}=u;return Ce(n.uid===d,r,"user-mismatch"),va._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Nr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(n,e,t=!1){if(Dn(n.app))return Promise.reject(Gs(n));const r="signIn",o=await kx(n,r,e),a=await va._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function t4(n,e,t,r){return on(n).onIdTokenChanged(e,t,r)}function n4(n,e,t){return on(n).beforeAuthStateChanged(e,t)}function r4(n,e,t,r){return on(n).onAuthStateChanged(e,t,r)}function i4(n){return on(n).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=1e3,o4=10;class Rx extends Cx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);OL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,o4):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},s4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rx.type="LOCAL";const a4=Rx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx extends Cx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bx.type="SESSION";const Nx=bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new td(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await l4(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Fg("",20);o.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function c4(n){Cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function h4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d4(){return navigator?.serviceWorker?.controller||null}function f4(){return Vx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="firebaseLocalStorageDb",p4=1,Dh="firebaseLocalStorage",Mx="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nd(n,e){return n.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function m4(){const n=indexedDB.deleteDatabase(Dx);return new yu(n).toPromise()}function nm(){const n=indexedDB.open(Dx,p4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Dh,{keyPath:Mx})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Dh)?e(r):(r.close(),await m4(),e(await nm()))})})}async function eT(n,e,t){const r=nd(n,!0).put({[Mx]:e,value:t});return new yu(r).toPromise()}async function g4(n,e){const t=nd(n,!1).get(e),r=await new yu(t).toPromise();return r===void 0?null:r.value}function tT(n,e){const t=nd(n,!0).delete(e);return new yu(t).toPromise()}const y4=800,v4=3;class Ox{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>v4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(f4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h4(),!this.activeServiceWorker)return;this.sender=new u4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await eT(e,Vh,"1"),await tT(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>eT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>g4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=nd(o,!1).getAll();return new yu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ox.type="LOCAL";const _4=Ox;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n,e){return e?ni(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Px{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ua(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ua(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function w4(n){return e4(n.auth,new Ug(n),n.bypassAuthState)}function T4(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),ZL(t,new Ug(n),n.bypassAuthState)}async function E4(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),JL(t,new Ug(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w4;case"linkViaPopup":case"linkViaRedirect":return E4;case"reauthViaPopup":case"reauthViaRedirect":return T4;default:Nr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new mu(2e3,1e4);async function x4(n,e,t){if(Dn(n.app))return Promise.reject(Zn(n,"operation-not-supported-in-this-environment"));const r=ed(n);vL(n,e,jg);const o=Lx(r,t);return new $s(r,"signInViaPopup",e,o).executeNotNull()}class $s extends jx{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I4.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="pendingRedirect",ih=new Map;class A4 extends jx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const r=await P4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P4(n,e){const t=R4(e),r=C4(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function k4(n,e){ih.set(n._key(),e)}function C4(n){return ni(n._redirectPersistence)}function R4(n){return rh(S4,n.config.apiKey,n.name)}async function b4(n,e,t=!1){if(Dn(n.app))return Promise.reject(Gs(n));const r=ed(n),o=Lx(r,e),u=await new A4(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=600*1e3;class V4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Fx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Zn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N4&&this.cachedEventUids.clear(),this.cachedEventUids.has(nT(e))}saveEventToCache(e){this.cachedEventUids.add(nT(e)),this.lastProcessedEventTime=Date.now()}}function nT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Fx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function D4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(n,e={}){return Ca(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L4=/^https?/;async function j4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await M4(n);for(const t of e)try{if(F4(t))return}catch{}Nr(n,"unauthorized-domain")}function F4(n){const e=em(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!L4.test(t))return!1;if(O4.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new mu(3e4,6e4);function rT(){const n=Cr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function B4(n){return new Promise((e,t)=>{function r(){rT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rT(),t(Zn(n,"network-request-failed"))},timeout:U4.get()})}if(Cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cr().gapi?.load)r();else{const o=WL("iframefcb");return Cr()[o]=()=>{gapi.load?r():t(Zn(n,"network-request-failed"))},$L(`${HL()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw sh=null,e})}let sh=null;function z4(n){return sh=sh||B4(n),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=new mu(5e3,15e3),H4="__/auth/iframe",W4="emulator/auth/iframe",q4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K4(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Vg(e,W4):`https://${n.config.authDomain}/${H4}`,r={apiKey:e.apiKey,appName:n.name,v:to},o=G4.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${uu(r).slice(1)}`}async function Q4(n){const e=await z4(n),t=Cr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:K4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q4,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Zn(n,"network-request-failed"),d=Cr().setTimeout(()=>{a(u)},$4.get());function f(){Cr().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y4=500,J4=600,Z4="_blank",e5="http://localhost";class iT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t5(n,e,t,r=Y4,o=J4){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...X4,width:r.toString(),height:o.toString(),top:a,left:u},m=tn().toLowerCase();t&&(d=_x(m)?Z4:t),yx(m)&&(e=e||e5,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[A,O])=>`${E}${A}=${O},`,"");if(ML(m)&&d!=="_self")return n5(e||"",d),new iT(null);const w=window.open(e||"",d,g);Ce(w,n,"popup-blocked");try{w.focus()}catch{}return new iT(w)}function n5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="__/auth/handler",i5="emulator/auth/handler",s5=encodeURIComponent("fac");async function sT(n,e,t,r,o,a){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:to,eventId:o};if(e instanceof jg){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",aN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof gu){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),m=f?`#${s5}=${encodeURIComponent(f)}`:"";return`${o5(n)}?${uu(d).slice(1)}${m}`}function o5({config:n}){return n.emulator?Vg(n,i5):`https://${n.authDomain}/${r5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class a5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nx,this._completeRedirectFn=b4,this._overrideRedirectResult=k4}async _openPopup(e,t,r,o){ci(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await sT(e,t,r,em(),o);return t5(e,a,Fg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await sT(e,t,r,em(),o);return c4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ci(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Q4(e),r=new V4(e);return t.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lp,{type:lp},o=>{const a=o?.[0]?.[lp];a!==void 0&&t(!!a),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=j4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xx()||vx()||Og()}}const l5=a5;var oT="@firebase/auth",aT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h5(n){Qs(new es("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sx(n)},m=new BL(r,o,a,f);return GL(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qs(new es("auth-internal",e=>{const t=ed(e.getProvider("auth").getImmediate());return(r=>new u5(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(oT,aT,c5(n)),xr(oT,aT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=300,f5=_1("authIdTokenMaxAge")||d5;let lT=null;const p5=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>f5)return;const o=t?.token;lT!==o&&(lT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function m5(n=qm()){const e=Fh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qL(n,{popupRedirectResolver:l5,persistence:[_4,a4,Nx]}),r=_1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=p5(a.toString());n4(t,u,()=>u(t.currentUser)),t4(t,d=>u(d))}}const o=g1("auth");return o&&KL(t,`http://${o}`),t}function g5(){return document.getElementsByTagName("head")?.[0]??document}zL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Zn("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",g5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h5("Browser");const y5={apiKey:"AIzaSyBrYQhIUk_KkjDViOORGL9CDo-OOc-auEc",authDomain:"csc4004-1-4-team04.firebaseapp.com",projectId:"csc4004-1-4-team04",storageBucket:"csc4004-1-4-team04.firebasestorage.app",messagingSenderId:"195272516733",appId:"1:195272516733:web:5b008b9bd5f7c35462bd14"},Bg=I1(y5),rm=m5(Bg),zg=vO(Bg);cL(Bg);const Ux=new ei;Ux.setCustomParameters({prompt:"select_account"});async function v5(n,e){const t=XI(zg,"users",n);(await sx(t)).exists()?await Uw(t,{...e,updatedAt:sp()},{merge:!0}):await Uw(t,{...e,uid:n,createdAt:sp(),updatedAt:sp()})}async function _5(n){const e=XI(zg,"users",n),t=await sx(e);return t.exists()?t.data():null}async function Bx(n,e=10){const t=yO(zg,"users",n,"presentations"),r=RO(t,bO("createdAt","desc"),NO(e)),o=await OO(r),a=[];return o.forEach(u=>{a.push({id:u.id,...u.data()})}),a}async function w5(n){const e=await Bx(n,100);if(e.length===0)return{totalPresentations:0,averageScore:0,improvement:0,skillProgress:{clarity:0,pace:0,confidence:0,engagement:0}};const t=e.reduce((f,m)=>f+m.overallScore,0),r=Math.round(t/e.length),o=e.slice(0,5),a=e.slice(5,10);let u=0;if(a.length>0){const f=o.reduce((g,w)=>g+w.overallScore,0)/o.length,m=a.reduce((g,w)=>g+w.overallScore,0)/a.length;u=Math.round((f-m)/m*100)}const d={clarity:Math.round(e.reduce((f,m)=>f+m.metrics.clarity,0)/e.length),pace:Math.round(e.reduce((f,m)=>f+m.metrics.pace,0)/e.length),confidence:Math.round(e.reduce((f,m)=>f+m.metrics.confidence,0)/e.length),engagement:Math.round(e.reduce((f,m)=>f+m.metrics.engagement,0)/e.length)};return{totalPresentations:e.length,averageScore:r,improvement:u,skillProgress:d}}function T5({user:n,onNavigate:e}){const[t,r]=te.useState([]),[o,a]=te.useState(null),[u,d]=te.useState(!0);te.useEffect(()=>{n&&f()},[n]);const f=async()=>{if(n)try{d(!0);const[A,O]=await Promise.all([Bx(n.uid,10),w5(n.uid)]);r(A),a(O)}catch(A){console.error("   :",A)}finally{d(!1)}},m={name:n?.name||"",email:n?.email||"",photoURL:n?.photoURL,totalPresentations:o?.totalPresentations||0,averageScore:o?.averageScore||0,improvement:o?.improvement||0,recentPresentations:t.length>0?t.map(A=>({id:A.id,title:A.title,date:A.timestamp?.toDate?.()?.toISOString()||new Date().toISOString(),score:A.overallScore,duration:A.duration})):[],skillProgress:o?.skillProgress||{clarity:0,pace:0,confidence:0,engagement:0}},g=A=>new Date(A).toLocaleDateString("ko-KR",{month:"long",day:"numeric"}),w=A=>`${Math.floor(A/60)}`,E=A=>A>=80?"text-green-400":A>=60?"text-blue-400":"text-orange-400";return S.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:S.jsxs("div",{className:"absolute inset-0 opacity-30",children:[S.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-blue-500/30 rounded-full blur-3xl"}),S.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-green-500/30 rounded-full blur-3xl"})]})}),S.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[S.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[S.jsx("h1",{className:"text-4xl mb-2 text-white",children:""}),S.jsx("p",{className:"text-white/60",children:"   "})]}),S.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[S.jsxs(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-8 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 text-center",children:[m.photoURL?S.jsx("img",{src:m.photoURL,alt:m.name,className:"w-24 h-24 mx-auto mb-4 rounded-full object-cover"}):S.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center",children:S.jsx(HE,{className:"w-12 h-12 text-white"})}),S.jsx("h2",{className:"text-2xl text-white mb-2",children:m.name}),S.jsx("p",{className:"text-white/60",children:"  "})]}),S.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"p-6 rounded-xl bg-white/5 backdrop-blur-sm border border-white/10",children:[S.jsx(ZR,{className:"w-8 h-8 text-blue-400 mb-3"}),S.jsx("div",{className:"text-3xl text-white mb-1",children:m.totalPresentations}),S.jsx("div",{className:"text-sm text-white/60",children:" "})]}),S.jsxs("div",{className:"p-6 rounded-xl bg-white/5 backdrop-blur-sm border border-white/10",children:[S.jsx(zE,{className:"w-8 h-8 text-green-400 mb-3"}),S.jsx("div",{className:"text-3xl text-white mb-1",children:m.averageScore}),S.jsx("div",{className:"text-sm text-white/60",children:" "})]})]}),S.jsxs(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"p-6 rounded-xl bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/20",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jsx(jm,{className:"w-6 h-6 text-green-400"}),S.jsx("span",{className:"text-white",children:" "})]}),S.jsxs("div",{className:"text-4xl text-green-400 mb-2",children:["+",m.improvement,"%"]}),S.jsx("p",{className:"text-sm text-white/60",children:"   "})]}),S.jsx(Jt,{onClick:()=>e("record"),className:"w-full bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white border-0",children:"  "})]}),S.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[S.jsxs(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-8 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10",children:[S.jsx("h2",{className:"text-2xl mb-6 text-white",children:" "}),m.recentPresentations.length===0?S.jsxs("div",{className:"text-center py-12",children:[S.jsx($E,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),S.jsx("p",{className:"text-white/60 mb-4",children:"   "}),S.jsx(Jt,{onClick:()=>e("record"),className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white border-0",children:"  "})]}):S.jsx("div",{className:"space-y-4",children:m.recentPresentations.map((A,O)=>S.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.1},className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-blue-500/50 transition-all cursor-pointer",onClick:()=>e("results"),children:S.jsxs("div",{className:"flex items-start justify-between mb-2",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"text-white mb-1",children:A.title}),S.jsxs("div",{className:"flex items-center gap-3 text-sm text-white/60",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx(KR,{className:"w-3 h-3"}),S.jsx("span",{children:g(A.date)})]}),S.jsx("span",{children:""}),S.jsx("span",{children:w(A.duration)})]})]}),S.jsx("div",{className:`text-2xl ${E(A.score)}`,children:A.score})]})},A.id))})]}),S.jsxs(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"p-8 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10",children:[S.jsx("h2",{className:"text-2xl mb-6 text-white",children:" "}),S.jsx("div",{className:"space-y-6",children:Object.entries(m.skillProgress).map(([A,O],F)=>{const M={clarity:" ",pace:" ",confidence:"",engagement:" "};return S.jsxs(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+F*.1},children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("span",{className:"text-white/80",children:M[A]}),S.jsxs("span",{className:"text-white",children:[O,"/100"]})]}),S.jsx(L2,{value:O,className:"h-2"})]},A)})}),S.jsx("div",{className:"mt-6 pt-6 border-t border-white/10",children:S.jsx("p",{className:"text-sm text-white/60",children:"    ! "})})]})]})]})]})]})}function E5({onLogin:n,onCancel:e}){const[t,r]=te.useState(""),[o,a]=te.useState(!1),u=async()=>{try{a(!0),r("");const f=(await x4(rm,Ux)).user;await v5(f.uid,{uid:f.uid,email:f.email||"",displayName:f.displayName||"",photoURL:f.photoURL||void 0,createdAt:null,updatedAt:null}),n({uid:f.uid,email:f.email||"",name:f.displayName||"",photoURL:f.photoURL||void 0})}catch(d){console.error("Google Sign-In Error:",d),d.code==="auth/popup-closed-by-user"?r("  .  ."):d.code==="auth/popup-blocked"?r(" .    ."):d.code==="auth/network-request-failed"?r("  .   ."):d.code==="auth/configuration-not-found"||d.message.includes("apiKey")?r("Firebase  . /lib/firebase.ts  Firebase   ."):r("   .  .")}finally{a(!1)}};return S.jsxs("div",{className:"relative min-h-screen overflow-hidden flex items-center justify-center",children:[S.jsxs("div",{className:"absolute inset-0 -z-10",children:[S.jsx(De.div,{className:"absolute inset-0 opacity-60",animate:{background:["radial-gradient(circle at 20% 50%, #3b82f6 0%, transparent 50%), radial-gradient(circle at 80% 80%, #10b981 0%, transparent 50%)","radial-gradient(circle at 60% 70%, #3b82f6 0%, transparent 50%), radial-gradient(circle at 20% 20%, #10b981 0%, transparent 50%)","radial-gradient(circle at 20% 50%, #3b82f6 0%, transparent 50%), radial-gradient(circle at 80% 80%, #10b981 0%, transparent 50%)"]},transition:{duration:15,repeat:1/0,ease:"linear"}}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950 via-slate-900/95 to-slate-950"})]}),S.jsx(De.div,{className:"absolute top-20 left-10 w-72 h-72 bg-blue-500/20 rounded-full blur-3xl",animate:{x:[0,100,0],y:[0,50,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),S.jsx(De.div,{className:"absolute bottom-20 right-10 w-96 h-96 bg-green-500/20 rounded-full blur-3xl",animate:{x:[0,-80,0],y:[0,-60,0]},transition:{duration:18,repeat:1/0,ease:"easeInOut"}}),S.jsx(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative z-10 w-full max-w-md mx-4",children:S.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center",children:S.jsx(db,{className:"w-8 h-8 text-white"})}),S.jsx("h2",{className:"text-3xl mb-2 text-white",children:""}),S.jsx("p",{className:"text-white/60",children:"Google   "})]}),S.jsxs("div",{className:"space-y-4",children:[t&&S.jsx(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-red-500/10 border border-red-500/30",children:S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx($E,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-red-400 mb-1",children:" "}),S.jsx("p",{className:"text-sm text-white/80",children:t})]})]})}),S.jsxs(Jt,{onClick:u,disabled:o,className:"w-full bg-white hover:bg-gray-100 text-gray-900 border-0 h-12 gap-3",children:[S.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[S.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),S.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),S.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),S.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o?" ...":"Google "]})]}),S.jsx("div",{className:"mt-6 text-center",children:S.jsx("button",{onClick:e,className:"text-sm text-white/40 hover:text-white/60 transition-colors",children:" "})})]})})]})}function up({children:n,isAuthenticated:e,onNavigateToAuth:t}){return e?S.jsx(S.Fragment,{children:n}):S.jsxs("div",{className:"relative min-h-screen overflow-hidden flex items-center justify-center",children:[S.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:S.jsxs("div",{className:"absolute inset-0 opacity-30",children:[S.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-blue-500/30 rounded-full blur-3xl"}),S.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-green-500/30 rounded-full blur-3xl"})]})}),S.jsxs(De.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center max-w-md mx-4",children:[S.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-blue-500 to-green-500 flex items-center justify-center",children:S.jsx(cb,{className:"w-10 h-10 text-white"})}),S.jsx("h2",{className:"text-3xl mb-4 text-white",children:" "}),S.jsx("p",{className:"text-white/60 mb-8",children:"    "}),S.jsx(Jt,{onClick:t,className:"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white border-0 px-8",children:""})]})]})}function I5(){return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 text-center",children:[S.jsx(De.div,{animate:{rotate:360},transition:{repeat:1/0,duration:2,ease:"linear"},children:S.jsx(lb,{className:"w-16 h-16 text-blue-400 mb-8 animate-spin"})}),S.jsx("h1",{className:"text-3xl text-white mb-2",children:"AI    ..."}),S.jsx("p",{className:"text-white/60",children:" 20~30   "})]})}function x5(){const[n,e]=te.useState("home"),[t,r]=te.useState(null),[o,a]=te.useState(null),[u,d]=te.useState(!0);te.useEffect(()=>{const A=r4(rm,async O=>{if(O){const F=await _5(O.uid);a({uid:O.uid,email:O.email||"",name:F?.displayName||O.displayName||"",photoURL:F?.photoURL||O.photoURL||void 0})}else a(null);d(!1)});return()=>A()},[]);const f=A=>{a(A),e("mypage")},m=async()=>{try{await i4(rm),a(null),e("home")}catch(A){console.error("Logout error:",A)}},g=()=>e(o?"mypage":"auth"),w=()=>e(o?"record":"auth"),E=()=>{if(u)return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-blue-500 to-green-500 animate-pulse"}),S.jsx("p",{className:"text-white/60",children:" ..."})]})});switch(n){case"home":return S.jsx(P_,{onNavigate:e});case"record":return S.jsx(up,{isAuthenticated:!!o,onNavigateToAuth:()=>e("auth"),children:S.jsx(x2,{user:o,onNavigate:e,onComplete:A=>{r(A),e("results")}})});case"loading":return S.jsx(I5,{});case"results":return S.jsx(up,{isAuthenticated:!!o,onNavigateToAuth:()=>e("auth"),children:S.jsx(S2,{user:o,results:t,onNavigate:e})});case"mypage":return S.jsx(up,{isAuthenticated:!!o,onNavigateToAuth:()=>e("auth"),children:S.jsx(T5,{user:o,onNavigate:e})});case"auth":return S.jsx(E5,{onLogin:f,onCancel:()=>e("home")});default:return S.jsx(P_,{onNavigate:e})}};return S.jsxs("div",{className:"min-h-screen flex flex-col",children:[S.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/20 backdrop-blur-lg border-b border-white/10",children:S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"flex items-center justify-between h-16",children:[S.jsxs("button",{onClick:()=>e("home"),className:"text-white flex items-center gap-2",children:[S.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-green-500"}),S.jsx("span",{className:"text-xl",children:"SpeakFlow"})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("button",{onClick:()=>e("home"),className:`px-4 py-2 rounded-lg transition-all ${n==="home"?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:S.jsx(ob,{className:"w-5 h-5"})}),S.jsx("button",{onClick:w,className:`px-4 py-2 rounded-lg transition-all ${n==="record"?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:S.jsx(Lm,{className:"w-5 h-5"})}),S.jsx("button",{onClick:g,className:`px-4 py-2 rounded-lg transition-all ${n==="mypage"||n==="auth"?"bg-white/20 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:S.jsx(HE,{className:"w-5 h-5"})}),o&&S.jsx("button",{onClick:m,className:"px-4 py-2 rounded-lg transition-all text-white/70 hover:text-white hover:bg-white/10",title:"",children:S.jsx(pb,{className:"w-5 h-5"})})]})]})})}),S.jsx("main",{className:"flex-1 pt-16",children:E()})]})}rA.createRoot(document.getElementById("root")).render(S.jsx(x5,{}));
